function FastClick(t,e){"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}var s;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,!FastClick.notNeeded(t)){for(var n=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,o=0,r=n.length;r>o;o++)a[n[o]]=i(a[n[o]],a);deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,s){var n=Node.prototype.removeEventListener;"click"===e?n.call(t,e,i.hijacked||i,s):n.call(t,e,i,s)},t.addEventListener=function(e,i,s){var n=Node.prototype.addEventListener;"click"===e?n.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),s):n.call(t,e,i,s)}),"function"==typeof t.onclick&&(s=t.onclick,t.addEventListener("click",function(t){s(t)},!1),t.onclick=null)}}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var i,s;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),s=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},FastClick.prototype.determineEventType=function(t){"use strict";return deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,i,s;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],deviceIsIOS){if(s=window.getSelection(),s.rangeCount&&!s.isCollapsed)return!0;if(!deviceIsIOS4){if(i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,i,s,n,a,o=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(a=t.changedTouches[0],o=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)||o,o.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=o.tagName.toLowerCase(),"label"===s){if(e=this.findControl(o)){if(this.focus(o),deviceIsAndroid)return!1;o=e}}else if(this.needsFocus(o))return t.timeStamp-i>100||deviceIsIOS&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(o),this.sendClick(o,t),deviceIsIOS&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(n=o.fastClickScrollParent,n&&n.fastClickLastScrollTop!==n.scrollTop)?!0:(this.needsClick(o)||(t.preventDefault(),this.sendClick(o,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,i;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t,e){"use strict";return new FastClick(t,e)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(t,e){"use strict";function i(){s.READY||(y.determineEventTypes(),g.each(s.gestures,function(t){S.register(t)}),y.onTouch(s.DOCUMENT,u,S.detect),y.onTouch(s.DOCUMENT,p,S.detect),s.READY=!0)}var s=function(t,e){return new s.Instance(t,e||{})};s.VERSION="1.0.11",s.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},s.HAS_POINTEREVENTS=t.navigator.pointerEnabled||t.navigator.msPointerEnabled,s.HAS_TOUCHEVENTS="ontouchstart"in t,s.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,s.NO_MOUSEEVENTS=s.HAS_TOUCHEVENTS&&t.navigator.userAgent.match(s.MOBILE_REGEX),s.EVENT_TYPES={},s.UPDATE_VELOCITY_INTERVAL=16,s.DOCUMENT=t.document;var n=s.DIRECTION_DOWN="down",a=s.DIRECTION_LEFT="left",o=s.DIRECTION_UP="up",r=s.DIRECTION_RIGHT="right",h=s.POINTER_MOUSE="mouse",c=s.POINTER_TOUCH="touch",d=s.POINTER_PEN="pen",l=s.EVENT_START="start",u=s.EVENT_MOVE="move",p=s.EVENT_END="end";s.plugins=s.plugins||{},s.gestures=s.gestures||{},s.READY=!1;var g=s.utils={extend:function(t,i,s){for(var n in i)t[n]!==e&&s||(t[n]=i[n]);return t},each:function(t,i,s){var n,a;if("forEach"in t)t.forEach(i,s);else if(t.length!==e){for(n=-1;a=t[++n];)if(i.call(s,a,n,t)===!1)return}else for(n in t)if(t.hasOwnProperty(n)&&i.call(s,t[n],n,t)===!1)return},inStr:function(t,e){return t.indexOf(e)>-1},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],i=[],s=[],n=[],a=Math.min,o=Math.max;return 1===t.length?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(g.each(t,function(t){e.push(t.pageX),i.push(t.pageY),s.push(t.clientX),n.push(t.clientY)}),{pageX:(a.apply(Math,e)+o.apply(Math,e))/2,pageY:(a.apply(Math,i)+o.apply(Math,i))/2,clientX:(a.apply(Math,s)+o.apply(Math,s))/2,clientY:(a.apply(Math,n)+o.apply(Math,n))/2})},getVelocity:function(t,e,i){return{x:Math.abs(e/t)||0,y:Math.abs(i/t)||0}},getAngle:function(t,e){var i=e.clientX-t.clientX,s=e.clientY-t.clientY;return 180*Math.atan2(s,i)/Math.PI},getDirection:function(t,e){var i=Math.abs(t.clientX-e.clientX),s=Math.abs(t.clientY-e.clientY);return i>=s?t.clientX-e.clientX>0?a:r:t.clientY-e.clientY>0?o:n},getDistance:function(t,e){var i=e.clientX-t.clientX,s=e.clientY-t.clientY;return Math.sqrt(i*i+s*s)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==o||t==n},toggleDefaultBehavior:function(t,e,i){if(e&&t&&t.style){g.each(["webkit","moz","Moz","ms","o",""],function(s){g.each(e,function(e,n){s&&(n=s+n.substring(0,1).toUpperCase()+n.substring(1)),n in t.style&&(t.style[n]=!i&&e)})});var s=function(){return!1};"none"==e.userSelect&&(t.onselectstart=!i&&s),"none"==e.userDrag&&(t.ondragstart=!i&&s)}}};s.Instance=function(t,e){var n=this;return i(),this.element=t,this.enabled=!0,this.options=g.extend(g.extend({},s.defaults),e||{}),this.options.stop_browser_behavior&&g.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,!1),this.eventStartHandler=y.onTouch(t,l,function(t){n.enabled&&S.startDetect(n,t)}),this.eventHandlers=[],this},s.Instance.prototype={on:function(t,e){var i=t.split(" ");return g.each(i,function(t){this.element.addEventListener(t,e,!1),this.eventHandlers.push({gesture:t,handler:e})},this),this},off:function(t,e){var i,s,n=t.split(" ");return g.each(n,function(t){for(this.element.removeEventListener(t,e,!1),i=-1;s=this.eventHandlers[++i];)s.gesture===t&&s.handler===e&&this.eventHandlers.splice(i,1)},this),this},trigger:function(t,e){e||(e={});var i=s.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e;var n=this.element;return g.hasParent(e.target,n)&&(n=e.target),n.dispatchEvent(i),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,e;for(this.options.stop_browser_behavior&&g.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,!0),t=-1;e=this.eventHandlers[++t];)this.element.removeEventListener(e.gesture,e.handler,!1);return this.eventHandlers=[],y.unbindDom(this.element,s.EVENT_TYPES[l],this.eventStartHandler),null}};var m=null,f=!1,v=!1,y=s.event={bindDom:function(t,e,i){var s=e.split(" ");g.each(s,function(e){t.addEventListener(e,i,!1)})},unbindDom:function(t,e,i){var s=e.split(" ");g.each(s,function(e){t.removeEventListener(e,i,!1)})},onTouch:function(t,e,i){var n=this,a=function(a){var o=a.type.toLowerCase();if(!g.inStr(o,"mouse")||!v){g.inStr(o,"touch")||g.inStr(o,"pointerdown")||g.inStr(o,"mouse")&&1===a.which?f=!0:g.inStr(o,"mouse")&&!a.which&&(f=!1),(g.inStr(o,"touch")||g.inStr(o,"pointer"))&&(v=!0);var r=0;f&&(s.HAS_POINTEREVENTS&&e!=p?r=w.updatePointer(e,a):g.inStr(o,"touch")?r=a.touches.length:v||(r=g.inStr(o,"up")?0:1),r>0&&e==p?e=u:r||(e=p),(r||null===m)&&(m=a),i.call(S,n.collectEventData(t,e,n.getTouchList(m,e),a)),s.HAS_POINTEREVENTS&&e==p&&(r=w.updatePointer(e,a))),r||(m=null,f=!1,v=!1,w.reset())}};return this.bindDom(t,s.EVENT_TYPES[e],a),a},determineEventTypes:function(){var t;t=s.HAS_POINTEREVENTS?w.getEvents():s.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],s.EVENT_TYPES[l]=t[0],s.EVENT_TYPES[u]=t[1],s.EVENT_TYPES[p]=t[2]},getTouchList:function(t){return s.HAS_POINTEREVENTS?w.getTouchList():t.touches?t.touches:(t.identifier=1,[t])},collectEventData:function(t,e,i,s){var n=c;return(g.inStr(s.type,"mouse")||w.matchType(h,s))&&(n=h),{center:g.getCenter(i),timeStamp:Date.now(),target:s.target,touches:i,eventType:e,pointerType:n,srcEvent:s,preventDefault:function(){var t=this.srcEvent;t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return S.stopDetect()}}}},w=s.PointerEvent={pointers:{},getTouchList:function(){var t=[];return g.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(t,e){return t==p?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e),Object.keys(this.pointers).length},matchType:function(t,e){if(!e.pointerType)return!1;var i=e.pointerType,s={};return s[h]=i===h,s[c]=i===c,s[d]=i===d,s[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},S=s.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:g.extend({},e),lastEvent:!1,lastVelocityEvent:!1,velocity:!1,name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst,i=e.options;return g.each(this.gestures,function(s){return this.stopped||i[s.name]===!1||e.enabled===!1||s.handler.call(s,t,e)!==!1?void 0:(this.stopDetect(),!1)},this),this.current&&(this.current.lastEvent=t),t.eventType==p&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=g.extend({},this.current),this.current=null,this.stopped=!0},getVelocityData:function(t,e,i,n){var a=this.current,o=a.lastVelocityEvent,r=a.velocity;o&&t.timeStamp-o.timeStamp>s.UPDATE_VELOCITY_INTERVAL?(r=g.getVelocity(t.timeStamp-o.timeStamp,t.center.clientX-o.center.clientX,t.center.clientY-o.center.clientY),a.lastVelocityEvent=t):a.velocity||(r=g.getVelocity(e,i,n),a.lastVelocityEvent=t),a.velocity=r,t.velocityX=r.x,t.velocityY=r.y},getInterimData:function(t){var e,i,s=this.current.lastEvent;t.eventType==p?(e=s&&s.interimAngle,i=s&&s.interimDirection):(e=s&&g.getAngle(s.center,t.center),i=s&&g.getDirection(s.center,t.center)),t.interimAngle=e,t.interimDirection=i},extendEventData:function(t){var e=this.current,i=e.startEvent;(t.touches.length!=i.touches.length||t.touches===i.touches)&&(i.touches=[],g.each(t.touches,function(t){i.touches.push(g.extend({},t))}));var s=t.timeStamp-i.timeStamp,n=t.center.clientX-i.center.clientX,a=t.center.clientY-i.center.clientY;return this.getVelocityData(t,s,n,a),this.getInterimData(t),g.extend(t,{startEvent:i,deltaTime:s,deltaX:n,deltaY:a,distance:g.getDistance(i.center,t.center),angle:g.getAngle(i.center,t.center),direction:g.getDirection(i.center,t.center),scale:g.getScale(i.touches,t.touches),rotation:g.getRotation(i.touches,t.touches)}),t},register:function(t){var i=t.defaults||{};return i[t.name]===e&&(i[t.name]=!0),g.extend(s.defaults,i,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}};s.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,e){var i=S.current;if(i.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),void(this.triggered=!1);if(!(e.options.drag_max_touches>0&&t.touches.length>e.options.drag_max_touches))switch(t.eventType){case l:this.triggered=!1;break;case u:if(t.distance<e.options.drag_min_distance&&i.name!=this.name)return;var s=i.startEvent.center;if(i.name!=this.name&&(i.name=this.name,e.options.correct_for_drag_min_distance&&t.distance>0)){var h=Math.abs(e.options.drag_min_distance/t.distance);s.pageX+=t.deltaX*h,s.pageY+=t.deltaY*h,s.clientX+=t.deltaX*h,s.clientY+=t.deltaY*h,t=S.extendEventData(t)}(i.lastEvent.drag_locked_to_axis||e.options.drag_lock_to_axis&&e.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var c=i.lastEvent.direction;t.drag_locked_to_axis&&c!==t.direction&&(t.direction=g.isVertical(c)?t.deltaY<0?o:n:t.deltaX<0?a:r),this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),e.trigger(this.name+t.direction,t);var d=g.isVertical(t.direction);(e.options.drag_block_vertical&&d||e.options.drag_block_horizontal&&!d)&&t.preventDefault();break;case p:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}},s.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:2},timer:null,handler:function(t,e){switch(t.eventType){case l:clearTimeout(this.timer),S.current.name=this.name,this.timer=setTimeout(function(){"hold"==S.current.name&&e.trigger("hold",t)},e.options.hold_timeout);break;case u:t.distance>e.options.hold_threshold&&clearTimeout(this.timer);break;case p:clearTimeout(this.timer)}}},s.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==p&&e.trigger(this.name,t)}},s.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(t,e){if(t.eventType==p){if(t.touches.length<e.options.swipe_min_touches||t.touches.length>e.options.swipe_max_touches)return;(t.velocityX>e.options.swipe_velocity||t.velocityY>e.options.swipe_velocity)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},s.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},has_moved:!1,handler:function(t,e){var i,s,n;t.eventType==l?this.has_moved=!1:t.eventType!=u||this.moved?t.eventType==p&&"touchcancel"!=t.srcEvent.type&&t.deltaTime<e.options.tap_max_touchtime&&!this.has_moved&&(i=S.previous,s=i&&i.lastEvent&&t.timeStamp-i.lastEvent.timeStamp,n=!1,i&&"tap"==i.name&&s&&s<e.options.doubletap_interval&&t.distance<e.options.doubletap_distance&&(e.trigger("doubletap",t),n=!0),(!n||e.options.tap_always)&&(S.current.name="tap",e.trigger(S.current.name,t))):this.has_moved=t.distance>e.options.tap_max_distance}},s.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,e){return e.options.prevent_mouseevents&&t.pointerType==h?void t.stopDetect():(e.options.prevent_default&&t.preventDefault(),void(t.eventType==l&&e.trigger(this.name,t)))}},s.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1,transform_within_instance:!1},triggered:!1,handler:function(t,e){if(S.current.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),void(this.triggered=!1);if(!(t.touches.length<2)){if(e.options.transform_always_block&&t.preventDefault(),e.options.transform_within_instance)for(var i=-1;t.touches[++i];)if(!g.hasParent(t.touches[i].target,e.element))return;switch(t.eventType){case l:this.triggered=!1;break;case u:var s=Math.abs(1-t.scale),n=Math.abs(t.rotation);if(s<e.options.transform_min_scale&&n<e.options.transform_min_rotation)return;S.current.name=this.name,this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),n>e.options.transform_min_rotation&&e.trigger("rotate",t),s>e.options.transform_min_scale&&(e.trigger("pinch",t),e.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case p:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}}},"function"==typeof define&&define.amd?define(function(){return s}):"object"==typeof module&&module.exports?module.exports=s:t.Hammer=s}(window),function(t,e){"use strict";function i(t,i){Date.now||(Date.now=function(){return(new Date).getTime()}),t.event.bindDom=function(s,n,a){i(s).on(n,function(i){var s=i.originalEvent||i,n=["pageX","pageY","clientX","clientY","target","preventDefault","stopPropagation"];t.utils.each(n,function(t){null==s[t]&&(s[t]=i[t])}),s.which===e&&(s.which=s.button),a.call(this,s)})},t.utils.each(["on","off"],function(e){t.Instance.prototype[e]=function(t,s){return i(this.element)[e](t,s)}}),t.Instance.prototype.trigger=function(t,e){var s=i(this.element);return s.has(e.target).length&&(s=i(e.target)),s.trigger({type:t,gesture:e})},i.fn.hammer=function(e){return this.each(function(){var s=i(this),n=s.data("hammer");n?n&&e&&t.utils.extend(n.options,e):s.data("hammer",new t(this,e||{}))})}}"function"==typeof define&&define.amd?define(["hammerjs","jquery"],i):i(t.Hammer,t.jQuery||t.Zepto)}(window),function(t,e){jQuery.fn.find||jQuery.fn.extend({find:function(t){var e,i,s,n=this.length;if("string"!=typeof t)return s=this,this.pushStack(jQuery(t).filter(function(){for(e=0;n>e;e++)if(jQuery.contains(s[e],this))return!0}));for(i=[],e=0;n>e;e++)jQuery.find(t,this[e],i);return i=this.pushStack(n>1?jQuery.unique(i):i),i.selector=(this.selector?this.selector+" ":"")+t,i}}),jQuery.fn.on||jQuery.fn.extend({on:function(t,i,s,n,a){var o,r;if("object"==typeof t){"string"!=typeof i&&(s=s||i,i=e);for(o in t)this.on(o,i,s,t[o],a);return this}if(null==s&&null==n?(n=i,s=i=e):null==n&&("string"==typeof i?(n=s,s=e):(n=s,s=i,i=e)),n===!1)n=returnFalse;else if(!n)return this;return 1===a&&(r=n,n=function(t){return jQuery().off(t),r.apply(this,arguments)},n.guid=r.guid||(r.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,t,n,s,i)})}}),jQuery.fn.one||jQuery.fn.extend({one:function(t,e,i,s){return this.on(t,e,i,s,1)}}),jQuery.fn.off||jQuery.fn.extend({off:function(t,i,s){var n,a;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,jQuery(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(a in t)this.off(a,i,t[a]);return this}return(i===!1||"function"==typeof i)&&(s=i,i=e),s===!1&&(s=returnFalse),this.each(function(){jQuery.event.remove(this,t,s,i)})}})}(jQuery),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var s=t.prototype,n=this,a=n.EventEmitter;s.getListeners=function(t){var e,i,s=this._getEvents();if("object"==typeof t){e={};for(i in s)s.hasOwnProperty(i)&&t.test(i)&&(e[i]=s[i])}else e=s[t]||(s[t]=[]);return e},s.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},s.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},s.addListener=function(t,i){var s,n=this.getListenersAsObject(t),a="object"==typeof i;for(s in n)n.hasOwnProperty(s)&&-1===e(n[s],i)&&n[s].push(a?i:{listener:i,once:!1});return this},s.on=i("addListener"),s.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},s.once=i("addOnceListener"),s.defineEvent=function(t){return this.getListeners(t),this},s.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},s.removeListener=function(t,i){var s,n,a=this.getListenersAsObject(t);for(n in a)a.hasOwnProperty(n)&&(s=e(a[n],i),-1!==s&&a[n].splice(s,1));return this},s.off=i("removeListener"),s.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},s.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},s.manipulateListeners=function(t,e,i){var s,n,a=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(s=i.length;s--;)a.call(this,e,i[s]);else for(s in e)e.hasOwnProperty(s)&&(n=e[s])&&("function"==typeof n?a.call(this,s,n):o.call(this,s,n));return this},s.removeEvent=function(t){var e,i=typeof t,s=this._getEvents();if("string"===i)delete s[t];else if("object"===i)for(e in s)s.hasOwnProperty(e)&&t.test(e)&&delete s[e];else delete this._events;return this},s.removeAllListeners=i("removeEvent"),s.emitEvent=function(t,e){var i,s,n,a,o=this.getListenersAsObject(t);for(n in o)if(o.hasOwnProperty(n))for(s=o[n].length;s--;)i=o[n][s],i.once===!0&&this.removeListener(t,i.listener),a=i.listener.apply(this,e||[]),a===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},s.trigger=i("emitEvent"),s.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},s.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},s._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},s._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=a,t},this.EventEmitter=t}.call(this),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,s=function(){};i.addEventListener?s=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(s=function(t,i,s){t[i+s]=s.handleEvent?function(){var i=e(t);s.handleEvent.call(s,i)}:function(){var i=e(t);s.call(t,i)},t.attachEvent("on"+i,t[i+s])});var n=function(){};i.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(s){t[e+i]=void 0}});var a={bind:s,unbind:n};t.eventie=a}(this),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===h.call(t)}function s(t){var e=[];if(i(t))e=t;else if("number"==typeof t.length)for(var s=0,n=t.length;n>s;s++)e.push(t[s]);else e.push(t);return e}function n(t,i){function n(t,i,o){if(!(this instanceof n))return new n(t,i);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=s(t),this.options=e({},this.options),"function"==typeof i?o=i:e(this.options,i),o&&this.on("always",o),this.getImages(),a&&(this.jqDeferred=new a.Deferred);var r=this;setTimeout(function(){r.check()})}function h(t){this.img=t}function c(t){this.src=t,d[t]=this}n.prototype=new t,n.prototype.options={},n.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;e>t;t++){var i=this.elements[t];"IMG"===i.nodeName&&this.addImage(i);for(var s=i.querySelectorAll("img"),n=0,a=s.length;a>n;n++){var o=s[n];this.addImage(o)}}},n.prototype.addImage=function(t){var e=new h(t);this.images.push(e)},n.prototype.check=function(){function t(t,n){return e.options.debug&&r&&o.log("confirm",t,n),e.progress(t),i++,i===s&&e.complete(),!0}var e=this,i=0,s=this.images.length;if(this.hasAnyBroken=!1,!s)return void this.complete();for(var n=0;s>n;n++){var a=this.images[n];a.on("confirm",t),a.check()}},n.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify(e,t)})},n.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var i=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[i](e)}})},a&&(a.fn.imagesLoaded=function(t,e){var i=new n(this,t,e);return i.jqDeferred.promise(a(this))}),h.prototype=new t,h.prototype.check=function(){var t=d[this.img.src]||new c(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,i){return e.confirm(t.isLoaded,i),!0}),t.check()},h.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var d={};return c.prototype=new t,c.prototype.check=function(){if(!this.isChecked){var t=new Image;i.bind(t,"load",this),i.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},c.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},c.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},c.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},c.prototype.unbindProxyEvents=function(t){i.unbind(t.target,"load",this),i.unbind(t.target,"error",this)},n}var a=t.jQuery,o=t.console,r="undefined"!=typeof o,h=Object.prototype.toString;t.imagesLoaded=n(t.EventEmitter,t.eventie)}(window),function(t,e,i){"use strict";t.soysauce=t.soysauce||{},console.log("init!2 "),soysauce.widgets=new Array,soysauce.vars={idCount:0,degradeAll:/Android ([12]|4\.0)|Opera|SAMSUNG-SGH-I747|SCH-I535/.test(navigator.userAgent)?!0:!1,degrade:/Android ([12]|4\.0)|Opera|SAMSUNG-SGH-I747/.test(navigator.userAgent)&&!/SCH-R530U/.test(navigator.userAgent)?!0:!1,degrade2:/SCH-I535/.test(navigator.userAgent)?!0:!1,lastResizeTime:0,lastResizeTimerID:0,fastclick:[],ajaxQueue:[]},soysauce.getOptions=function(t){return e(t).attr("data-ss-options")?e(t).attr("data-ss-options").split(" "):!1},soysauce.getPrefix=function(){return null!==navigator.userAgent.match(/webkit/i)?"-webkit-":null!==navigator.userAgent.match(/windows\sphone|msie/i)?"-ms-":null!==navigator.userAgent.match(/^mozilla/i)?"-moz-":null!==navigator.userAgent.match(/opera/i)?"-o-":""},soysauce.stifle=function(t,e){if(!t)return!1;try{t.stopImmediatePropagation(),t.gesture&&t.gesture.stopPropagation()}catch(i){console.log(t),console.warn("Soysauce: Error occurred calling soysauce.stifle() "+i.message),t.stopPropagation(),t.propagationStopped=!0}return e?!1:(t.preventDefault(),void(t.gesture&&t.gesture.preventDefault()))},soysauce.fetch=function(t){var i,s;if(!t)return!1;if("object"==typeof t&&(t=parseInt(e(t).attr("data-ss-id"),10)),"string"==typeof t){var n=parseInt(e(t).attr("data-ss-id"),10);isNaN(n)&&(n=parseInt(t,10)),t=n}return i=t===+t&&t===(0|t)?"[data-ss-id='"+t+"']":t,soysauce.widgets.forEach(function(e){e&&e.id===t&&(s=e)}),s?s:!1},soysauce.getCoords=function(t){return t?(t.originalEvent!==i&&(t=t.originalEvent),t.touches&&1===t.touches.length?{x:t.touches[0].clientX,y:t.touches[0].clientY}:t.touches&&2===t.touches.length?{x:t.touches[0].clientX,y:t.touches[0].clientY,x2:t.touches[1].clientX,y2:t.touches[1].clientY}:t.changedTouches&&1===t.changedTouches.length?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:t.changedTouches&&2===t.changedTouches.length?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,x2:t.changedTouches[1].clientX,y2:t.changedTouches[1].clientY}:t.clientX!==i?{x:t.clientX,y:t.clientY}:void 0):void 0},soysauce.getArrayFromMatrix=function(t){return t.substr(7,t.length-8).split(", ")},soysauce.browser={pageLoad:(new Date).getTime(),supportsSVG:document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?!0:!1,supportsLocalStorage:function(){try{return localStorage?(localStorage.setItem("test",1),localStorage.removeItem("test"),!0):!1
}catch(t){return!1}}(),supportsSessionStorage:function(){try{return sessionStorage?(sessionStorage.setItem("test",1),sessionStorage.removeItem("test"),!0):!1}catch(t){return!1}}(),getOrientation:function(){if("undefined"==typeof t.orientation){var e=t.innerWidth||document.body.offsetWidth||document.documentElement.offsetWidth,i=t.innerHeight||document.body.offsetHeight||document.documentElement.offsetHeight;return e>i?"landscape":"portrait"}return 0!==t.orientation?"landscape":"portrait"}},soysauce.browserInfo=soysauce.browser,soysauce.scrollTop=function(){t.setTimeout(function(){t.scrollTo(0,1)},0)},e(t).load(function(){var t=soysauce.fetch("[data-ss-widget='lazyloader'][data-ss-options*='cache']"),i="false"!=e("body").attr("data-ss-scrolltop");!i||t&&t.isCached||e(this).scrollTop()||soysauce.scrollTop()})}(window,jQuery),soysauce.ajax=function(t,e,i){var s=!1;if(soysauce.browser.supportsSessionStorage&&sessionStorage[t])try{if(s=JSON.parse(sessionStorage[t]),!i)return"function"==typeof e?e(s,"cached"):s}catch(n){}var a=jQuery.ajax({url:t,async:e?!0:!1}).always(function(i,n){try{var a=JSON.stringify(i);s=JSON.parse(a),sessionStorage.setItem(t,a)}catch(o){o.code===DOMException.QUOTA_EXCEEDED_ERR?console.warn("Soysauce: sessionStorage is full."):(console.error("error message: "+o.message),console.warn("Soysauce: error fetching url '"+t+"'. Data returned needs to be JSON."),s=!1)}return"function"==typeof e?e(s,n):void 0});return soysauce.vars.ajaxQueue.push(a),s},function(t,e,i){i.destroy=function(t,e){try{var s=i.fetch(t),n=s.widget;return n.find("[data-ss-widget][data-ss-id]").each(function(){i.destroy(this)}),n.off("*"),n.hammer().off("*"),n.empty(),n.off(),n.hammer().off(),e&&n.remove(),delete i.widgets[s.id-1],!0}catch(a){console.warn("Soysauce: could not destroy widget with id '"+s.id+"'. Possible memory leaks. Message: "+a.message)}return!1}}(window,jQuery,soysauce),soysauce.freezeChildren=function(t){var e=jQuery("[data-ss-id='"+t+"']").find("[data-ss-widget]");e.each(function(t,e){var i=jQuery(e).attr("data-ss-id");soysauce.freeze(i,!1)})},soysauce.freeze=function(t,e){"object"==typeof t&&(t=t.id||parseInt(jQuery(t).attr("data-ss-id"),10)),e=e?!1:!0,soysauce.fetch(t).handleFreeze(),e&&soysauce.freezeChildren(t)},soysauce.unfreeze=function(t){"object"==typeof t&&(t=t.id||parseInt($(t).attr("data-ss-id"),10));var e=jQuery("[data-ss-id='"+t+"']").find("[data-ss-widget]");soysauce.fetch(t).handleUnfreeze(),e.each(function(t,e){var i=jQuery(e).attr("data-ss-id");soysauce.fetch(i).handleUnfreeze()})},soysauce.freezeAll=function(){try{soysauce.widgets.forEach(function(t){t.handleFreeze()})}catch(t){return console.warn("Soysauce: Could not freeze all widgets. || Error Message: ",t.message),!1}return!0},soysauce.unfreezeAll=function(){try{soysauce.widgets.forEach(function(t){t.handleUnfreeze()})}catch(t){return console.warn("Soysauce: Could not unfreeze all widgets. || Error Message: ",t.message),!1}return!0},function(t,e,i,s){i.init=function(t,n){var a,o="",r=!1;return o=o.concat("[data-ss-widget='toggler'] > [data-ss-component='button']",", [data-ss-component='button'][data-ss-toggler-id]",", [data-ss-widget='carousel'] [data-ss-component='button']",", [data-ss-widget='carousel'] [data-ss-component='dots']",", [data-ss-utility='overlay'] [data-ss-component='close']"),e(o).each(function(){try{i.vars.fastclick.push(FastClick.attach(this))}catch(t){console.warn("Soysauce: Could not attach Fastclick listener on soysauce component. "+t.message)}}),a=e(t?t:"[data-ss-widget]:not([data-ss-id]), [data-ss-component='button'][data-ss-toggler-id]"),!e(t)&&!a||e(t).attr("data-ss-id")!==s?r:(a.each(function(){var t,a=e(this),o=e(this).attr("data-ss-widget"),h=!1;if(o||a.attr("data-ss-toggler-id")===s||(o="toggler",h=!0),n||!/manual/.test(a.attr("data-ss-init"))){switch(a.attr("data-ss-id",++i.vars.idCount),o){case"toggler":t=i.togglers.init(this,h);break;case"carousel":t=i.carousels.init(this);break;case"lazyloader":t=i.lazyloader.init(this);break;case"autofill-zip":console.warn("Soysauce: autofill-zip is now deprecated. Please set data-ss-widget to 'geocoder'");case"geocoder":t=i.geocoder.init(this);break;case"autodetect-cc":t=i.autodetectCC.init(this);break;case"autosuggest":t=i.autosuggest.init(this);break;case"input-clear":t=i.inputClear.init(this)}t!==s?(t.type=o,t.id=i.vars.idCount,i.widgets.push(t),r=!0,a.attr("data-ss-defer")!==s?t.defer=!0:a.imagesLoaded(function(){t.initialized=!0,a.trigger("SSWidgetReady")})):(a.removeAttr("data-ss-id"),--i.vars.idCount)}}),r)},e(document).ready(function(){i.init(),i.vars.degradeAll&&e("body").attr("data-ss-degrade","true"),i.widgets.forEach(function(t){if(t.defer){var s=0,n=t.widget.find("[data-ss-widget]");n.each(function(){var a=i.fetch(this);if(a.initialized){if(++s===n.length)return void e(t.widget).trigger("SSWidgetReady").removeAttr("data-ss-defer")}else a.widget.on("SSWidgetReady",function(){++s===n.length&&e(t.widget).trigger("SSWidgetReady").removeAttr("data-ss-defer")})})}});try{Hammer.gestures.Swipe.defaults.swipe_velocity=.6}catch(s){console.warn("Soysauce: Error setting options with HammerJS"),console.error(s)}e(t).trigger("SSReady")})}(window,jQuery,soysauce),soysauce.lateload=function(t){function e(t){var e=jQuery(t),i=e.attr("data-ss-ll-src");return i?(e.attr("src",i).removeAttr("data-ss-ll-src"),!0):!1}return t?e(t):(jQuery(document).on("DOMContentLoaded",function(){jQuery("[data-ss-ll-src][data-ss-options='dom']").each(function(t,i){e(i)})}),void jQuery(window).on("load",function(){jQuery("[data-ss-ll-src][data-ss-options='load']")&&jQuery("[data-ss-ll-src][data-ss-options='load']").each(function(t,i){e(i)})}))},soysauce.lateload(),soysauce.overlay=function(t,e){function i(){var t=this;this.overlay,this.content,this.close,this.hiddenItems=null,this.isOn=!1,this.startingOrientation="",e(document).ready(function(){t.init()})}{var s="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",n=e("body");e("meta[name='viewport']")}return i.prototype.init=function(t){var i,s=this;return e("[data-ss-utility='overlay']").length?i=e("[data-ss-utility='overlay']"):(i=document.createElement("div"),i.setAttribute("data-ss-utility","overlay"),t&&e(t).length?e(t).prepend(i):(t&&console.warn("Soysauce: The selector provided to overlay.init was invalid or did not match any elements. The overlay will be attached to the body element."),document.body.appendChild(i))),this.overlay=e("[data-ss-utility='overlay']"),this.overlay.attr("data-ss-state","inactive"),this.overlay.find("[data-ss-component='close']").length||this.overlay.append("<div data-ss-component='close'>tap to close</div>"),this.close=this.overlay.find("[data-ss-component='close']"),this.overlay.find("[data-ss-component='content']").length||this.overlay.append("<div data-ss-component='content'></div>"),this.content=this.overlay.find("[data-ss-component='content']"),this.close.on("click",function(){s.off()}),!0},i.prototype.on=function(e,i,s){var n=this;this.isOn||("string"==typeof e&&this.overlay.appendTo(e),this.overlay.show(),s&&this.close.show(),t.setTimeout(function(){if(i)try{JSON.stringify(i),n.overlay.css(i)}catch(t){console.warn("Soysauce: Could not attach css; need to pass JSON css object")}n.overlay.attr("data-ss-state","active"),n.isOn=!0},0))},i.prototype.off=function(){this.isOn&&(this.isOn=!1,this.overlay.attr("data-ss-state","inactive").removeAttr("style").hide(),this.overlay.appendTo("body"),this.content.find("[data-ss-widget]").each(function(){soysauce.destroy(this)}),this.content.empty(),n.css({overflow:"",height:""}),this.hiddenItems&&(this.hiddenItems.show(),this.hiddenItems=null),this.startingOrientation!==soysauce.browser.getOrientation()&&e(t).trigger("onorientationchange"in t&&!/android/i.test(navigator.userAgent)?"orientationchange":"resize"))},i.prototype.toggle=function(){this.isOn?this.off():this.on()},i.prototype.injectCarousel=function(t,e){var i,a=t.items.clone(),o=this,r=!0,h="",c=t.widget.attr("data-ss-zoom-close-text");this.on(null,e,r),t.infinite?a=a.slice(1,t.numChildren-1):h+="finite",a.removeAttr("data-ss-state").removeAttr("style"),this.content.wrapInner("<div data-ss-widget='carousel' data-ss-options='overlay "+h+"' data-ss-index="+t.index+"/>"),i=this.content.find("[data-ss-widget='carousel']"),i.append(a),c&&this.overlay.find("[data-ss-component='close']").text(c),this.startingOrientation=soysauce.browser.getOrientation(),this.overlay.one(s,function(){i.one("SSWidgetReady",function(){n.css({overflow:"hidden",height:"100%"}),o.hiddenItems=n.find("> *:not([data-ss-utility]):not(#ios7fix)"),o.hiddenItems.hide()}),soysauce.init(i[0])})},i.prototype.hideAssets=function(){this.close.css("opacity","0")},i.prototype.showAssets=function(){this.close.css("opacity","1")},new i}(window,jQuery),function(t,e,i){var s="onorientationchange"in t&&!/android/i.test(navigator.userAgent)?"orientationchange":"resize";e(t).on(s,function(e){i.vars.lastResizeID&&t.clearTimeout(i.vars.lastResizeID),i.vars.lastResizeID=t.setTimeout(function(){i.vars.lastResizeTime=e.timeStamp,i.widgets.forEach(function(t){t.handleResize&&(t.handleResize(),/carousel/i.test(t.type)?t.itemWidth&&t.widget.trigger("SSWidgetResized"):t.widget.trigger("SSWidgetResized"))})},30)})}(window,jQuery,soysauce),soysauce.autodetectCC=function(t,e){function i(e){var i=soysauce.getOptions(e),s=this;this.widget=t(this),this.input=t(e),this.prediction,this.result,this.format=!1,this.valid=!1,this.fieldClear=!1,i&&i.forEach(function(t){switch(t){case"format":s.format=soysauce.vars.degrade2?!1:!0;break;case"field-clear":s.fieldClear=!0}}),this.format?this.input.attr("maxlength","19"):this.input.attr("maxlength","16"),this.format&&soysauce.vars.degrade&&this.input.on("keydown",function(t){var e=t.keyCode?t.keyCode:t.which;8!==e&&46!==e&&91!==e&&17!==e&&189!==e&&(soysauce.stifle(t),s.input.val(this.value+String.fromCharCode(t.keyCode)))}),this.fieldClear&&soysauce.inputClear.init(e),this.input.on("keyup change",function(e){var i,a=e.target.value.replace(/[-\s]+/g,""),o=e.keyCode?e.keyCode:e.which;a.length?(a.match(/^4/)?s.prediction="visa":a.match(/^5/)?s.prediction="mastercard":a.match(/^6/)?s.prediction="discover":a.match(/^3/)?1===a.length?s.prediction="amex dinersclub jcb":a.match(/^3(4|7)/)?s.prediction="amex":a.match(/^3(0|8)/)?s.prediction="dinersclub":a.match(/^35/)&&(s.prediction="jcb"):s.prediction=null,t(e.target).trigger("SSPrediction")):(t(e.target).trigger("SSEmpty"),s.prediction=null),/visa/.test(s.prediction)&&a.length>=13&&(n(a)?(s.valid=/^4[0-9]{12}(?:[0-9]{3})?$/.test(a)?!0:!1,i="visa"):s.valid=!1),/mastercard/.test(s.prediction)&&16===a.length&&(n(a)?(s.valid=a.match(/^5[1-5][0-9]{14}$/)?!0:!1,i="mastercard"):s.valid=!1),/amex/.test(s.prediction)&&a.length>=15&&(n(a)?(s.valid=a.match(/^3[47][0-9]{13}$/)?!0:!1,i="amex"):s.valid=!1),/dinersclub/.test(s.prediction)&&a.length>=14&&(n(a)?(s.valid=a.match(/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/)?!0:!1,i="dinersclub"):s.valid=!1),/discover/.test(s.prediction)&&16===a.length&&(n(a)?(s.valid=a.match(/^6(?:011|5[0-9]{2})[0-9]{12}$/)?!0:!1,i="discover"):s.valid=!1),/jcb/.test(s.prediction)&&16===a.length&&(n(a)?(s.valid=a.match(/^(?:2131|1800|35\d{3})\d{11}$/)?!0:!1,i="jcb"):s.valid=!1),s.valid&&i?(s.result=i,t(e.target).trigger("SSResult")):(s.result=null,(!s.prediction&&16===a.length||/visa/.test(s.prediction)&&13===a.length||/visa|mastercard|discover|dinersclub|jcb/.test(s.prediction)&&16===a.length||/amex/.test(s.prediction)&&15===a.length)&&t(e.target).trigger("SSResult")),s.format&&a.length>3&&8!==o&&46!==o&&91!==o&&17!==o&&189!==o&&s.formatInput(e)})}function s(t){t.length;t.setSelectionRange(19,19)}function n(t,e,i,s,n){for(s=+t[e=t.length-1],n=0;e--;)i=+t[e],s+=++n%2?2*i%10+(i>4):i;return!(s%10)}return i.prototype.formatInput=function(){function t(t,e,i){return e>0?i.substring(0,e)+t+i.substring(e,i.length):t+i}var i=this.input.val().replace(/[\s]+/g,""),n=/^3[47]/.test(i.replace(/[-\s]+/g,""))?!0:!1,a=/^3(?:0[0-5]|[68][0-9])/.test(i.replace(/[-\s]+/g,""))&&!n?!0:!1;soysauce.vars.degrade&&s(this.input[0]),n||a?(i[4]!==e&&"-"!==i[4]&&(i=t("-",4,i),this.input.val(i)),i[11]!==e&&"-"!==i[11]&&(i=t("-",11,i),this.input.val(i))):(i[4]!==e&&"-"!==i[4]&&(i=t("-",4,i),this.input.val(i)),i[9]!==e&&"-"!==i[9]&&(i=t("-",9,i),this.input.val(i)),i[14]!==e&&"-"!==i[14]&&(i=t("-",14,i),this.input.val(i)))},{init:function(t){return new i(t)}}}(jQuery),soysauce.autosuggest=function(t,e){function i(i){var s=soysauce.getOptions(i),n=this;this.widget=t(i),this.input=t(i),s&&s.forEach(function(t){switch(t){case"option1":}});var a={url:e,data:e,minCharacters:1,maxResults:10,wildCard:"",caseSensitive:!1,notCharacter:"!",maxHeight:350,highlightMatches:!0,onSelect:e,width:e,property:"text"};this.acSettings=a,this.obj=t(i),this.wildCardPatt=new RegExp(n.regexEscape(this.acSettings.wildCard||""),"g"),this.results=t("<ul />"),this.currentSelection=e,this.pageX=e,this.pageY=e,this.getJSONTimeout=0,t(this.results).addClass("jsonSuggest ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all").attr("role","listbox").css({xtop:this.obj.position().top+this.obj.outerHeight()+"px",xleft:this.obj.position().left+"px",width:this.acSettings.width||this.obj.outerWidth()+"px","z-index":1e6,position:"absolute","background-color":"black"}).hide(),this.obj.after(this.results).keyup(function(e){switch(e.keyCode){case 13:return t(n.currentSelection).trigger("click"),!1;case 40:return n.currentSelection="undefined"==typeof n.currentSelection?t("li:first",n.results).get(0):t(n.currentSelection).next().get(0),n.setHoverClass(n.currentSelection),n.currentSelection&&t(n.results).scrollTop(n.currentSelection.offsetTop),!1;case 38:return n.currentSelection="undefined"==typeof n.currentSelection?t("li:last",n.results).get(0):t(n.currentSelection).prev().get(0),n.setHoverClass(n.currentSelection),n.currentSelection&&t(n.results).scrollTop(n.currentSelection.offsetTop),!1;default:n.runSuggest.apply(this,[e,n])}}).keydown(function(e){return 9!==e.keyCode&&13!==e.keyCode||!n.currentSelection?void 0:(t(n.currentSelection).trigger("click"),!0)}).blur(function(){var e=t(n.results).offset();e.bottom=e.top+t(n.results).height(),e.right=e.left+t(n.results).width(),(pageY<e.top||pageY>e.bottom||pageX<e.left||pageX>e.right)&&t(n.results).hide()}).focus(function(){t(this.results).css({top:n.obj.position().top+n.obj.outerHeight()+"px",left:n.obj.position().left+"px"}),t("li",n.results).length>0&&t(n.results).show()}).attr("autocomplete","off"),t(window).mousemove(function(t){this.pageX=t.pageX,this.pageY=t.pageY}),this.acSettings.notCharacter=n.regexEscape(this.acSettings.notCharacter||""),this.widget.attr("data-ss-suggest-json-file")&&t.ajax({url:this.widget.attr("data-ss-suggest-json-file"),dataType:"json",async:!1,success:function(t){n.acSettings.data=t}}),this.acSettings.data&&"string"==typeof this.acSettings.data&&(this.acSettings.data=t.parseJSON(this.acSettings.data)),t(this.obj).trigger("SSLoaded")}return i.prototype.handleResize=function(){},i.prototype.regexEscape=function(t,e){var i=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];if(e)for(var s=0;s<i.length;s++)i[s]===e&&i.splice(s,1);var n=new RegExp("(\\"+i.join("|\\")+")","g");return t.replace(n,"\\$1")},i.prototype.selectResultItem=function(e){this.obj.val(e[this.acSettings.property]),this.widget.trigger("SSAutoSuggested",{suggestion:e}),t(this.results).html("").hide(),"function"==typeof this.acSettings.onSelect&&this.acSettings.onSelect(e)},i.prototype.setHoverClass=function(e){t("li a",this.results).removeClass("ui-state-hover"),e&&t("a",e).addClass("ui-state-hover"),this.currentSelection=e},i.prototype.buildResults=function(i,s){s="("+s+")";var n,a=this,o=!0,r=0,h=this.acSettings.caseSensitive?new RegExp(s,"g"):new RegExp(s,"ig");for(t(this.results).html("").hide(),n=0;n<i.length;n+=1){var c=t("<li />"),d=i[n][this.acSettings.property];if(this.acSettings.highlightMatches===!0&&(d=d.replace(h,"<strong>$1</strong>")),t(c).append('<a class="ui-corner-all">'+d+"</a>"),"string"==typeof i[n].image&&t(">a",c).prepend('<img src="'+i[n].image+'" />'),"string"==typeof i[n].extra&&t(">a",c).append("<small>"+i[n].extra+"</small>"),t(c).addClass("ui-menu-item").addClass(o?"odd":"even").attr("role","menuitem").click(function(t){return function(){a.selectResultItem(i[t])}}(n)).mouseover(function(t){return function(){a.setHoverClass(t)}}(c)),t(this.results).append(c),o=!o,r+=1,"number"==typeof this.acSettings.maxResults&&r>=this.acSettings.maxResults)break}t("li",this.results).length>0&&(this.currentSelection=e,t(this.results).show().css("height","auto"),t(this.results).height()>this.acSettings.maxHeight&&t(this.results).css({overflow:"auto",height:this.acSettings.maxHeight+"px"}))},i.prototype.runSuggest=function(e,i){var s=function(t){if(this.value.length<i.acSettings.minCharacters)return i.clearAndHideResults(),!1;var e,s,n=[],a=i.acSettings.wildCard?i.regexEscape(this.value,i.acSettings.wildCard).replace(wildCardPatt,".*"):i.regexEscape(this.value),o=!0;for(i.acSettings.notCharacter&&0===a.indexOf(i.acSettings.notCharacter)&&(a=a.substr(i.acSettings.notCharacter.length,a.length),a.length>0&&(o=!1)),a=a||".*",a=i.acSettings.wildCard?"^"+a:a,e=i.acSettings.caseSensitive?new RegExp(a):new RegExp(a,"i"),s=0;s<t.length;s+=1)e.test(t[s][i.acSettings.property])===o&&n.push(t[s]);i.buildResults(n,a)};if(i.acSettings.data&&i.acSettings.data.length)s.apply(this,[i.acSettings.data,i]);else if(i.acSettings.url&&"string"==typeof i.acSettings.url){var n=this.value;if(n.length<i.acSettings.minCharacters)return i.clearAndHideResults(),!1;t(i.results).html('<li class="ui-menu-item ajaxSearching"><a class="ui-corner-all">Searching...</a></li>').show().css("height","auto"),i.getJSONTimeout=window.clearTimeout(i.getJSONTimeout),i.getJSONTimeout=window.setTimeout(function(){t.getJSON(i.acSettings.url,{search:n},function(t){t?i.buildResults(t,n):i.clearAndHideResults()})},500)}},i.prototype.clearAndHideResults=function(){t(this.results).html("").hide()},{init:function(t){return new i(t)}}}(jQuery),soysauce.carousels=function(t){function e(e){var n,o,d,l,u=this,p="";if(this.widget=t(e),this.index=0,this.maxIndex,this.container,this.items,this.currentItem,this.itemPadding,this.dots,this.numChildren=0,this.widgetWidth=0,this.widgetHeight=0,this.itemWidth=0,this.interruptedOffset=0,this.offset=0,this.ready=!1,this.interrupted=!1,this.lockScroll=!1,this.nextBtn,this.prevBtn,this.freeze=!1,this.jumping=!1,this.lastTransitionEnd=0,this.sendClick=!1,this.resizeID=0,this.infinite=!0,this.autoscroll=!1,this.autoscrollID,this.autoscrollInterval,this.autoscrollRestartID,this.infiniteID,this.forward,this.lastSlideTime,this.cloneDepth=0,this.looping=!1,this.rewindCoord=0,this.peek=!1,this.peekWidth=0,this.peekAlign,this.responsivePeek=!1,this.swipe=!0,this.swiping=!1,this.zoom=!1,this.containerZoom=!1,this.zoomIcon,this.overlay=!1,this.isZoomed=!1,this.zoomElement=null,this.zoomElementCenterX=0,this.zoomElementCenterY=0,this.zoomElementWidth=0,this.zoomElementHeight=0,this.zoomElementOffset=null,this.zoomTranslateX=0,this.zoomTranslateY=0,this.zoomTranslateXStart=0,this.zoomTranslateYStart=0,this.zoomTranslateMinX=0,this.zoomTranslateMinY=0,this.zoomTranslateMaxX=0,this.zoomTranslateMaxY=0,this.zoomScale=1,this.zoomScaleStart=1,this.zoomScalePrev=1,this.pinchEventsReady=!1,this.lastZoomTap=0,this.zoomLoader,this.multi=!1,this.multiVars={numItems:2,stepSize:1,minWidth:0,even:!1},this.autoheight=!1,this.fade=!1,this.widget.attr("data-ss-single-options")&&1===this.widget.find("[data-ss-component='item']").length?(n=this.widget.attr("data-ss-single-options").split(" "),this.widget.attr("data-ss-single-item","true")):n=soysauce.getOptions(e),this.options=n,n&&n.forEach(function(t){switch(t){case"peek":u.peek=!0;break;case"finite":u.infinite=!1;break;case"autoscroll":u.autoscroll=!0;break;case"noswipe":u.swipe=!1;break;case"zoom":u.zoom=!0;break;case"containerZoom":u.zoom=!0,u.containerZoom=!0;break;case"multi":u.multi=!0;break;case"autoheight":u.autoheight=!0;break;case"fade":u.fade=!0;break;case"overlay":u.overlay=!0}}),this.multi&&(this.infinite=!1),this.widgetWidth=this.widget.outerWidth(),this.widget.wrapInner("<div data-ss-component='container' />"),this.widget.wrapInner("<div data-ss-component='container_wrapper' />"),this.container=this.widget.find("[data-ss-component='container']"),o=this.widget.find("[data-ss-component='container_wrapper']"),o.after(this.infinite?"<div data-ss-component='button' data-ss-button-type='prev' data-ss-state='enabled'></div><div data-ss-component='button' data-ss-button-type='next'></div>":"<div data-ss-component='button' data-ss-button-type='prev' data-ss-state='disabled'></div><div data-ss-component='button' data-ss-button-type='next'></div>"),o.after("<div data-ss-component='dots'></div>"),this.dots=this.widget.find("[data-ss-component='dots']"),this.nextBtn=o.find("~ [data-ss-button-type='next']"),this.prevBtn=o.find("~ [data-ss-button-type='prev']"),o.find("~ [data-ss-button-type='prev']").hammer().on("tap",function(t){soysauce.stifle(t),!u.ready||u.interrupted||u.freeze||u.slideBackward()}),o.find("~ [data-ss-button-type='next']").hammer().on("tap",function(t){soysauce.stifle(t),!u.ready||u.interrupted||u.freeze||u.slideForward()}),this.maxIndex=this.widget.find("[data-ss-component='item']").length,this.multi&&(this.multiVars.numItems=parseInt(this.widget.attr("data-ss-multi-set"),10)||2,this.multiVars.minWidth=parseInt(this.widget.attr("data-ss-multi-min-width"),10)||0,this.multiVars.stepSize=parseInt(this.widget.attr("data-ss-step-size"),10)||this.multiVars.numItems,this.maxIndex=Math.ceil(this.maxIndex/this.multiVars.stepSize)),this.infinite&&(this.multi?(console.warn("Soysauce: 'multi' option with infinite scrolling not yet supported. Please add 'finite' option."),a(this,1)):a(this,1),this.lastSlideTime=(new Date).getTime()),this.items=this.container.find("> [data-ss-component='item']"),this.itemPadding=parseInt(this.items.first().css("padding-left"),10)+parseInt(this.items.first().css("padding-right"),10),this.multi&&(this.multiVars.even=this.items.length%this.multiVars.numItems===0?!0:!1),!this.items.length)return void console.warn("Soysauce: Carousel cannot be instantiated; no items found.");for(this.numChildren=this.items.length,this.infinite?o.find("~ [data-ss-button-type='next']").attr("data-ss-state","enabled"):o.find("~ [data-ss-button-type='next']").attr("data-ss-state",this.numChildren>1?"enabled":"disabled"),d=this.infinite?this.numChildren-2:this.numChildren,d=this.multi?this.maxIndex:d,i=0;d>i;i++)p=p.concat("<div data-ss-component='dot'></div>");if(this.dots.html(p),this.dots=this.dots.find("div"),this.dots.attr("data-ss-state","inactive"),this.dots.on("click",function(t){var e=parseInt(soysauce.getArrayFromMatrix(u.container.css(c+"transform"))[4],10),i=0;e===u.offset&&(u.ready=!0),!u.ready||u.interrupted||u.freeze||(soysauce.stifle(t),i=u.dots.index(this),u.infinite&&(i+=1),u.jumpTo(i))}),this.peek){if(this.peekAlign=this.widget.attr("data-ss-peek-align")||"center",this.widget.attr("data-ss-responsive-peek"))switch(this.responsivePeek=!0,soysauce.browser.getOrientation()){case"portrait":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-portrait"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||r;break;case"landscape":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-landscape"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||r}else this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width"),10)||r;this.peekWidth%2&&this.widget.attr("data-ss-peek-width",++this.peekWidth)}if(this.index=parseInt(this.widget.attr("data-ss-index"),10)||0,this.items.attr("data-ss-state","inactive"),this.infinite)this.index?this.index>this.maxIndex&&(this.index=this.maxIndex):this.index++,t(this.items[this.index]).attr("data-ss-state","active");else if(this.multi){var g=t(this.items.slice(0,this.multiVars.numItems));g.attr("data-ss-state","active")}else t(this.items[this.index]).attr("data-ss-state","active");if(l=this.infinite?this.index-1:this.index,this.dots[l].setAttribute("data-ss-state","active"),this.container.imagesLoaded(function(){var e=u.items.first(),i=parseInt(e.css("margin-left"),10)+parseInt(e.css("margin-right"),10),n=u.widgetWidth;if(u.peek&&(n-=2*u.peekWidth),u.multi?(u.multiVars.minWidth>0&&(u.multiVars.numItems=Math.floor(n/u.multiVars.minWidth)),u.itemWidth=n/u.multiVars.numItems):u.itemWidth=n,t(window).load(function(){u.handleResize()}),u.peek)switch(u.peekAlign){case"center":u.offset+=u.peekWidth;break;case"left":break;case"right":u.offset+=2*u.peekWidth}u.fade||(u.container.width((u.itemWidth+i)*u.numChildren),u.items.css("width",u.itemWidth+"px")),u.offset-=u.itemWidth*u.index,u.container.attr("data-ss-state","notransition"),s(u.container[0],u.offset),u.widgetHeight=u.widget.outerHeight(!0),(u.overlay||u.zoomContainer)&&u.setZoomCenterPoint()}),/ipod|iphone|ipad|android/i.test(navigator.userAgent)?this.container.hammer().on("tap click",function(e){return u.freeze||u.swiping||u.lockScroll||e.gesture&&e.gesture.distance>0?(soysauce.stifle(e),!1):void(u.isZoomed||(u.widget.trigger("SSClick"),t(e.target).trigger("click")))}):this.container.hammer().on("release click",function(t){return u.freeze?void 0:"click"===t.type?u.sendClick?void 0:(u.widget.trigger("SSClick"),soysauce.stifle(t),!1):void("release"===t.type&&(0!==t.gesture.distance||u.swiping||u.isZoomed||u.lockScroll?u.sendClick=!1:(u.sendClick=!0,u.widget.trigger("SSClick"))))}),this.swipe&&this.container.hammer().on("touch release drag swipe",function(t){u.freeze||u.handleSwipe(t)}),this.zoom&&(o.after("<div data-ss-component='zoom_icon' data-ss-state='out'></div><div data-ss-component='zoom_loader'><div data-ss-component='ring_loader'></div><div data-ss-component='loading_text'><span>loading</span></div></div>"),this.zoomIcon=o.find("~ [data-ss-component='zoom_icon']"),this.zoomLoader=o.find("~ [data-ss-component='zoom_loader']"),this.containerZoom?(this.zoomIcon.hammer().on("tap",function(t){var e=!0;u.handleContainerZoom(t,e)}),this.container.hammer().on("tap drag",function(t){if(!u.lockScroll){if("drag"===t.type){if(!u.isZoomed)return;soysauce.stifle(t)}u.handleContainerZoom(t)}})):(this.container.hammer().on("tap",function(t){u.zoomIn(t)}),this.zoomIcon.hammer().on("tap",function(t){u.zoomIn(t)}))),this.currentItem=t(this.items.get(u.index)),this.overlay&&(this.zoomElement=this.currentItem,this.container.hammer().on("pinch doubletap drag",function(t){/pinch|doubletap|drag/.test(t.type)&&u.handleZoom(t)})),this.container.on(h,function(t){u.setTransitionedStates(t)}),this.autoscroll&&this.autoscrollOn(),this.autoheight){var m=t(this.items[this.index]).outerHeight(!0);this.widget.css("min-height",m)}this.widget.one("SSWidgetReady",function(){if(u.widget.attr("data-ss-state","ready"),u.ready=!0,window.setTimeout(function(){u.container.attr("data-ss-state","ready")},0),u.autoheight){var e=t(u.items[u.index]).outerHeight(!0);u.widget.css("height",e),window.setTimeout(function(){u.widget.css("min-height","0px")},300)}})}function s(t,e,i){e=e||0,i=i||0,soysauce.vars.degrade?t.style.left=e+"px":t.style.webkitTransform=t.style.msTransform=t.style.OTransform=t.style.MozTransform=t.style.transform="translate3d("+e+"px,"+i+"px,0)"}function n(t,e,i,s){i=i||0,s=s||0,t.style.webkitTransform=t.style.msTransform=t.style.OTransform=t.style.MozTransform=t.style.transform="matrix("+e+",0,0,"+e+","+i+","+s+")"}function a(t,e){var i,s,n=t.container.find("> [data-ss-component='item']");e>t.maxIndex||(t.cloneDepth=e,i=n.slice(0,e).clone(),s=n.slice(t.maxIndex-e,t.maxIndex).clone(),i.appendTo(t.container),s.prependTo(t.container))}var o=5e3,r=20,h="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",c=soysauce.getPrefix(),d=60,l=.8;return e.prototype.handleZoom=function(t){var e=this;if(!this.swiping&&!this.freeze)if(soysauce.stifle(t),"doubletap"===t.type){if(t.timeStamp-this.lastZoomTap<500)return;if(this.zoomElement=this.currentItem,this.lastZoomTap=t.timeStamp,this.handleFreeze(),this.zoomScalePrev=this.zoomScale,this.zoomScale<1.5?(this.zoomElement.attr("data-ss-state","zooming"),this.zoomScale=1.5,this.isZoomed=!0):this.zoomScale<2.5?(this.zoomElement.attr("data-ss-state","zooming"),this.zoomScale=2.5,this.isZoomed=!0):(this.zoomElement.attr("data-ss-state","active"),this.zoomScale=1,this.isZoomed=!1),this.zoomScaleStart=this.zoomScale,this.zoomTranslateXStart=this.zoomTranslateX,this.zoomTranslateYStart=this.zoomTranslateY,!(this.zoomScale>1))return void window.setTimeout(function(){e.resetZoomState()},0);this.setFocusPoint(t),this.calcTranslateLimits(),this.setTranslateLimits(),window.setTimeout(function(){n(e.zoomElement[0],e.zoomScale,e.zoomTranslateX,e.zoomTranslateY),1===e.zoomScale&&e.handleUnfreeze()},0)}else if("pinch"===t.type){if(this.pinchEventsReady||(this.zoomElement=this.currentItem,this.zoomElement.attr("data-ss-state","zooming"),this.zoomScalePrev=this.zoomScale,this.zoomScaleStart=this.zoomScale,this.zoomTranslateXStart=this.zoomTranslateX,this.zoomTranslateYStart=this.zoomTranslateY,this.isZoomed=!0,this.handleFreeze(),this.container.one("touchend",function(){e.zoomScale<=1&&e.zoomElement.attr("data-ss-state","active")}),this.container.hammer().one("release",function(t){return soysauce.stifle(t),e.pinchEventsReady=!1,e.zoomScale<=1?void e.resetZoomState():e.zoomScale>4?(e.zoomScale=4,void(e.zoomScaleStart=e.zoomScale)):(e.zoomScaleStart=e.zoomScale,void n(e.zoomElement[0],e.zoomScale,e.zoomTranslateX,e.zoomTranslateY))}),this.pinchEventsReady=!0),this.zoomScale=(t.gesture.scale-1)*l*this.zoomScaleStart+this.zoomScaleStart,this.zoomScale=this.zoomScale<.3?.3:this.zoomScale,this.zoomScale>=4)return void(this.zoomScale=4);if(this.setFocusPoint(t),this.calcTranslateLimits(),this.setTranslateLimits(),this.zoomElement.attr("data-ss-state","zooming"),this.zoomScale<1){var i=(t.gesture.scale-1)*l*this.zoomScaleStart+this.zoomScaleStart;n(this.zoomElement[0],i,0,0)}else n(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY)}else this.isZoomed&&(this.panning||(this.panning=!0,this.zoomTranslateXStart=this.zoomTranslateX,this.zoomTranslateYStart=this.zoomTranslateY,this.container.hammer().one("release",function(){e.panning=!1})),this.zoomTranslateX=t.gesture.deltaX+this.zoomTranslateXStart,this.zoomTranslateY=t.gesture.deltaY+this.zoomTranslateYStart,this.setTranslateLimits(),n(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY))},e.prototype.setZoomCenterPoint=function(){this.zoomElementWidth=this.zoomElement.width(),this.zoomElementHeight=this.zoomElement.height(),this.zoomElementOffset=this.widget.offset(),this.zoomElementCenterX=this.zoomElementWidth/2+this.zoomElementOffset.left,this.zoomElementCenterY=this.zoomElementHeight/2+this.zoomElementOffset.top},e.prototype.setFocusPoint=function(t){this.zoomTranslateX=(this.zoomElementCenterX-t.gesture.center.pageX+this.zoomTranslateXStart+this.peekWidth)*(this.zoomScale/this.zoomScalePrev),this.zoomTranslateY=(this.zoomElementCenterY-t.gesture.center.pageY+this.zoomTranslateYStart)*(this.zoomScale/this.zoomScalePrev)},e.prototype.calcTranslateLimits=function(){var t;this.zoomElementWidth||this.setZoomCenterPoint(),t=parseInt(this.zoomElement.css("padding-left"),10)+parseInt(this.zoomElement.css("padding-right"),10)||0,this.zoomTranslateMinX=(this.zoomElementWidth*this.zoomScale-this.zoomElementWidth)/2-this.peekWidth-t,this.zoomTranslateMaxX=-this.zoomTranslateMinX,this.zoomTranslateMinY=(this.zoomElementHeight*this.zoomScale-this.zoomElementHeight)/2,this.zoomTranslateMaxY=-this.zoomTranslateMinY},e.prototype.setTranslateLimits=function(){this.zoomTranslateX>this.zoomTranslateMinX?this.zoomTranslateX=this.zoomTranslateMinX:this.zoomTranslateX<this.zoomTranslateMaxX&&(this.zoomTranslateX=this.zoomTranslateMaxX),this.zoomTranslateY>this.zoomTranslateMinY?this.zoomTranslateY=this.zoomTranslateMinY:this.zoomTranslateY<this.zoomTranslateMaxY&&(this.zoomTranslateY=this.zoomTranslateMaxY)
},e.prototype.zoomIn=function(t){this.overlay||this.freeze||"true"===this.currentItem.attr("data-ss-no-zoom")||(soysauce.stifle(t),soysauce.overlay.injectCarousel(this,{background:"black",opacity:"1"}))},e.prototype.handleContainerZoom=function(e,i){function s(){return this.zoomElement.off(),this.zoomElement.on(h,function(){a.isZoomed?(a.zoomElement.attr("data-ss-state","zoomed"),a.zoomIcon.attr("data-ss-state","in")):a.zoomIcon.attr("data-ss-state","out")}),this.isZoomed?(this.enableSwipe(),this.zoomElement.attr("data-ss-state","active"),this.zoomScale=1,this.isZoomed=!1):(this.disableSwipe(),this.zoomScalePrev=this.zoomScale,this.zoomElement.attr("data-ss-state","zooming"),this.zoomScale=3,this.isZoomed=!0),this.zoomScaleStart=this.zoomScale,this.zoomTranslateXStart=this.zoomTranslateX,this.zoomTranslateYStart=this.zoomTranslateY,this.isZoomed?(this.setZoomCenterPoint(),i||this.setFocusPoint(e),this.calcTranslateLimits(),this.setTranslateLimits(),void window.setTimeout(function(){n(a.zoomElement[0],a.zoomScale,a.zoomTranslateX,a.zoomTranslateY),a.isZoomed||a.handleUnfreeze()},0)):void window.setTimeout(function(){a.resetZoomState()},0)}var a=this;if(!this.freeze)if("tap"===e.type){var o,r,c;if("true"===this.currentItem.attr("data-ss-no-zoom"))return;o=this.currentItem.find("img[data-ss-zoom-src]"),r=o.attr("src")||this.currentItem.find("img").attr("src"),this.zoomElement=this.currentItem,o.length&&!o.data("isLoaded")&&(o.attr("src",o.attr("data-ss-zoom-src")),this.currentItem.attr("data-ss-state","loading"),this.zoomLoader.show()),c=this.zoomElement.imagesLoaded(),c.fail(function(){o.attr("src",r)}),c.always(function(){o.data("isLoaded",!0),a.zoomLoader.hide(),a.currentItem.attr("data-ss-state","active"),t.proxy(s,a)()})}else this.panning||(this.panning=!0,this.zoomTranslateXStart=this.zoomTranslateX,this.zoomTranslateYStart=this.zoomTranslateY,this.container.hammer().one("release",function(){a.panning=!1})),this.zoomTranslateX=e.gesture.deltaX+this.zoomTranslateXStart,this.zoomTranslateY=e.gesture.deltaY+this.zoomTranslateYStart,this.setTranslateLimits(),n(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY)},e.prototype.resetZoomState=function(){"active"===this.currentItem.attr("data-ss-state")?!0:!1;this.zoomTranslateX=0,this.zoomTranslateY=0,this.zoomScale=1,this.zoomScaleStart=1,this.zoomScalePrev=1,this.zoomElement=this.currentItem,this.isZoomed=!1,this.setZoomCenterPoint(),this.handleUnfreeze(),n(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY)},e.prototype.enableSwipe=function(){-1===t.inArray("noswipe",this.options)&&(this.swipe=!0)},e.prototype.disableSwipe=function(){this.swipe=!1},e.prototype.handleSwipe=function(e){var i=(t(e.target).attr("data-ss-component"),this),n=Math.abs(e.gesture.angle);if(!(i.jumping||i.freeze||i.looping)&&i.swipe){if("swipe"===e.type&&"end"===e.gesture.eventType&&!i.ready)return i.ready=!0,i.interrupted=!1,i.swiping=!1,i.widget.attr("data-ss-state","ready"),void i.container.attr("data-ss-state","ready");if(i.lockScroll&&"release"===e.type)return i.lockScroll=!1,i.widget.attr("data-ss-state","ready"),i.container.attr("data-ss-state","ready"),void window.setTimeout(function(){s(i.container[0],i.offset)},0);if(!i.lockScroll&&(i.lockScroll=n>=60&&120>=n&&!i.swiping?!0:!1,!i.lockScroll)){if(!i.ready&&"touch"===e.type)return i.interruptedOffset=soysauce.vars.degrade?parseInt(i.container[0].style.left,10):parseInt(soysauce.getArrayFromMatrix(i.container.css(c+"transform"))[4],10),i.interrupted=!0,i.looping=!1,i.container.attr("data-ss-state","notransition"),i.widget.attr("data-ss-state","intransit"),void s(i.container[0],i.interruptedOffset);if("end"===e.gesture.eventType){var a=e.gesture.velocityX>=Hammer.gestures.Swipe.defaults.swipe_velocity?!0:!1,o=a||e.gesture.distance>=d?!0:!1,r="left"===i.peekAlign?0:i.peekWidth;soysauce.stifle(e),i.ready=!0,i.swiping=!1,i.widget.attr("data-ss-state","intransit"),i.container.attr("data-ss-state","intransit"),o&&"left"===e.gesture.direction?!i.infinite&&(i.index===i.numChildren-1||i.multi&&i.index===i.maxIndex-Math.floor(i.multiVars.numItems/i.multiVars.stepSize))?i.multi?i.index===i.maxIndex-1?i.gotoPos(i.offset):(i.gotoPos(i.index*-i.itemWidth*i.multiVars.stepSize+r),i.widget.trigger("SSSwipe")):(i.gotoPos(i.index*-i.itemWidth+r),i.widget.trigger("SSSwipe")):(soysauce.vars.degrade&&(i.rewindCoord=parseInt(i.container.css("left"),10)),i.slideForward(),i.widget.trigger("SSSwipe")):o&&"right"===e.gesture.direction?i.infinite||0!==i.index?(soysauce.vars.degrade&&(i.rewindCoord=parseInt(i.container.css("left"),10)),i.slideBackward(),i.widget.trigger("SSSwipe")):i.gotoPos(r):s(i.container[0],i.offset)}else"move"===e.gesture.eventType&&(soysauce.stifle(e),i.swiping=!0,i.ready=!1,i.container.attr("data-ss-state","notransition"),i.widget.attr("data-ss-state","intransit"),i.interrupted?s(i.container[0],i.interruptedOffset+e.gesture.deltaX):s(i.container[0],i.offset+e.gesture.deltaX))}}},e.prototype.gotoPos=function(e,i,n){var a=this;if(this.currentItem=t(this.items.get(a.index)),this.overlay&&this.resetZoomState(),this.offset=e,this.container.attr("data-ss-state","intransit"),this.widget.attr("data-ss-state","intransit"),this.ready=!0,this.autoscroll&&(this.autoscrollOff(),this.autoscrollRestartID&&(window.clearInterval(a.autoscrollRestartID),this.autoscrollRestartID=null)),this.infinite){var o=0,r=0;o=1e3*parseFloat(this.container.css(c+"transition-duration").replace(/s$/,"")),o=o?o:650,n||i||this.index!==this.numChildren-2||this.forward?n||i||1!==this.index||!this.forward?(s(this.container[0],e),this.infiniteID=null):(this.looping=!0,this.infiniteID=window.setTimeout(function(){r=soysauce.vars.degrade?a.rewindCoord:parseInt(soysauce.getArrayFromMatrix(a.container.css(c+"transform"))[4],10),a.container.attr("data-ss-state","notransition"),a.offset=a.itemWidth*(a.numChildren-2)+r,s(a.container[0],a.offset),window.setTimeout(function(){a.container.attr("data-ss-state","intransit"),a.offset=a.peek&&/left/.test(a.peekAlign)?-a.itemWidth:-a.itemWidth+a.peekWidth,s(a.container[0],a.offset),a.looping=!1},20)},0)):(this.looping=!0,this.infiniteID=window.setTimeout(function(){r=soysauce.vars.degrade?a.rewindCoord:parseInt(soysauce.getArrayFromMatrix(a.container.css(c+"transform"))[4],10),a.container.attr("data-ss-state","notransition"),a.offset=r-a.itemWidth*(a.numChildren-2),s(a.container[0],a.offset),window.setTimeout(function(){a.container.attr("data-ss-state","intransit"),a.offset=a.peek&&/left/.test(a.peekAlign)?-a.index*a.itemWidth:-a.index*a.itemWidth+a.peekWidth,s(a.container[0],a.offset),a.looping=!1},20)},0))}else s(this.container[0],e)},e.prototype.slideForward=function(){var e=t(this.infinite?this.dots[this.index-1]:this.dots[this.index]),i=this.numChildren-1,s=this.multi?this.multiVars.stepSize*this.itemWidth:this.itemWidth;if(!this.ready||this.isZooming||!this.infinite&&this.index===i||!this.infinite&&this.multi&&this.index===this.maxIndex-1)return!1;if(e.attr("data-ss-state","inactive"),this.multi){var n=t(this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems));n.attr("data-ss-state","inactive"),this.index++}else t(this.items[this.index++]).attr("data-ss-state","inactive");if(this.infinite&&this.index===i)t(this.items[1]).attr("data-ss-state","active"),this.index=1;else if(this.multi){var n;n=t(this.multiVars.even||this.index!==this.maxIndex-1?this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems):this.items.slice(this.items.length-this.multiVars.stepSize,this.items.length)),n.attr("data-ss-state","active")}else t(this.items[this.index]).attr("data-ss-state","active");return e=t(this.infinite?this.dots[this.index-1]:this.dots[this.index]),e.attr("data-ss-state","active"),this.infinite||((this.index===i||this.multi&&this.index===this.maxIndex-1)&&this.nextBtn.attr("data-ss-state","disabled"),this.numChildren>1&&this.prevBtn.attr("data-ss-state","enabled")),this.ready=!1,this.forward=!0,this.multi&&!this.multiVars.even&&this.index===this.maxIndex-1&&(s-=(this.multiVars.stepSize-this.items.length%this.multiVars.stepSize)*this.itemWidth),this.gotoPos(this.offset-s),!0},e.prototype.slideBackward=function(){var e=t(this.infinite?this.dots[this.index-1]:this.dots[this.index]),i=this.numChildren-1,s=this.multi?this.multiVars.stepSize*this.itemWidth:this.itemWidth;if(!this.ready||!this.infinite&&0===this.index||this.isZooming)return!1;if(e.attr("data-ss-state","inactive"),this.multi){var n=t(this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems));n.attr("data-ss-state","inactive"),this.index--}else t(this.items[this.index--]).attr("data-ss-state","inactive");if(this.infinite&&0===this.index)t(this.items[i-1]).attr("data-ss-state","active"),this.index=i-1;else if(this.multi){var n=t(this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems));n.attr("data-ss-state","active")}else t(this.items[this.index]).attr("data-ss-state","active");if(e=t(this.infinite?this.dots[this.index-1]:this.dots[this.index]),e.attr("data-ss-state","active"),this.infinite||(0===this.index&&this.prevBtn.attr("data-ss-state","disabled"),this.numChildren>1&&this.nextBtn.attr("data-ss-state","enabled")),this.ready=!1,this.forward=!1,this.multi&&!this.multiVars.even&&0===this.index){var a="left"===this.peekAlign?0:this.peekWidth;this.gotoPos(0+a)}else this.gotoPos(this.offset+s);return!0},e.prototype.handleResize=function(){var e,i=0,n="",a=this;if(window.clearTimeout(this.resizeID),(!this.widget.is(":hidden")||this.defer)&&(this.widgetWidth=this.widget.outerWidth(),this.widgetWidth||(e=this.widget.parents().closest("[data-ss-widget='toggler'] [data-ss-component='content']")),e&&(e.css("display","block"),this.widgetWidth=this.widgetWidth||e.outerWidth()),!this.fade)){if(this.isZoomed&&(this.resetZoomState(),this.enableSwipe()),this.peek&&this.responsivePeek)switch(soysauce.browser.getOrientation()){case"portrait":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-portrait"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||r;break;case"landscape":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-landscape"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||r}var o=this.widgetWidth;this.peek&&(o-=2*this.peekWidth),this.multi&&(this.multiVars.minWidth&&(this.multiVars.numItems=Math.floor(o/this.multiVars.minWidth)),this.itemWidth=o/this.multiVars.numItems),n=this.container.attr("data-ss-state"),i=this.multi?o-this.itemWidth*this.multiVars.numItems:o-this.itemWidth,this.itemWidth+=i,this.offset=this.peek&&"left"===this.peekAlign?-this.index*this.itemWidth:-this.index*this.itemWidth+this.peekWidth,this.container.attr("data-ss-state","notransition"),this.widget.attr("data-ss-state")&&this.widget.attr("data-ss-state","intransit"),this.items.css("width",this.itemWidth+"px"),s(this.container[0],this.offset),this.container.css("width",this.itemWidth*this.numChildren+"px"),this.autoheight&&this.widget.css("height",t(this.items[this.index]).outerHeight(!0)),this.resizeID=window.setTimeout(function(){a.container.attr("data-ss-state","ready"),a.widget.attr("data-ss-state")&&a.widget.attr("data-ss-state","ready")},300)}},e.prototype.autoscrollOn=function(t){var e=this;if(!this.autoscroll&&!t)return!1;if(this.autoscroll=t?!0:this.autoscroll,!this.autoscrollID){if(!this.autoscrollInterval){var i=this.widget.attr("data-ss-autoscroll-interval");this.autoscrollInterval=i?parseInt(i,10):o}return this.autoscrollID=window.setInterval(function(){soysauce.vars.degrade&&(e.rewindCoord=3*-e.itemWidth-e.peekWidth),e.slideForward()},e.autoscrollInterval),!0}return!1},e.prototype.autoscrollOff=function(t){var e=this;return this.autoscroll&&(this.autoscrollID||t)?(window.clearInterval(e.autoscrollID),this.autoscrollID=null,!0):!1},e.prototype.handleFreeze=function(){return this.freeze?void 0:(this.freeze=!0,this.autoscrollOff(!0),!0)},e.prototype.handleUnfreeze=function(){return this.freeze?(this.freeze=!1,this.autoscrollOn(),!0):void 0},e.prototype.jumpTo=function(e,i){var n=this;if(e===this.index)return!1;if(this.infinite){if(1>e||e>this.maxIndex)return!1}else if(0>e||e>this.maxIndex-1)return!1;this.jumping=!0,this.ready=!1;var a=e*-this.itemWidth+this.peekWidth;if(this.infinite?(t(this.items[this.index]).attr("data-ss-state","inactive"),t(this.items[e]).attr("data-ss-state","active"),t(this.dots[this.index-1]).attr("data-ss-state","inactive"),t(this.dots[e-1]).attr("data-ss-state","active")):(t(this.items[this.index]).attr("data-ss-state","inactive"),t(this.items[e]).attr("data-ss-state","active"),t(this.dots[this.index]).attr("data-ss-state","inactive"),t(this.dots[e]).attr("data-ss-state","active")),this.fade)return this.index=e,!0;if(this.autoheight){var o=t(this.items[e]).outerHeight(!0);this.widget.height(o)}return this.index=e,i?(this.container.attr("data-ss-state","notransition"),s(n.container[0],a),setTimeout(function(){n.gotoPos(a,!0),n.setTransitionedStates({timestamp:new Date})},0)):this.gotoPos(a,!0),!0},e.prototype.setTransitionedStates=function(e){var i=this;Math.abs(e.timeStamp-i.lastTransitionEnd)<300||(i.lastTransitionEnd=e.timeStamp,i.widget.trigger("slideEnd"),i.widget.trigger("SSSlideEnd"),i.ready=!0,i.jumping=!1,i.interrupted=!1,i.swiping=!1,i.looping=!1,i.container.attr("data-ss-state","ready"),i.widget.attr("data-ss-state","ready"),i.autoscroll&&!i.autoscrollRestartID&&(i.autoscrollRestartID=window.setTimeout(function(){i.autoscrollOn()},1e3)),i.autoheight&&i.widget.css("height",t(i.items[i.index]).outerHeight(!0)))},e.prototype.updateItems=function(){var t=this;this.ready=!1,this.container.find("> [data-ss-component='item']:not([data-ss-state])").attr("data-ss-state","inactive"),this.container.find("> [data-ss-component][data-ss-state='active']").length||(this.infinite?this.container.find("> [data-ss-component='item']:nth-of-type(2)").attr("data-ss-state","active"):this.items.first().attr("data-ss-state","active")),this.index=this.container.find("> [data-ss-component][data-ss-state='active']").index(),this.items=this.container.find("> [data-ss-component='item']"),this.items.css("width",this.itemWidth),this.numChildren=this.items.length,this.maxIndex=this.infinite?this.numChildren-2:this.numChildren-1,this.container.css("width",this.itemWidth*this.numChildren),this.container.imagesLoaded(function(){t.ready=!0,t.widget.attr("data-ss-state","ready")})},{init:function(t){return new e(t)}}}(jQuery),soysauce.geocoder=function(t){function e(e){var i=soysauce.getOptions(e),s=this;this.widget=t(e),this.zip=this.widget.find("[data-ss-component='zip']"),this.city=this.widget.find("[data-ss-component='city']"),this.state=this.widget.find("[data-ss-component='state']"),this.lastRequestedData,this.freeze=!1,this.data=null,this.reverse=!1,this.reverseGeocodeButton=this.widget.find("[data-ss-component='reverse-geocode']"),i&&i.forEach(function(t){switch(t){case"reverse":s.reverse=!0}}),this.reverse?this.reverseGeocodeButton.on("click",function(){s.reverseGeocode()}):this.zip.on("keyup change",function(){s.getLocationData()})}var i="//jeocoder.herokuapp.com/zips/",s="//www.mapquestapi.com/geocoding/v1/reverse?key=Fmjtd%7Cluub2l6tnu%2Ca5%3Do5-96tw0f";return e.prototype.reverseGeocode=function(){function e(e){var i=s+"&lat="+e.coords.latitude+"&lng="+e.coords.longitude+"&callback=soysauce.fetch("+n.id+").setLocationData";t("body").append("<script src='"+i+"'></script>")}function i(t){console.warn("Soysauce (err "+t.code+") could not fetch data: "+t.message),n.widget.trigger("SSDataError")}var n=this;if(navigator.geolocation&&!this.freeze){n.widget.trigger("SSDataFetch"),navigator.geolocation.getCurrentPosition(e,i,a);var a={enableHighAccuracy:!0,timeout:2e4,maximumAge:0}}},e.prototype.setLocationData=function(t){if(!this.freeze){this.lastRequestedData=t;try{if(this.reverse){var e=t.results[0].locations[0];this.widget.data("zip",e.postalCode),this.widget.data("city",e.adminArea5),this.widget.data("state",e.adminArea3),this.data={},this.data.zip=e.postalCode,this.data.city=e.adminArea5,this.data.state=e.adminArea3}else this.widget.data("city",t.city),this.widget.data("state",t.state),this.data=t;this.widget.trigger("SSDataReady")}catch(i){console.warn("Soysauce: Unable to set location data. Try obtaining data from 'lastRequestedData' variable.")}}},e.prototype.getLocationData=function(){var e=this,s=this.zip[0].value;this.freeze||5!==s.length||parseFloat(s,10)!=parseInt(s,10)||isNaN(s)||(this.widget.trigger("SSDataFetch"),t.ajax({dataType:"json",url:i+s,success:function(t){e.setLocationData(t)},error:function(){e.widget.trigger("SSDataError"),console.warn("Soysauce: Could not fetch zip code "+s)}}))},e.prototype.handleFreeze=function(){this.freeze=!0},e.prototype.handleUnfreeze=function(){this.freeze=!1},{init:function(t){return new e(t)}}}(jQuery),soysauce.inputClear=function(t){function e(e){var i=(soysauce.getOptions(e),this),s=!1;this.widget=t(e),this.icon,this.widget.on("focus keyup",function(){i.handleIcon()}),this.widget.on("blur",function(){s||i.widget.attr("data-ss-clear","off")}),this.widget.wrap("<div data-ss-component='input-wrapper'></div>"),this.widget.parent().css({display:i.widget.css("display")}),this.widget.attr("data-ss-clear","off"),this.widget.after("<span data-ss-component='icon'></span>"),this.icon=this.widget.find("+ [data-ss-component='icon']"),this.icon.on("mousedown touchstart",function(){s=!0,i.icon.one("mouseup touchend",function(){i.clear(),s=!1})})}return e.prototype.clear=function(){this.widget.val("").attr("data-ss-clear","off"),this.widget.trigger("SSEmpty")},e.prototype.handleIcon=function(){this.widget.attr("data-ss-clear",this.widget.val().length?"on":"off")},{init:function(t){return new e(t)}}}(jQuery),soysauce.lazyloader=function(t){function e(e){var n=soysauce.getOptions(e),a=this;if(this.widget=t(e),this.items=this.widget.find("[data-ss-component='item']"),this.threshold=parseInt(this.widget.attr("data-ss-threshold"),10)||s,this.processingThreshold=0,this.processing=!1,this.button=this.widget.find("[data-ss-component='button']"),this.complete=this.items.length?!1:!0,this.batchSize=parseInt(this.widget.attr("data-ss-batch-size"),10)||5,this.initialLoad=parseInt(this.widget.attr("data-ss-initial-load"),10),this.initialBatchLoaded=!1,this.initialLoad=0===this.initialLoad?0:this.batchSize,this.freeze=!1,this.autoload=!1,this.autoloadInterval=parseInt(this.widget.attr("data-ss-interval"),10)||1e3,this.autoloadIntervalID=0,this.cache=!1,this.cacheInput=t("[data-ss-component='cache']"),this.isCached=!1,this.persistedLoad=!1,this.hover=!1,n&&n.forEach(function(t){switch(t){case"autoload":a.autoload=!0;break;case"cache":a.cacheInput.length?(a.cache=!0,a.isCached=1===parseInt(a.cacheInput.val(),10)?!0:!1):console.warn("Soysauce: Cache input not found.");break;case"hover":a.hover=!0,a.autoload=!0}}),this.cache){var o=!1;this.isCached?this.widget.one("SSWidgetReady",function(){a.widget.trigger("SSLoadState"),o=!0}):this.cacheInput.val(1),i.on("pagehide",function(){a.widget.trigger("SSSaveState")}),i.on("pageshow",function(e){a.persistedLoad=e.originalEvent.persisted,t(document).ready(function(){a.widget.trigger("SSLoadState")})})}this.processNextBatch(this.initialLoad),this.button.length&&this.button.on("click",function(){a.processNextBatch()}),this.autoload&&this.startAutoload()}var i=t(window),s=1200;return e.prototype.detectThreshold=function(){var t=this.widget.height()+this.widget.offset().top-this.threshold,e=i.scrollTop()+i.height();!this.processing&&e>t&&this.widget.trigger("SSThreshold")},e.prototype.startAutoload=function(){var t=this;return this.autoload?(this.autoloadIntervalID=window.setInterval(function(){t.detectThreshold()},t.autoloadInterval),!0):!1},e.prototype.pauseAutoload=function(){return this.autoloadIntervalID&&this.autoload?(window.clearInterval(this.autoloadIntervalID),this.autoloadIntervalID=null,!0):!1},e.prototype.processNextBatch=function(e){var i,s=this,n=0;e=0===e?0:this.batchSize,i=t(this.items.splice(0,e)),this.processing||this.complete||!this.initialBatchLoaded&&0===this.initialLoad||this.freeze||(this.processing=!0,this.widget.trigger("SSBatchStart"),0===i.length?(this.processing=!1,this.complete=!0,this.widget.trigger("SSItemsEmpty")):i.each(function(e,a){var o=t(a);return s.freeze?!1:(o.find("[data-ss-ll-src]").each(function(){soysauce.lateload(this)}),void o.imagesLoaded(function(){o.attr("data-ss-state","loaded"),++n===i.length&&(s.processing=!1,s.widget.trigger("SSBatchLoaded"),s.items.length&&s.initialBatchLoaded&&s.calcProcessingThreshold(),s.items.length?s.initialBatchLoaded||(s.initialBatchLoaded=!0,s.calcProcessingThreshold()):(s.complete=!0,s.widget.trigger("SSItemsEmpty")))}))}))},e.prototype.calcProcessingThreshold=function(){this.items.length&&(this.processingThreshold=this.widget.height()+this.widget.offset().top-this.items.first().offset().top,this.processingThreshold=this.threshold<s?s:this.processingThreshold)},e.prototype.reload=function(t,e){this.items=this.widget.find("[data-ss-component='item']:not([data-ss-state])"),this.items.length&&(this.complete=!1,t!==!1&&this.processNextBatch(e))},e.prototype.handleResize=function(){this.calcProcessingThreshold()},e.prototype.handleFreeze=function(){return this.freeze?!1:(this.freeze=!0,this.pauseAutoload(),!0)},e.prototype.handleUnfreeze=function(){return this.freeze?(this.freeze=!1,this.startAutoload(),!0):!1},{init:function(t){return new e(t)}}}(jQuery),soysauce.togglers=function(t,e){function i(i,n){function a(e,i){f=t(i).attr("data-ss-ajax-url"),e.setState("ajaxing"),e.ready=!1,e.ajaxing=!0,soysauce.ajax(f,function(t,i){/success|cached/.test(i)?e.ajaxData=t:console.warn("Soysauce: AJAX request to "+f+" failed in toggler.js"),e.setAjaxComplete()})}var o=this,r=soysauce.getOptions(i);if(n){var h=t(i),c=h.attr("data-ss-toggler-id"),d="[data-ss-toggler-id='"+c+"']",l="";if(this.orphan=!0,this.widget=t(d),this.widget.each(function(e,i){var s=t(i).attr("data-ss-component");switch(s){case"button":o.button=t(i);break;case"content":o.content=t(i)}}),!this.content)return void console.warn("Soysauce: No content found for toggler-id '"+c+"'. Toggler may not work.");this.button.click(function(t){return o.opened?!1:void o.toggle(null,t)}),l=h.attr("data-ss-tab-group"),this.orphanTabGroup=t("[data-ss-tab-group='"+l+"']"),this.orphanTabs=this.orphanTabGroup.length>1?!0:!1,this.content.attr("data-ss-id",h.attr("data-ss-id")),this.allButtons=this.button,this.allContent=this.content,"open"===this.button.attr("data-ss-state")?(this.setState("open"),this.opened=!0):(this.setState("closed"),this.opened=!1)}else this.widget=t(i),this.orphan=!1,this.allButtons=this.widget.find("> [data-ss-component='button']"),this.button=this.allButtons.first(),this.allContent=this.widget.find("> [data-ss-component='content']"),this.content=this.allContent.first();if(this.parentID=0,this.state="closed",this.isChildToggler=!1,this.hasTogglers=!1,this.parent=e,this.ready=!0,this.adjustFlag=!1,this.freeze=!1,this.opened=this.opened||!1,this.slide=!1,this.height=0,this.prevChildHeight=0,this.ajax=!1,this.ajaxData,this.ajaxing=!1,this.ajaxOnLoad=!1,this.tab=!1,this.childTabOpen=!1,this.nocollapse=!1,this.responsive=!1,this.responsiveVars={threshold:parseInt(this.widget.attr("data-ss-responsive-threshold"),10)||768,accordions:!0},r&&r.forEach(function(t){switch(t){case"ajax":o.ajax=!0,o.ajaxOnLoad=/true/.test(o.widget.attr("data-ss-ajax-onload"));break;case"tabs":o.tab=!0;break;case"nocollapse":o.nocollapse=!0;break;case"slide":o.slide=soysauce.vars.degrade?!1:!0;break;case"responsive":o.responsive=!0,o.tab=!0}}),this.orphan)return this.content.on(s,function(){o.content.trigger("slideEnd"),o.ready=!0}),this;if(this.allButtons.append("<span class='icon'></span>"),this.allContent.wrapInner("<div data-ss-component='wrapper'/>"),this.hasTogglers=this.widget.has("[data-ss-widget='toggler']").length>0?!0:!1,this.isChildToggler=this.widget.parents("[data-ss-widget='toggler']").length>0?!0:!1,this.isChildToggler){var u=this.widget.parents("[data-ss-widget='toggler']");this.parentID=parseInt(u.attr("data-ss-id"),10),this.parent=soysauce.fetch(this.parentID)}if("open"===this.widget.attr("data-ss-state")?(this.allButtons.each(function(){var e=t(this);e.attr("data-ss-state")?"open"===e.attr("data-ss-state")&&(o.button=e,o.content=e.find("+ [data-ss-component='content']")):(e.attr("data-ss-state","closed"),e.find("+ [data-ss-component='content']").attr("data-ss-state","closed"))}),this.opened=!0):(this.allButtons.attr("data-ss-state","closed"),this.allContent.attr("data-ss-state","closed"),this.widget.attr("data-ss-state","closed"),this.opened=!1),this.slide&&(this.widget.find("> [data-ss-component='content'][data-ss-state='open']").attr("data-ss-open-onload","true"),this.allContent.attr("data-ss-state","open"),this.allContent.each(function(){var e=t(this);e.imagesLoaded(function(){var t;o.hasTogglers&&e.find("[data-ss-component='content']").attr("data-ss-state","closed"),t=e.outerHeight(!0),e.attr("data-ss-slide-height",t),e.attr("data-ss-open-onload")?(o.height=t,e.css("height",o.height)):(e.css("height","0px"),e.attr("data-ss-state","closed")),o.hasTogglers&&e.find("[data-ss-component='content']").removeAttr("data-ss-state")})}),this.allContent.on(s,function(){o.orphan||o.widget.trigger("slideEnd"),o.ready=!0})),this.allButtons.click(function(t){o.toggle(null,t)}),this.responsive&&this.handleResponsive(),this.ajax){var p,g=this.widget,m=this.widget.find("> [data-ss-component='content'][data-ss-ajax-url]"),f="",o=this;if(0===m.length)return void console.warn("Soysauce: 'data-ss-ajax-url' tag required on content. Must be on the same domain if site doesn't support CORS.");m.each(function(e,i){p=t(i.previousElementSibling),o.ajaxOnLoad?g.on("SSWidgetReady",function(){a(o,i)}):p.click(function(){a(o,i)})})}this.tab&&this.nocollapse&&this.content.imagesLoaded(function(){o.widget.css("min-height",o.button.outerHeight(!0)+o.content.outerHeight(!0))})}var s="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";return i.prototype.openToggler=function(){var e=this.responsiveVars.accordions;if(this.ready||e){var i=this;if(this.slide){if(this.responsive&&!e)return;this.ready=!1,(this.adjustFlag||e)&&this.content.one(s,function(){i.adjustHeight()}),this.isChildToggler&&this.parent.slide&&(this.tab?this.parent.setHeight(this.parent.height+this.height-this.parent.prevChildHeight):this.parent.addHeight(this.height),this.parent.prevChildHeight=this.height),this.ajax&&0===this.height?t(this.content).imagesLoaded(function(){i.content.css("height","auto"),i.height=i.content.outerHeight(!0),i.content.css("height",i.height+"px")}):(i.height=parseInt(i.content.attr("data-ss-slide-height"),10),i.content.css("height",i.height+"px"))}this.tab&&this.nocollapse&&this.widget.css("min-height",this.button.outerHeight(!0)+this.content.outerHeight(!0)),this.opened=!0,this.setState("open")}},i.prototype.close=function(e,i){var s=t(e);if(this.ready){if(this.slide&&(this.ready=!1,this.isChildToggler&&this.parent.slide&&i&&this.parent.addHeight(-this.height),this.content.css("height","0px")),e){if("closed"===s.attr("data-ss-state"))return!1;"button"===s.attr("data-ss-component")?(this.button=s,this.orphan||(this.content=s.find("+ *"))):console.warn("Soysauce: target parameter must be a button")}else this.allButtons.attr("data-ss-state","closed"),this.allContent.attr("data-ss-state","closed"),this.state="closed",this.opened=!1;this.setState("closed")}},i.prototype.open=function(e){var i=t(e);return"open"===i.attr("data-ss-state")?!1:("button"!==i.attr("data-ss-component")||this.orphan||(i=i.find("+ *")),void this.toggle(i[0]))},i.prototype.doResize=function(){this.adjustFlag=!0,this.opened&&this.adjustHeight(),this.responsive&&this.handleResponsive()},i.prototype.handleResize=function(){var t=this,e=this.allContent.find("[data-ss-widget]");this.defer&&e.length?(this.allContent.css({clear:"both",position:"relative"}),e.length?e.each(function(i,s){var n=soysauce.fetch(s).widget;i+1===e.length&&n.one("SSWidgetResized",function(){t.allContent.css({clear:"",position:"",display:""}),t.doResize()})}):this.doResize()):this.doResize()},i.prototype.adjustHeight=function(){return this.slide?void(this.opened&&(this.height=this.content.find("> [data-ss-component='wrapper']").outerHeight(!0),this.content.attr("data-ss-slide-height",this.height).height(this.height))):void(this.tab&&this.nocollapse&&this.widget.css("min-height",this.button.outerHeight(!0)+this.content.outerHeight(!0)))},i.prototype.addHeight=function(t){this.height+=t,this.height=this.height<0?0:this.height,this.slide&&this.content.attr("data-ss-slide-height",this.height),this.content.css("height",this.height+"px")},i.prototype.setHeight=function(t){this.height=t,this.height=this.height<0?0:this.height,this.slide&&this.content.attr("data-ss-slide-height",this.height),this.content.css("height",this.height+"px")},i.prototype.toggle=function(e,i){var s,n=this;if(!this.freeze&&!this.ajaxing){if(i)s=i.target;else if(e&&!this.orphan){"string"==typeof e&&(s=e=this.widget.find(e)[0]);try{if(/content/.test(e.attributes["data-ss-component"].value)){{this.widget.find(e)}s=e.previousElementSibling}}catch(i){console.warn("Soysauce: component passed is not a Soysauce component. Opening first toggler."),s=this.button[0]}}else s=this.button[0],s&&!s.attributes["data-ss-component"]&&console.warn("Soysauce: component passed is not a Soysauce component. Opening first toggler.");if(t(s).attr("data-ss-component")||(s=t(s).closest("[data-ss-component='button']")[0]),this.orphan)return void(this.opened?(this.opened=!1,this.setState("closed")):(this.orphanTabs&&this.orphanTabGroup.each(function(){var t=soysauce.fetch(this);t.opened&&t.toggle()}),this.opened=!0,this.setState("open")));if(this.tab){var a="open"===this.button.attr("data-ss-state")&&this.button[0]===s?!0:!1;if((this.responsive&&!this.responsiveVars.accordions||this.nocollapse)&&this.button[0]===s)return;if(this.isChildToggler&&this.tab&&(this.parent.childTabOpen=!a,a&&(this.parent.prevChildHeight=0)),this.close(null,a),this.button=t(s),this.content=t(s).find("+ [data-ss-component='content']"),this.slide&&(n.height=parseInt(n.content.attr("data-ss-slide-height"),10)),a)return this.widget.attr("data-ss-state","closed"),void(this.opened=!1);this.openToggler()}else{var a;this.button=t(s),this.content=t(s).find("+ [data-ss-component='content']"),a="open"===this.button.attr("data-ss-state")&&1===this.widget.find("[data-ss-component='button'][data-ss-state='open']").length?!0:!1,a&&(this.opened=!1),"closed"===this.button.attr("data-ss-state")?this.openToggler():this.close(s)}}},i.prototype.setState=function(t){this.state=t,this.button.attr("data-ss-state",t),this.content.attr("data-ss-state",t),this.orphan||(this.opened?this.widget.attr("data-ss-state","open"):this.widget.attr("data-ss-state","closed"),this.responsive&&this.opened&&this.handleResponsive())},i.prototype.setAjaxComplete=function(){this.ajaxing=!1,this.ready=!0,this.setState(this.opened?"open":"closed"),this.widget.trigger("SSAjaxComplete")},i.prototype.handleFreeze=function(){this.freeze=!0},i.prototype.handleUnfreeze=function(){this.freeze=!1},i.prototype.handleResponsive=function(){this.responsive&&(window.innerWidth>=this.responsiveVars.threshold?(this.responsiveVars.accordions=!1,this.widget.attr("data-ss-responsive-type","tabs"),this.opened||(this.button=this.widget.find("[data-ss-component='button']").first(),this.content=this.widget.find("[data-ss-component='content']").first(),this.openToggler()),this.widget.css("min-height",this.button.outerHeight(!0)+this.content.outerHeight(!0)+"px")):(this.responsiveVars.accordions=!0,this.widget.attr("data-ss-responsive-type","accordions"),this.widget.css("min-height","0")))},{init:function(t,e){return new i(t,e)}}}(jQuery);
