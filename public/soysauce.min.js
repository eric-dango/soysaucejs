function FastClick(t){"use strict";var e,i=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=t,!t||!t.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(i,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(i,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(i,arguments)},this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(i,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(i,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(i,arguments)},FastClick.notNeeded(t)||(this.deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,s){var n=Node.prototype.removeEventListener;"click"===e?n.call(t,e,i.hijacked||i,s):n.call(t,e,i,s)},t.addEventListener=function(e,i,s){var n=Node.prototype.addEventListener;"click"===e?n.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),s):n.call(t,e,i,s)}),"function"==typeof t.onclick&&(e=t.onclick,t.addEventListener("click",function(t){e(t)},!1),t.onclick=null))}FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var i,s;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),s=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},FastClick.prototype.determineEventType=function(t){"use strict";return this.deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,i,s;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],this.deviceIsIOS){if(s=window.getSelection(),s.rangeCount&&!s.isCollapsed)return!0;if(!this.deviceIsIOS4){if(i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,i,s,n,a,o=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(a=t.changedTouches[0],o=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)||o,o.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=o.tagName.toLowerCase(),"label"===s){if(e=this.findControl(o)){if(this.focus(o),this.deviceIsAndroid)return!1;o=e}}else if(this.needsFocus(o))return t.timeStamp-i>100||this.deviceIsIOS&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(o),this.deviceIsIOS4&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(n=o.fastClickScrollParent,n&&n.fastClickLastScrollTop!==n.scrollTop)?!0:(this.needsClick(o)||(t.preventDefault(),this.sendClick(o,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;this.deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,i;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!FastClick.prototype.deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t){"use strict";return new FastClick(t)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(t,e){"use strict";function i(){s.READY||(s.event.determineEventTypes(),s.utils.each(s.gestures,function(t){s.detection.register(t)}),s.event.onTouch(s.DOCUMENT,s.EVENT_MOVE,s.detection.detect),s.event.onTouch(s.DOCUMENT,s.EVENT_END,s.detection.detect),s.READY=!0)}var s=function(t,e){return new s.Instance(t,e||{})};s.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},s.HAS_POINTEREVENTS=t.navigator.pointerEnabled||t.navigator.msPointerEnabled,s.HAS_TOUCHEVENTS="ontouchstart"in t,s.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,s.NO_MOUSEEVENTS=s.HAS_TOUCHEVENTS&&t.navigator.userAgent.match(s.MOBILE_REGEX),s.EVENT_TYPES={},s.DIRECTION_DOWN="down",s.DIRECTION_LEFT="left",s.DIRECTION_UP="up",s.DIRECTION_RIGHT="right",s.POINTER_MOUSE="mouse",s.POINTER_TOUCH="touch",s.POINTER_PEN="pen",s.EVENT_START="start",s.EVENT_MOVE="move",s.EVENT_END="end",s.DOCUMENT=t.document,s.plugins=s.plugins||{},s.gestures=s.gestures||{},s.READY=!1,s.utils={extend:function(t,i,s){for(var n in i)t[n]!==e&&s||(t[n]=i[n]);return t},each:function(t,i,s){var n,a;if("forEach"in t)t.forEach(i,s);else if(t.length!==e){for(n=0,a=t.length;a>n;n++)if(i.call(s,t[n],n,t)===!1)return}else for(n in t)if(t.hasOwnProperty(n)&&i.call(s,t[n],n,t)===!1)return},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],i=[];return s.utils.each(t,function(t){e.push("undefined"!=typeof t.clientX?t.clientX:t.pageX),i.push("undefined"!=typeof t.clientY?t.clientY:t.pageY)}),{pageX:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2,pageY:(Math.min.apply(Math,i)+Math.max.apply(Math,i))/2}},getVelocity:function(t,e,i){return{x:Math.abs(e/t)||0,y:Math.abs(i/t)||0}},getAngle:function(t,e){var i=e.pageY-t.pageY,s=e.pageX-t.pageX;return 180*Math.atan2(i,s)/Math.PI},getDirection:function(t,e){var i=Math.abs(t.pageX-e.pageX),n=Math.abs(t.pageY-e.pageY);return i>=n?t.pageX-e.pageX>0?s.DIRECTION_LEFT:s.DIRECTION_RIGHT:t.pageY-e.pageY>0?s.DIRECTION_UP:s.DIRECTION_DOWN},getDistance:function(t,e){var i=e.pageX-t.pageX,s=e.pageY-t.pageY;return Math.sqrt(i*i+s*s)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==s.DIRECTION_UP||t==s.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(t,e){e&&t&&t.style&&(s.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(i){s.utils.each(e,function(e){i&&(e=i+e.substring(0,1).toUpperCase()+e.substring(1)),e in t.style&&(t.style[e]=e)})}),"none"==e.userSelect&&(t.onselectstart=function(){return!1}),"none"==e.userDrag&&(t.ondragstart=function(){return!1}))}},s.Instance=function(t,e){var n=this;return i(),this.element=t,this.enabled=!0,this.options=s.utils.extend(s.utils.extend({},s.defaults),e||{}),this.options.stop_browser_behavior&&s.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),s.event.onTouch(t,s.EVENT_START,function(t){n.enabled&&s.detection.startDetect(n,t)}),this},s.Instance.prototype={on:function(t,e){var i=t.split(" ");return s.utils.each(i,function(t){this.element.addEventListener(t,e,!1)},this),this},off:function(t,e){var i=t.split(" ");return s.utils.each(i,function(t){this.element.removeEventListener(t,e,!1)},this),this},trigger:function(t,e){e||(e={});var i=s.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e;var n=this.element;return s.utils.hasParent(e.target,n)&&(n=e.target),n.dispatchEvent(i),this},enable:function(t){return this.enabled=t,this}};var n=null,a=!1,o=!1;s.event={bindDom:function(t,e,i){var n=e.split(" ");s.utils.each(n,function(e){t.addEventListener(e,i,!1)})},onTouch:function(t,e,i){var r=this;this.bindDom(t,s.EVENT_TYPES[e],function(h){var c=h.type.toLowerCase();if(!c.match(/mouse/)||!o){c.match(/touch/)||c.match(/pointerdown/)||c.match(/mouse/)&&1===h.which?a=!0:c.match(/mouse/)&&!h.which&&(a=!1),c.match(/touch|pointer/)&&(o=!0);var d=0;a&&(s.HAS_POINTEREVENTS&&e!=s.EVENT_END?d=s.PointerEvent.updatePointer(e,h):c.match(/touch/)?d=h.touches.length:o||(d=c.match(/up/)?0:1),d>0&&e==s.EVENT_END?e=s.EVENT_MOVE:d||(e=s.EVENT_END),(d||null===n)&&(n=h),i.call(s.detection,r.collectEventData(t,e,r.getTouchList(n,e),h)),s.HAS_POINTEREVENTS&&e==s.EVENT_END&&(d=s.PointerEvent.updatePointer(e,h))),d||(n=null,a=!1,o=!1,s.PointerEvent.reset())}})},determineEventTypes:function(){var t;t=s.HAS_POINTEREVENTS?s.PointerEvent.getEvents():s.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],s.EVENT_TYPES[s.EVENT_START]=t[0],s.EVENT_TYPES[s.EVENT_MOVE]=t[1],s.EVENT_TYPES[s.EVENT_END]=t[2]},getTouchList:function(t){return s.HAS_POINTEREVENTS?s.PointerEvent.getTouchList():t.touches?t.touches:(t.identifier=1,[t])},collectEventData:function(t,e,i,n){var a=s.POINTER_TOUCH;return(n.type.match(/mouse/)||s.PointerEvent.matchType(s.POINTER_MOUSE,n))&&(a=s.POINTER_MOUSE),{center:s.utils.getCenter(i),timeStamp:(new Date).getTime(),target:n.target,touches:i,eventType:e,pointerType:a,srcEvent:n,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return s.detection.stopDetect()}}}},s.PointerEvent={pointers:{},getTouchList:function(){var t=this,e=[];return s.utils.each(t.pointers,function(t){e.push(t)}),e},updatePointer:function(t,e){return t==s.EVENT_END?this.pointers={}:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e),Object.keys(this.pointers).length},matchType:function(t,e){if(!e.pointerType)return!1;var i=e.pointerType,n={};return n[s.POINTER_MOUSE]=i===e.MSPOINTER_TYPE_MOUSE||i===s.POINTER_MOUSE,n[s.POINTER_TOUCH]=i===e.MSPOINTER_TYPE_TOUCH||i===s.POINTER_TOUCH,n[s.POINTER_PEN]=i===e.MSPOINTER_TYPE_PEN||i===s.POINTER_PEN,n[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},s.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:s.utils.extend({},e),lastEvent:!1,name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst.options;return s.utils.each(this.gestures,function(i){return this.stopped||e[i.name]===!1||i.handler.call(i,t,this.current.inst)!==!1?void 0:(this.stopDetect(),!1)},this),this.current&&(this.current.lastEvent=t),t.eventType==s.EVENT_END&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=s.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var e=this.current.startEvent;!e||t.touches.length==e.touches.length&&t.touches!==e.touches||(e.touches=[],s.utils.each(t.touches,function(t){e.touches.push(s.utils.extend({},t))}));var i,n,a=t.timeStamp-e.timeStamp,o=t.center.pageX-e.center.pageX,r=t.center.pageY-e.center.pageY,h=s.utils.getVelocity(a,o,r);return"end"===t.eventType?(i=this.current.lastEvent&&this.current.lastEvent.interimAngle,n=this.current.lastEvent&&this.current.lastEvent.interimDirection):(i=this.current.lastEvent&&s.utils.getAngle(this.current.lastEvent.center,t.center),n=this.current.lastEvent&&s.utils.getDirection(this.current.lastEvent.center,t.center)),s.utils.extend(t,{deltaTime:a,deltaX:o,deltaY:r,velocityX:h.x,velocityY:h.y,distance:s.utils.getDistance(e.center,t.center),angle:s.utils.getAngle(e.center,t.center),interimAngle:i,direction:s.utils.getDirection(e.center,t.center),interimDirection:n,scale:s.utils.getScale(e.touches,t.touches),rotation:s.utils.getRotation(e.touches,t.touches),startEvent:e}),t},register:function(t){var i=t.defaults||{};return i[t.name]===e&&(i[t.name]=!0),s.utils.extend(s.defaults,i,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},s.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,e){if(s.detection.current.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),void(this.triggered=!1);if(!(e.options.drag_max_touches>0&&t.touches.length>e.options.drag_max_touches))switch(t.eventType){case s.EVENT_START:this.triggered=!1;break;case s.EVENT_MOVE:if(t.distance<e.options.drag_min_distance&&s.detection.current.name!=this.name)return;if(s.detection.current.name!=this.name&&(s.detection.current.name=this.name,e.options.correct_for_drag_min_distance&&t.distance>0)){var i=Math.abs(e.options.drag_min_distance/t.distance);s.detection.current.startEvent.center.pageX+=t.deltaX*i,s.detection.current.startEvent.center.pageY+=t.deltaY*i,t=s.detection.extendEventData(t)}(s.detection.current.lastEvent.drag_locked_to_axis||e.options.drag_lock_to_axis&&e.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var n=s.detection.current.lastEvent.direction;t.drag_locked_to_axis&&n!==t.direction&&(t.direction=s.utils.isVertical(n)?t.deltaY<0?s.DIRECTION_UP:s.DIRECTION_DOWN:t.deltaX<0?s.DIRECTION_LEFT:s.DIRECTION_RIGHT),this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),e.trigger(this.name+t.direction,t),(e.options.drag_block_vertical&&s.utils.isVertical(t.direction)||e.options.drag_block_horizontal&&!s.utils.isVertical(t.direction))&&t.preventDefault();break;case s.EVENT_END:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}},s.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,e){switch(t.eventType){case s.EVENT_START:clearTimeout(this.timer),s.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==s.detection.current.name&&e.trigger("hold",t)},e.options.hold_timeout);break;case s.EVENT_MOVE:t.distance>e.options.hold_threshold&&clearTimeout(this.timer);break;case s.EVENT_END:clearTimeout(this.timer)}}},s.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==s.EVENT_END&&e.trigger(this.name,t)}},s.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(t,e){if(t.eventType==s.EVENT_END){if(e.options.swipe_max_touches>0&&t.touches.length<e.options.swipe_min_touches&&t.touches.length>e.options.swipe_max_touches)return;(t.velocityX>e.options.swipe_velocity||t.velocityY>e.options.swipe_velocity)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},s.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(t,e){if(t.eventType==s.EVENT_END&&"touchcancel"!=t.srcEvent.type){var i=s.detection.previous,n=!1;if(t.deltaTime>e.options.tap_max_touchtime||t.distance>e.options.tap_max_distance)return;i&&"tap"==i.name&&t.timeStamp-i.lastEvent.timeStamp<e.options.doubletap_interval&&t.distance<e.options.doubletap_distance&&(e.trigger("doubletap",t),n=!0),(!n||e.options.tap_always)&&(s.detection.current.name="tap",e.trigger(s.detection.current.name,t))}}},s.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,e){return e.options.prevent_mouseevents&&t.pointerType==s.POINTER_MOUSE?void t.stopDetect():(e.options.prevent_default&&t.preventDefault(),void(t.eventType==s.EVENT_START&&e.trigger(this.name,t)))}},s.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(t,e){if(s.detection.current.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),void(this.triggered=!1);if(!(t.touches.length<2))switch(e.options.transform_always_block&&t.preventDefault(),t.eventType){case s.EVENT_START:this.triggered=!1;break;case s.EVENT_MOVE:var i=Math.abs(1-t.scale),n=Math.abs(t.rotation);if(i<e.options.transform_min_scale&&n<e.options.transform_min_rotation)return;s.detection.current.name=this.name,this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),n>e.options.transform_min_rotation&&e.trigger("rotate",t),i>e.options.transform_min_scale&&(e.trigger("pinch",t),e.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case s.EVENT_END:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return s}):"object"==typeof module&&"object"==typeof module.exports?module.exports=s:t.Hammer=s}(this),function(t,e){"use strict";function i(t,i){t.event.bindDom=function(t,s,n){i(t).on(s,function(t){var i=t.originalEvent||t;i.pageX===e&&(i.pageX=t.pageX,i.pageY=t.pageY),i.target||(i.target=t.target),i.which===e&&(i.which=i.button),i.preventDefault||(i.preventDefault=t.preventDefault),i.stopPropagation||(i.stopPropagation=t.stopPropagation),n.call(this,i)})},t.Instance.prototype.on=function(t,e){return i(this.element).on(t,e)},t.Instance.prototype.off=function(t,e){return i(this.element).off(t,e)},t.Instance.prototype.trigger=function(t,e){var s=i(this.element);return s.has(e.target).length&&(s=i(e.target)),s.trigger({type:t,gesture:e})},i.fn.hammer=function(e){return this.each(function(){var s=i(this),n=s.data("hammer");n?n&&e&&t.utils.extend(n.options,e):s.data("hammer",new t(this,e||{}))})}}"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(["hammerjs","jquery"],i):i(t.Hammer,t.jQuery||t.Zepto)}(this),jQuery.fn.find||jQuery.fn.extend({find:function(t){var e,i,s,n=this.length;if("string"!=typeof t)return s=this,this.pushStack(jQuery(t).filter(function(){for(e=0;n>e;e++)if(jQuery.contains(s[e],this))return!0}));for(i=[],e=0;n>e;e++)jQuery.find(t,this[e],i);return i=this.pushStack(n>1?jQuery.unique(i):i),i.selector=(this.selector?this.selector+" ":"")+t,i}}),jQuery.fn.on||jQuery.fn.extend({on:function(t,e,i,s,n){var a,o;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(a in t)this.on(a,e,i,t[a],n);return this}if(null==i&&null==s?(s=e,i=e=void 0):null==s&&("string"==typeof e?(s=i,i=void 0):(s=i,i=e,e=void 0)),s===!1)s=returnFalse;else if(!s)return this;return 1===n&&(o=s,s=function(t){return jQuery().off(t),o.apply(this,arguments)},s.guid=o.guid||(o.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,t,s,i,e)})}}),jQuery.fn.one||jQuery.fn.extend({one:function(t,e,i,s){return this.on(t,e,i,s,1)}}),jQuery.fn.off||jQuery.fn.extend({off:function(t,e,i){var s,n;if(t&&t.preventDefault&&t.handleObj)return s=t.handleObj,jQuery(t.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof t){for(n in t)this.off(n,e,t[n]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=returnFalse),this.each(function(){jQuery.event.remove(this,t,i,e)})}}),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var s=t.prototype,n=this,a=n.EventEmitter;s.getListeners=function(t){var e,i,s=this._getEvents();if("object"==typeof t){e={};for(i in s)s.hasOwnProperty(i)&&t.test(i)&&(e[i]=s[i])}else e=s[t]||(s[t]=[]);return e},s.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},s.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},s.addListener=function(t,i){var s,n=this.getListenersAsObject(t),a="object"==typeof i;for(s in n)n.hasOwnProperty(s)&&-1===e(n[s],i)&&n[s].push(a?i:{listener:i,once:!1});return this},s.on=i("addListener"),s.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},s.once=i("addOnceListener"),s.defineEvent=function(t){return this.getListeners(t),this},s.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},s.removeListener=function(t,i){var s,n,a=this.getListenersAsObject(t);for(n in a)a.hasOwnProperty(n)&&(s=e(a[n],i),-1!==s&&a[n].splice(s,1));return this},s.off=i("removeListener"),s.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},s.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},s.manipulateListeners=function(t,e,i){var s,n,a=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(s=i.length;s--;)a.call(this,e,i[s]);else for(s in e)e.hasOwnProperty(s)&&(n=e[s])&&("function"==typeof n?a.call(this,s,n):o.call(this,s,n));return this},s.removeEvent=function(t){var e,i=typeof t,s=this._getEvents();if("string"===i)delete s[t];else if("object"===i)for(e in s)s.hasOwnProperty(e)&&t.test(e)&&delete s[e];else delete this._events;return this},s.removeAllListeners=i("removeEvent"),s.emitEvent=function(t,e){var i,s,n,a,o=this.getListenersAsObject(t);for(n in o)if(o.hasOwnProperty(n))for(s=o[n].length;s--;)i=o[n][s],i.once===!0&&this.removeListener(t,i.listener),a=i.listener.apply(this,e||[]),a===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},s.trigger=i("emitEvent"),s.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},s.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},s._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},s._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=a,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,s=function(){};i.addEventListener?s=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(s=function(t,i,s){t[i+s]=s.handleEvent?function(){var i=e(t);s.handleEvent.call(s,i)}:function(){var i=e(t);s.call(t,i)},t.attachEvent("on"+i,t[i+s])});var n=function(){};i.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(s){t[e+i]=void 0}});var a={bind:s,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",a):t.eventie=a}(this),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===h.call(t)}function s(t){var e=[];if(i(t))e=t;else if("number"==typeof t.length)for(var s=0,n=t.length;n>s;s++)e.push(t[s]);else e.push(t);return e}function n(t,i){function n(t,i,o){if(!(this instanceof n))return new n(t,i);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=s(t),this.options=e({},this.options),"function"==typeof i?o=i:e(this.options,i),o&&this.on("always",o),this.getImages(),a&&(this.jqDeferred=new a.Deferred);var r=this;setTimeout(function(){r.check()})}function h(t){this.img=t}function c(t){this.src=t,d[t]=this}n.prototype=new t,n.prototype.options={},n.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;e>t;t++){var i=this.elements[t];"IMG"===i.nodeName&&this.addImage(i);for(var s=i.querySelectorAll("img"),n=0,a=s.length;a>n;n++){var o=s[n];this.addImage(o)}}},n.prototype.addImage=function(t){var e=new h(t);this.images.push(e)},n.prototype.check=function(){function t(t,n){return e.options.debug&&r&&o.log("confirm",t,n),e.progress(t),i++,i===s&&e.complete(),!0}var e=this,i=0,s=this.images.length;if(this.hasAnyBroken=!1,!s)return void this.complete();for(var n=0;s>n;n++){var a=this.images[n];a.on("confirm",t),a.check()}},n.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify(e,t)})},n.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var i=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[i](e)}})},a&&(a.fn.imagesLoaded=function(t,e){var i=new n(this,t,e);return i.jqDeferred.promise(a(this))}),h.prototype=new t,h.prototype.check=function(){var t=d[this.img.src]||new c(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,i){return e.confirm(t.isLoaded,i),!0}),t.check()},h.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var d={};return c.prototype=new t,c.prototype.check=function(){if(!this.isChecked){var t=new Image;i.bind(t,"load",this),i.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},c.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},c.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},c.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},c.prototype.unbindProxyEvents=function(t){i.unbind(t.target,"load",this),i.unbind(t.target,"error",this)},n}var a=t.jQuery,o=t.console,r="undefined"!=typeof o,h=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],n):t.imagesLoaded=n(t.EventEmitter,t.eventie)}(window),function(t,e){"use strict";t.soysauce=t.soysauce||{},soysauce.widgets=new Array,soysauce.vars={idCount:0,degradeAll:/Android ([12]|4\.0)|Opera|SAMSUNG-SGH-I747|SCH-I535/.test(navigator.userAgent)?!0:!1,degrade:/Android ([12]|4\.0)|Opera|SAMSUNG-SGH-I747/.test(navigator.userAgent)&&!/SCH-R530U/.test(navigator.userAgent)?!0:!1,degrade2:/SCH-I535/.test(navigator.userAgent)?!0:!1,lastResizeTime:0,lastResizeTimerID:0,fastclick:[],ajaxQueue:[]},soysauce.getOptions=function(t){return e(t).attr("data-ss-options")?e(t).attr("data-ss-options").split(" "):!1},soysauce.getPrefix=function(){return null!==navigator.userAgent.match(/webkit/i)?"-webkit-":null!==navigator.userAgent.match(/windows\sphone|msie/i)?"-ms-":null!==navigator.userAgent.match(/^mozilla/i)?"-moz-":null!==navigator.userAgent.match(/opera/i)?"-o-":""},soysauce.stifle=function(t,e){if(!t)return!1;try{t.stopImmediatePropagation(),t.gesture&&t.gesture.stopPropagation()}catch(i){console.log(t),console.warn("Soysauce: Error occurred calling soysauce.stifle() "+i.message),t.stopPropagation(),t.propagationStopped=!0}return e?!1:(t.preventDefault(),void(t.gesture&&t.gesture.preventDefault()))},soysauce.fetch=function(t){var i,s;if(!t)return!1;if("object"==typeof t&&(t=parseInt(e(t).attr("data-ss-id"),10)),"string"==typeof t){var n=parseInt(e(t).attr("data-ss-id"),10);isNaN(n)&&(n=parseInt(t,10)),t=n}return i=t===+t&&t===(0|t)?"[data-ss-id='"+t+"']":t,soysauce.widgets.forEach(function(e){e&&e.id===t&&(s=e)}),s?s:!1},soysauce.getCoords=function(t){return t?(void 0!==t.originalEvent&&(t=t.originalEvent),t.touches&&1===t.touches.length?{x:t.touches[0].clientX,y:t.touches[0].clientY}:t.touches&&2===t.touches.length?{x:t.touches[0].clientX,y:t.touches[0].clientY,x2:t.touches[1].clientX,y2:t.touches[1].clientY}:t.changedTouches&&1===t.changedTouches.length?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:t.changedTouches&&2===t.changedTouches.length?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,x2:t.changedTouches[1].clientX,y2:t.changedTouches[1].clientY}:void 0!==t.clientX?{x:t.clientX,y:t.clientY}:void 0):void 0
},soysauce.getArrayFromMatrix=function(t){return t.substr(7,t.length-8).split(", ")},soysauce.browser={pageLoad:(new Date).getTime(),supportsSVG:document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?!0:!1,supportsLocalStorage:function(){try{return localStorage?(localStorage.setItem("test",1),localStorage.removeItem("test"),!0):!1}catch(t){return!1}}(),supportsSessionStorage:function(){try{return sessionStorage?(sessionStorage.setItem("test",1),sessionStorage.removeItem("test"),!0):!1}catch(t){return!1}}(),getOrientation:function(){return 0!==t.orientation?"landscape":"portrait"}},soysauce.browserInfo=soysauce.browser,soysauce.scrollTop=function(){t.setTimeout(function(){t.scrollTo(0,1)},0)},e(t).load(function(){var t=soysauce.fetch("[data-ss-widget='lazyloader'][data-ss-options*='cache']"),i="false"!=e("body").attr("data-ss-scrolltop");!i||t&&t.isCached||e(this).scrollTop()||soysauce.scrollTop()})}(window,jQuery,null),soysauce.ajax=function(t,e,i){var s=!1;if(soysauce.browser.supportsSessionStorage&&sessionStorage[t])try{if(s=JSON.parse(sessionStorage[t]),!i)return"function"==typeof e?e(s,"cached"):s}catch(n){}var a=$.ajax({url:t,async:e?!0:!1}).always(function(i,n){try{var a=JSON.stringify(i);s=JSON.parse(a),sessionStorage.setItem(t,a)}catch(o){o.code===DOMException.QUOTA_EXCEEDED_ERR?console.warn("Soysauce: sessionStorage is full."):(console.error("error message: "+o.message),console.warn("Soysauce: error fetching url '"+t+"'. Data returned needs to be JSON."),s=!1)}return"function"==typeof e?e(s,n):void 0});return soysauce.vars.ajaxQueue.push(a),s},function(t,e,i){i.destroy=function(t,e){try{var s=i.fetch(t),n=s.widget;return n.find("[data-ss-widget][data-ss-id]").each(function(){i.destroy(this)}),n.off("*"),n.hammer().off("*"),n.empty(),n.off(),n.hammer().off(),e&&n.remove(),delete i.widgets[s.id-1],!0}catch(a){console.warn("Soysauce: could not destroy widget with id '"+s.id+"'. Possible memory leaks. Message: "+a.message)}return!1}}(window,$,soysauce,null),soysauce.freezeChildren=function(t){var e=$("[data-ss-id='"+t+"']").find("[data-ss-widget]");e.each(function(t,e){var i=$(e).attr("data-ss-id");soysauce.freeze(i,!1)})},soysauce.freeze=function(t,e){"object"==typeof t&&(t=t.id||parseInt($(t).attr("data-ss-id"),10)),e=e?!1:!0,soysauce.fetch(t).handleFreeze(),e&&soysauce.freezeChildren(t)},soysauce.unfreeze=function(t){"object"==typeof t&&(t=t.id||parseInt($(t).attr("data-ss-id"),10));var e=$("[data-ss-id='"+t+"']").find("[data-ss-widget]");soysauce.fetch(t).handleUnfreeze(),e.each(function(t,e){var i=$(e).attr("data-ss-id");soysauce.fetch(i).handleUnfreeze()})},soysauce.freezeAll=function(){try{soysauce.widgets.forEach(function(t){t.handleFreeze()})}catch(t){return console.warn("Soysauce: Could not freeze all widgets. || Error Message: ",t.message),!1}return!0},soysauce.unfreezeAll=function(){try{soysauce.widgets.forEach(function(t){t.handleUnfreeze()})}catch(t){return console.warn("Soysauce: Could not unfreeze all widgets. || Error Message: ",t.message),!1}return!0},function(t,e,i){i.init=function(t,s){var n,a="",o=!1;return a=a.concat("[data-ss-widget='toggler'] > [data-ss-component='button']",", [data-ss-component='button'][data-ss-toggler-id]",", [data-ss-widget='carousel'] [data-ss-component='button']",", [data-ss-widget='carousel'] [data-ss-component='dots']",", [data-ss-utility='overlay'] [data-ss-component='close']"),e(a).each(function(){try{i.vars.fastclick.push(FastClick.attach(this))}catch(t){console.warn("Soysauce: Could not attach Fastclick listener on soysauce component. "+t.message)}}),n=e(t?t:"[data-ss-widget]:not([data-ss-id]), [data-ss-component='button'][data-ss-toggler-id]"),!e(t)&&!n||void 0!==e(t).attr("data-ss-id")?o:(n.each(function(){var t,n=e(this),a=e(this).attr("data-ss-widget"),r=!1;if(a||void 0===n.attr("data-ss-toggler-id")||(a="toggler",r=!0),s||!/manual/.test(n.attr("data-ss-init"))){switch(n.attr("data-ss-id",++i.vars.idCount),a){case"toggler":t=i.togglers.init(this,r);break;case"carousel":t=i.carousels.init(this);break;case"lazyloader":t=i.lazyloader.init(this);break;case"autofill-zip":console.warn("Soysauce: autofill-zip is now deprecated. Please set data-ss-widget to 'geocoder'");case"geocoder":t=i.geocoder.init(this);break;case"autodetect-cc":t=i.autodetectCC.init(this);break;case"autosuggest":t=i.autosuggest.init(this);break;case"input-clear":t=i.inputClear.init(this)}void 0!==t?(t.type=a,t.id=i.vars.idCount,i.widgets.push(t),o=!0,void 0!==n.attr("data-ss-defer")?t.defer=!0:n.imagesLoaded(function(){t.initialized=!0,n.trigger("SSWidgetReady")})):(n.removeAttr("data-ss-id"),--i.vars.idCount)}}),o)},e(document).ready(function(){i.init(),i.vars.degradeAll&&e("body").attr("data-ss-degrade","true"),i.widgets.forEach(function(t){if(t.defer){var s=0,n=t.widget.find("[data-ss-widget]");n.each(function(){var a=i.fetch(this);if(a.initialized){if(++s===n.length)return void e(t.widget).trigger("SSWidgetReady").removeAttr("data-ss-defer")}else a.widget.on("SSWidgetReady",function(){++s===n.length&&e(t.widget).trigger("SSWidgetReady").removeAttr("data-ss-defer")})})}});try{Hammer.gestures.Swipe.defaults.swipe_velocity=.6}catch(s){console.warn("Soysauce: Error setting options with HammerJS"),console.error(s)}e(t).trigger("SSReady")})}(window,$,soysauce,null),soysauce.lateload=function(t){function e(t){var e=$(t),i=e.attr("data-ss-ll-src");return i?(e.attr("src",i).removeAttr("data-ss-ll-src"),!0):!1}return t?e(t):($(document).on("DOMContentLoaded",function(){$("[data-ss-ll-src][data-ss-options='dom']").each(function(t,i){e(i)})}),void $(window).on("load",function(){$("[data-ss-ll-src][data-ss-options='load']")&&$("[data-ss-ll-src][data-ss-options='load']").each(function(t,i){e(i)})}))},soysauce.lateload(),soysauce.overlay=function(){function t(){var t=this;this.overlay,this.content,this.close,this.hiddenItems=null,this.isOn=!1,this.startingOrientation="",$(document).ready(function(){t.init()})}{var e="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",i=$("body");$("meta[name='viewport']")}return t.prototype.init=function(){var t=document.createElement("div"),e=this;return $("[data-ss-utility='overlay']").length?!1:(t.setAttribute("data-ss-utility","overlay"),t.setAttribute("data-ss-state","inactive"),document.body.appendChild(t),this.overlay=$("[data-ss-utility='overlay']"),this.overlay.append("<div data-ss-component='close'>tap to close</div>"),this.close=this.overlay.find("[data-ss-component='close']"),this.overlay.append("<div data-ss-component='content'></div>"),this.content=this.overlay.find("[data-ss-component='content']"),this.close.on("click",function(){e.off()}),!0)},t.prototype.on=function(t,e,i){var s=this;this.isOn||("string"==typeof t&&this.overlay.appendTo(t),this.overlay.show(),i&&this.close.show(),window.setTimeout(function(){if(e)try{JSON.stringify(e),s.overlay.css(e)}catch(t){console.warn("Soysauce: Could not attach css; need to pass JSON css object")}s.overlay.attr("data-ss-state","active"),s.isOn=!0},0))},t.prototype.off=function(){this.isOn&&(this.isOn=!1,this.overlay.attr("data-ss-state","inactive").removeAttr("style").hide(),this.overlay.appendTo("body"),this.content.find("[data-ss-widget]").each(function(){soysauce.destroy(this)}),this.content.empty(),i.css({overflow:"",height:""}),this.hiddenItems&&(this.hiddenItems.show(),this.hiddenItems=null),this.startingOrientation!==soysauce.browser.getOrientation()&&$(window).trigger("onorientationchange"in window?"orientationchange":"resize"))},t.prototype.toggle=function(){this.isOn?this.off():this.on()},t.prototype.injectCarousel=function(t,s){var n,a=t.items.clone(),o=this,r=!0,h="";this.on(null,s,r),t.infinite?a=a.slice(1,t.numChildren-1):h+="finite",a.removeAttr("data-ss-state").removeAttr("style"),this.content.wrapInner("<div data-ss-widget='carousel' data-ss-options='overlay "+h+"' data-ss-index="+t.index+"/>"),n=this.content.find("[data-ss-widget='carousel']"),n.append(a),this.startingOrientation=soysauce.browser.getOrientation(),this.overlay.one(e,function(){n.one("SSWidgetReady",function(){i.css({overflow:"hidden",height:"100%"}),o.hiddenItems=i.find("> *:not([data-ss-utility]):not(#ios7fix)"),o.hiddenItems.hide()}),soysauce.init(n[0])})},t.prototype.hideAssets=function(){this.close.css("opacity","0")},t.prototype.showAssets=function(){this.close.css("opacity","1")},new t}(),function(t,e,i){var s="onorientationchange"in t?"orientationchange":"resize";e(t).on(s,function(e){i.vars.lastResizeID&&t.clearTimeout(i.vars.lastResizeID),i.vars.lastResizeID=t.setTimeout(function(){i.vars.lastResizeTime=e.timeStamp,i.widgets.forEach(function(t){t.handleResize&&(t.handleResize(),/carousel/i.test(t.type)?t.itemWidth&&t.widget.trigger("SSWidgetResized"):t.widget.trigger("SSWidgetResized"))})},30)})}(window,$,soysauce,null),soysauce.autodetectCC=function(){function t(t){var e=soysauce.getOptions(t),s=this;this.widget=$(this),this.input=$(t),this.prediction,this.result,this.format=!1,this.valid=!1,this.fieldClear=!1,e&&e.forEach(function(t){switch(t){case"format":s.format=soysauce.vars.degrade2?!1:!0;break;case"field-clear":s.fieldClear=!0}}),this.format?this.input.attr("maxlength","19"):this.input.attr("maxlength","16"),this.format&&soysauce.vars.degrade&&this.input.on("keydown",function(t){var e=t.keyCode?t.keyCode:t.which;8!==e&&46!==e&&91!==e&&17!==e&&189!==e&&(soysauce.stifle(t),s.input.val(this.value+String.fromCharCode(t.keyCode)))}),this.fieldClear&&soysauce.inputClear.init(t),this.input.on("keyup change",function(t){var e,n=t.target.value.replace(/[-\s]+/g,""),a=t.keyCode?t.keyCode:t.which;n.length?(n.match(/^4/)?s.prediction="visa":n.match(/^5/)?s.prediction="mastercard":n.match(/^6/)?s.prediction="discover":n.match(/^3/)?1===n.length?s.prediction="amex dinersclub jcb":n.match(/^3(4|7)/)?s.prediction="amex":n.match(/^3(0|8)/)?s.prediction="dinersclub":n.match(/^35/)&&(s.prediction="jcb"):s.prediction=null,$(t.target).trigger("SSPrediction")):($(t.target).trigger("SSEmpty"),s.prediction=null),/visa/.test(s.prediction)&&n.length>=13&&(i(n)?(s.valid=/^4[0-9]{12}(?:[0-9]{3})?$/.test(n)?!0:!1,e="visa"):s.valid=!1),/mastercard/.test(s.prediction)&&16===n.length&&(i(n)?(s.valid=n.match(/^5[1-5][0-9]{14}$/)?!0:!1,e="mastercard"):s.valid=!1),/amex/.test(s.prediction)&&n.length>=15&&(i(n)?(s.valid=n.match(/^3[47][0-9]{13}$/)?!0:!1,e="amex"):s.valid=!1),/dinersclub/.test(s.prediction)&&n.length>=14&&(i(n)?(s.valid=n.match(/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/)?!0:!1,e="dinersclub"):s.valid=!1),/discover/.test(s.prediction)&&16===n.length&&(i(n)?(s.valid=n.match(/^6(?:011|5[0-9]{2})[0-9]{12}$/)?!0:!1,e="discover"):s.valid=!1),/jcb/.test(s.prediction)&&16===n.length&&(i(n)?(s.valid=n.match(/^(?:2131|1800|35\d{3})\d{11}$/)?!0:!1,e="jcb"):s.valid=!1),s.valid&&e?(s.result=e,$(t.target).trigger("SSResult")):(s.result=null,(!s.prediction&&16===n.length||/visa/.test(s.prediction)&&13===n.length||/visa|mastercard|discover|dinersclub|jcb/.test(s.prediction)&&16===n.length||/amex/.test(s.prediction)&&15===n.length)&&$(t.target).trigger("SSResult")),s.format&&n.length>3&&8!==a&&46!==a&&91!==a&&17!==a&&189!==a&&s.formatInput(t)})}function e(t){t.length;t.setSelectionRange(19,19)}function i(t,e,i,s,n){for(s=+t[e=t.length-1],n=0;e--;)i=+t[e],s+=++n%2?2*i%10+(i>4):i;return!(s%10)}return t.prototype.formatInput=function(){function t(t,e,i){return e>0?i.substring(0,e)+t+i.substring(e,i.length):t+i}var i=this.input.val().replace(/[\s]+/g,""),s=/^3[47]/.test(i.replace(/[-\s]+/g,""))?!0:!1,n=/^3(?:0[0-5]|[68][0-9])/.test(i.replace(/[-\s]+/g,""))&&!s?!0:!1;soysauce.vars.degrade&&e(this.input[0]),s||n?(void 0!==i[4]&&"-"!==i[4]&&(i=t("-",4,i),this.input.val(i)),void 0!==i[11]&&"-"!==i[11]&&(i=t("-",11,i),this.input.val(i))):(void 0!==i[4]&&"-"!==i[4]&&(i=t("-",4,i),this.input.val(i)),void 0!==i[9]&&"-"!==i[9]&&(i=t("-",9,i),this.input.val(i)),void 0!==i[14]&&"-"!==i[14]&&(i=t("-",14,i),this.input.val(i)))},{init:function(e){return new t(e)}}}(),soysauce.autosuggest=function(){function t(t){var e=soysauce.getOptions(t),i=this;this.widget=$(t),this.input=$(t),e&&e.forEach(function(t){switch(t){case"option1":}});var s={url:void 0,data:void 0,minCharacters:1,maxResults:10,wildCard:"",caseSensitive:!1,notCharacter:"!",maxHeight:350,highlightMatches:!0,onSelect:void 0,width:void 0,property:"text"};this.acSettings=s,this.obj=$(t),this.wildCardPatt=new RegExp(i.regexEscape(this.acSettings.wildCard||""),"g"),this.results=$("<ul />"),this.currentSelection=void 0,this.pageX=void 0,this.pageY=void 0,this.getJSONTimeout=0,$(this.results).addClass("jsonSuggest ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all").attr("role","listbox").css({xtop:this.obj.position().top+this.obj.outerHeight()+"px",xleft:this.obj.position().left+"px",width:this.acSettings.width||this.obj.outerWidth()+"px","z-index":1e6,position:"absolute","background-color":"black"}).hide(),this.obj.after(this.results).keyup(function(t){switch(t.keyCode){case 13:return $(i.currentSelection).trigger("click"),!1;case 40:return i.currentSelection="undefined"==typeof i.currentSelection?$("li:first",i.results).get(0):$(i.currentSelection).next().get(0),i.setHoverClass(i.currentSelection),i.currentSelection&&$(i.results).scrollTop(i.currentSelection.offsetTop),!1;case 38:return i.currentSelection="undefined"==typeof i.currentSelection?$("li:last",i.results).get(0):$(i.currentSelection).prev().get(0),i.setHoverClass(i.currentSelection),i.currentSelection&&$(i.results).scrollTop(i.currentSelection.offsetTop),!1;default:i.runSuggest.apply(this,[t,i])}}).keydown(function(t){return 9!==t.keyCode&&13!==t.keyCode||!i.currentSelection?void 0:($(i.currentSelection).trigger("click"),!0)}).blur(function(){var t=$(i.results).offset();t.bottom=t.top+$(i.results).height(),t.right=t.left+$(i.results).width(),(pageY<t.top||pageY>t.bottom||pageX<t.left||pageX>t.right)&&$(i.results).hide()}).focus(function(){$(this.results).css({top:i.obj.position().top+i.obj.outerHeight()+"px",left:i.obj.position().left+"px"}),$("li",i.results).length>0&&$(i.results).show()}).attr("autocomplete","off"),$(window).mousemove(function(t){this.pageX=t.pageX,this.pageY=t.pageY}),this.acSettings.notCharacter=i.regexEscape(this.acSettings.notCharacter||""),this.widget.attr("data-ss-suggest-json-file")&&$.ajax({url:this.widget.attr("data-ss-suggest-json-file"),dataType:"json",async:!1,success:function(t){i.acSettings.data=t}}),this.acSettings.data&&"string"==typeof this.acSettings.data&&(this.acSettings.data=$.parseJSON(this.acSettings.data)),$(this.obj).trigger("SSLoaded")}return t.prototype.handleResize=function(){},t.prototype.regexEscape=function(t,e){var i=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];if(e)for(var s=0;s<i.length;s++)i[s]===e&&i.splice(s,1);var n=new RegExp("(\\"+i.join("|\\")+")","g");return t.replace(n,"\\$1")},t.prototype.selectResultItem=function(t){this.obj.val(t[this.acSettings.property]),this.widget.trigger("SSAutoSuggested",{suggestion:t}),$(this.results).html("").hide(),"function"==typeof this.acSettings.onSelect&&this.acSettings.onSelect(t)},t.prototype.setHoverClass=function(t){$("li a",this.results).removeClass("ui-state-hover"),t&&$("a",t).addClass("ui-state-hover"),this.currentSelection=t},t.prototype.buildResults=function(t,e){e="("+e+")";var i,s=this,n=!0,a=0,o=this.acSettings.caseSensitive?new RegExp(e,"g"):new RegExp(e,"ig");for($(this.results).html("").hide(),i=0;i<t.length;i+=1){var r=$("<li />"),h=t[i][this.acSettings.property];if(this.acSettings.highlightMatches===!0&&(h=h.replace(o,"<strong>$1</strong>")),$(r).append('<a class="ui-corner-all">'+h+"</a>"),"string"==typeof t[i].image&&$(">a",r).prepend('<img src="'+t[i].image+'" />'),"string"==typeof t[i].extra&&$(">a",r).append("<small>"+t[i].extra+"</small>"),$(r).addClass("ui-menu-item").addClass(n?"odd":"even").attr("role","menuitem").click(function(e){return function(){s.selectResultItem(t[e])}}(i)).mouseover(function(t){return function(){s.setHoverClass(t)}}(r)),$(this.results).append(r),n=!n,a+=1,"number"==typeof this.acSettings.maxResults&&a>=this.acSettings.maxResults)break}$("li",this.results).length>0&&(this.currentSelection=void 0,$(this.results).show().css("height","auto"),$(this.results).height()>this.acSettings.maxHeight&&$(this.results).css({overflow:"auto",height:this.acSettings.maxHeight+"px"}))},t.prototype.runSuggest=function(t,e){var i=function(t){if(this.value.length<e.acSettings.minCharacters)return e.clearAndHideResults(),!1;var i,s,n=[],a=e.acSettings.wildCard?e.regexEscape(this.value,e.acSettings.wildCard).replace(wildCardPatt,".*"):e.regexEscape(this.value),o=!0;for(e.acSettings.notCharacter&&0===a.indexOf(e.acSettings.notCharacter)&&(a=a.substr(e.acSettings.notCharacter.length,a.length),a.length>0&&(o=!1)),a=a||".*",a=e.acSettings.wildCard?"^"+a:a,i=e.acSettings.caseSensitive?new RegExp(a):new RegExp(a,"i"),s=0;s<t.length;s+=1)i.test(t[s][e.acSettings.property])===o&&n.push(t[s]);e.buildResults(n,a)};if(e.acSettings.data&&e.acSettings.data.length)i.apply(this,[e.acSettings.data,e]);else if(e.acSettings.url&&"string"==typeof e.acSettings.url){var s=this.value;if(s.length<e.acSettings.minCharacters)return e.clearAndHideResults(),!1;$(e.results).html('<li class="ui-menu-item ajaxSearching"><a class="ui-corner-all">Searching...</a></li>').show().css("height","auto"),e.getJSONTimeout=window.clearTimeout(e.getJSONTimeout),e.getJSONTimeout=window.setTimeout(function(){$.getJSON(e.acSettings.url,{search:s},function(t){t?e.buildResults(t,s):e.clearAndHideResults()})},500)}},t.prototype.clearAndHideResults=function(){$(this.results).html("").hide()},{init:function(e){return new t(e)}}}(),soysauce.carousels=function(){function t(t){var s,a,c,d=this,l="";if(this.widget=$(t),this.index=0,this.maxIndex,this.container,this.items,this.currentItem,this.itemPadding,this.dots,this.numChildren=0,this.widgetWidth=0,this.widgetHeight=0,this.itemWidth=0,this.interruptedOffset=0,this.offset=0,this.ready=!1,this.interrupted=!1,this.lockScroll=!1,this.nextBtn,this.prevBtn,this.freeze=!1,this.jumping=!1,this.lastTransitionEnd=0,this.sendClick=!1,this.resizeID=0,this.infinite=!0,this.autoscroll=!1,this.autoscrollID,this.autoscrollInterval,this.autoscrollRestartID,this.infiniteID,this.forward,this.lastSlideTime,this.cloneDepth=0,this.looping=!1,this.rewindCoord=0,this.peek=!1,this.peekWidth=0,this.peekAlign,this.responsivePeek=!1,this.swipe=!0,this.swiping=!1,this.zoom=!1,this.containerZoom=!1,this.zoomIcon,this.overlay=!1,this.isZoomed=!1,this.zoomElement=null,this.zoomElementCenterX=0,this.zoomElementCenterY=0,this.zoomElementWidth=0,this.zoomElementHeight=0,this.zoomElementOffset=null,this.zoomTranslateX=0,this.zoomTranslateY=0,this.zoomTranslateXStart=0,this.zoomTranslateYStart=0,this.zoomTranslateMinX=0,this.zoomTranslateMinY=0,this.zoomTranslateMaxX=0,this.zoomTranslateMaxY=0,this.zoomScale=1,this.zoomScaleStart=1,this.zoomScalePrev=1,this.pinchEventsReady=!1,this.lastZoomTap=0,this.zoomLoader,this.multi=!1,this.multiVars={numItems:2,stepSize:1,minWidth:0,even:!1},this.autoheight=!1,this.fade=!1,this.widget.attr("data-ss-single-options")&&1===this.widget.find("[data-ss-component='item']").length?(s=this.widget.attr("data-ss-single-options").split(" "),this.widget.attr("data-ss-single-item","true")):s=soysauce.getOptions(t),this.options=s,s&&s.forEach(function(t){switch(t){case"peek":d.peek=!0;break;case"finite":d.infinite=!1;break;case"autoscroll":d.autoscroll=!0;break;case"noswipe":d.swipe=!1;break;case"zoom":d.zoom=!0;break;case"containerZoom":d.zoom=!0,d.containerZoom=!0;break;case"multi":d.multi=!0;break;case"autoheight":d.autoheight=!0;break;case"fade":d.fade=!0;break;case"overlay":d.overlay=!0}}),this.multi&&(this.infinite=!1),this.widgetWidth=this.widget.outerWidth(),this.widget.wrapInner("<div data-ss-component='container' />"),this.widget.wrapInner("<div data-ss-component='container_wrapper' />"),this.container=this.widget.find("[data-ss-component='container']"),a=this.widget.find("[data-ss-component='container_wrapper']"),a.after(this.infinite?"<div data-ss-component='button' data-ss-button-type='prev' data-ss-state='enabled'></div><div data-ss-component='button' data-ss-button-type='next'></div>":"<div data-ss-component='button' data-ss-button-type='prev' data-ss-state='disabled'></div><div data-ss-component='button' data-ss-button-type='next'></div>"),a.after("<div data-ss-component='dots'></div>"),this.dots=this.widget.find("[data-ss-component='dots']"),this.nextBtn=a.find("~ [data-ss-button-type='next']"),this.prevBtn=a.find("~ [data-ss-button-type='prev']"),a.find("~ [data-ss-button-type='prev']").click(function(t){soysauce.stifle(t),!d.ready||d.interrupted||d.freeze||d.slideBackward()}),a.find("~ [data-ss-button-type='next']").click(function(t){soysauce.stifle(t),!d.ready||d.interrupted||d.freeze||d.slideForward()}),this.maxIndex=this.widget.find("[data-ss-component='item']").length,this.multi&&(this.multiVars.numItems=parseInt(this.widget.attr("data-ss-multi-set"),10)||2,this.multiVars.minWidth=parseInt(this.widget.attr("data-ss-multi-min-width"),10)||0,this.multiVars.stepSize=parseInt(this.widget.attr("data-ss-step-size"),10)||this.multiVars.numItems,this.maxIndex=Math.ceil(this.maxIndex/this.multiVars.stepSize)),this.infinite&&(this.multi?(console.warn("Soysauce: 'multi' option with infinite scrolling not yet supported. Please add 'finite' option."),n(this,1)):n(this,1),this.lastSlideTime=(new Date).getTime()),this.items=this.container.find("> [data-ss-component='item']"),this.itemPadding=parseInt(this.items.first().css("padding-left"),10)+parseInt(this.items.first().css("padding-right"),10),this.multi&&(this.multiVars.even=this.items.length%this.multiVars.numItems===0?!0:!1),!this.items.length)return void console.warn("Soysauce: Carousel cannot be instantiated; no items found.");for(this.numChildren=this.items.length,this.infinite?a.find("~ [data-ss-button-type='next']").attr("data-ss-state","enabled"):a.find("~ [data-ss-button-type='next']").attr("data-ss-state",this.numChildren>1?"enabled":"disabled"),c=this.infinite?this.numChildren-2:this.numChildren,c=this.multi?this.maxIndex:c,i=0;c>i;i++)l=l.concat("<div data-ss-component='dot'></div>");if(this.dots.html(l),this.dots=this.dots.find("div"),this.dots.attr("data-ss-state","inactive"),this.dots.first().attr("data-ss-state","active"),this.dots.on("click",function(t){var e=parseInt(soysauce.getArrayFromMatrix(d.container.css(h+"transform"))[4],10),i=0;e===d.offset&&(d.ready=!0),!d.ready||d.interrupted||d.freeze||(soysauce.stifle(t),i=d.dots.index(this),d.infinite&&(i+=1),d.jumpTo(i))}),this.peek){if(this.peekAlign=this.widget.attr("data-ss-peek-align")||"center",this.widget.attr("data-ss-responsive-peek"))switch(this.responsivePeek=!0,soysauce.browser.getOrientation()){case"portrait":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-portrait"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||o;break;case"landscape":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-landscape"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||o}else this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width"),10)||o;this.peekWidth%2&&this.widget.attr("data-ss-peek-width",++this.peekWidth)}if(this.items.attr("data-ss-state","inactive"),this.index=parseInt(this.widget.attr("data-ss-index"),10)||0,this.infinite)this.index?this.index>this.maxIndex&&(this.index=this.maxIndex):this.index++,$(this.items[this.index]).attr("data-ss-state","active");else if(this.multi){var u=$(this.items.slice(0,this.multiVars.numItems));u.attr("data-ss-state","active")}else $(this.items[this.index]).attr("data-ss-state","active");if(this.container.imagesLoaded(function(){var t=d.items.first(),i=parseInt(t.css("margin-left"),10)+parseInt(t.css("margin-right"),10);if(d.multi?(d.multiVars.minWidth>0&&(d.multiVars.numItems=Math.floor(d.widgetWidth/d.multiVars.minWidth)),d.itemWidth=d.widgetWidth/d.multiVars.numItems):d.itemWidth=d.widgetWidth,$(window).load(function(){d.handleResize()}),d.peek)switch(d.itemWidth-=2*d.peekWidth,d.peekAlign){case"center":d.offset+=d.peekWidth;break;case"left":break;case"right":d.offset+=2*d.peekWidth}d.fade||(d.container.width((d.itemWidth+i)*d.numChildren),d.items.css("width",d.itemWidth+"px")),d.offset-=d.itemWidth*d.index,d.container.attr("data-ss-state","notransition"),e(d.container[0],d.offset),d.widgetHeight=d.widget.outerHeight(!0),(d.overlay||d.zoomContainer)&&d.setZoomCenterPoint()}),/ipod|iphone|ipad|android/i.test(navigator.userAgent)?this.container.hammer().on("tap",function(t){return d.freeze||d.swiping||d.lockScroll||t.gesture&&t.gesture.distance>0?(soysauce.stifle(t),!1):void(d.isZoomed||(d.widget.trigger("SSClick"),$(t.target).trigger("click")))}):this.container.hammer().on("release click",function(t){return d.freeze?void 0:"click"===t.type?d.sendClick?void 0:(d.widget.trigger("SSClick"),soysauce.stifle(t),!1):void("release"===t.type&&(0!==t.gesture.distance||d.swiping||d.isZoomed||d.lockScroll?d.sendClick=!1:(d.sendClick=!0,d.widget.trigger("SSClick"))))}),this.swipe&&this.container.hammer().on("touch release drag swipe",function(t){d.freeze||d.handleSwipe(t)}),this.zoom&&(a.after("<div data-ss-component='zoom_icon' data-ss-state='out'></div><div data-ss-component='zoom_loader'><div data-ss-component='ring_loader'></div><div data-ss-component='loading_text'><span>loading</span></div></div>"),this.zoomIcon=a.find("~ [data-ss-component='zoom_icon']"),this.zoomLoader=a.find("~ [data-ss-component='zoom_loader']"),this.containerZoom?(this.zoomIcon.hammer().on("tap",function(t){var e=!0;d.handleContainerZoom(t,e)}),this.container.hammer().on("tap drag",function(t){if(!d.lockScroll){if("drag"===t.type){if(!d.isZoomed)return;soysauce.stifle(t)}d.handleContainerZoom(t)}})):(this.container.hammer().on("tap",function(t){d.zoomIn(t)}),this.zoomIcon.hammer().on("tap",function(t){d.zoomIn(t)}))),this.currentItem=$(this.items.get(d.index)),this.overlay&&(this.zoomElement=this.currentItem,this.container.hammer().on("pinch doubletap drag",function(t){/pinch|doubletap|drag/.test(t.type)&&d.handleZoom(t)})),this.container.on(r,function(t){d.setTransitionedStates(t)}),this.autoscroll&&this.autoscrollOn(),this.autoheight){var p=$(this.items[this.index]).outerHeight(!0);this.widget.css("min-height",p)}this.widget.one("SSWidgetReady",function(){if(d.widget.attr("data-ss-state","ready"),d.ready=!0,window.setTimeout(function(){d.container.attr("data-ss-state","ready")},0),d.autoheight){var t=$(d.items[d.index]).outerHeight(!0);d.widget.css("height",t),window.setTimeout(function(){d.widget.css("min-height","0px")},300)}})}function e(t,e,i){e=e||0,i=i||0,soysauce.vars.degrade?t.style.left=e+"px":t.style.webkitTransform=t.style.msTransform=t.style.OTransform=t.style.MozTransform=t.style.transform="translate3d("+e+"px,"+i+"px,0)"}function s(t,e,i,s){i=i||0,s=s||0,t.style.webkitTransform=t.style.msTransform=t.style.OTransform=t.style.MozTransform=t.style.transform="matrix("+e+",0,0,"+e+","+i+","+s+")"}function n(t,e){var i,s,n=t.container.find("> [data-ss-component='item']");e>t.maxIndex||(t.cloneDepth=e,i=n.slice(0,e).clone(),s=n.slice(t.maxIndex-e,t.maxIndex).clone(),i.appendTo(t.container),s.prependTo(t.container))}var a=5e3,o=20,r="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",h=soysauce.getPrefix(),c=60,d=.8;return t.prototype.handleZoom=function(t){var e=this;if(!this.swiping&&!this.freeze)if(soysauce.stifle(t),"doubletap"===t.type){if(t.timeStamp-this.lastZoomTap<500)return;if(this.zoomElement=this.currentItem,this.lastZoomTap=t.timeStamp,this.handleFreeze(),this.zoomScalePrev=this.zoomScale,this.zoomScale<1.5?(this.zoomElement.attr("data-ss-state","zooming"),this.zoomScale=1.5,this.isZoomed=!0):this.zoomScale<2.5?(this.zoomElement.attr("data-ss-state","zooming"),this.zoomScale=2.5,this.isZoomed=!0):(this.zoomElement.attr("data-ss-state","active"),this.zoomScale=1,this.isZoomed=!1),this.zoomScaleStart=this.zoomScale,this.zoomTranslateXStart=this.zoomTranslateX,this.zoomTranslateYStart=this.zoomTranslateY,!(this.zoomScale>1))return void window.setTimeout(function(){e.resetZoomState()},0);this.setFocusPoint(t),this.calcTranslateLimits(),this.setTranslateLimits(),window.setTimeout(function(){s(e.zoomElement[0],e.zoomScale,e.zoomTranslateX,e.zoomTranslateY),1===e.zoomScale&&e.handleUnfreeze()},0)}else if("pinch"===t.type){if(this.pinchEventsReady||(this.zoomElement=this.currentItem,this.zoomElement.attr("data-ss-state","zooming"),this.zoomScalePrev=this.zoomScale,this.zoomScaleStart=this.zoomScale,this.zoomTranslateXStart=this.zoomTranslateX,this.zoomTranslateYStart=this.zoomTranslateY,this.isZoomed=!0,this.handleFreeze(),this.container.one("touchend",function(){e.zoomScale<=1&&e.zoomElement.attr("data-ss-state","active")}),this.container.hammer().one("release",function(t){return soysauce.stifle(t),e.pinchEventsReady=!1,e.zoomScale<=1?void e.resetZoomState():e.zoomScale>4?(e.zoomScale=4,void(e.zoomScaleStart=e.zoomScale)):(e.zoomScaleStart=e.zoomScale,void s(e.zoomElement[0],e.zoomScale,e.zoomTranslateX,e.zoomTranslateY))}),this.pinchEventsReady=!0),this.zoomScale=(t.gesture.scale-1)*d*this.zoomScaleStart+this.zoomScaleStart,this.zoomScale=this.zoomScale<.3?.3:this.zoomScale,this.zoomScale>=4)return void(this.zoomScale=4);if(this.setFocusPoint(t),this.calcTranslateLimits(),this.setTranslateLimits(),this.zoomElement.attr("data-ss-state","zooming"),this.zoomScale<1){var i=(t.gesture.scale-1)*d*this.zoomScaleStart+this.zoomScaleStart;s(this.zoomElement[0],i,0,0)}else s(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY)}else this.isZoomed&&(this.panning||(this.panning=!0,this.zoomTranslateXStart=this.zoomTranslateX,this.zoomTranslateYStart=this.zoomTranslateY,this.container.hammer().one("release",function(){e.panning=!1})),this.zoomTranslateX=t.gesture.deltaX+this.zoomTranslateXStart,this.zoomTranslateY=t.gesture.deltaY+this.zoomTranslateYStart,this.setTranslateLimits(),s(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY))},t.prototype.setZoomCenterPoint=function(){this.zoomElementWidth=this.zoomElement.width(),this.zoomElementHeight=this.zoomElement.height(),this.zoomElementOffset=this.widget.offset(),this.zoomElementCenterX=this.zoomElementWidth/2+this.zoomElementOffset.left,this.zoomElementCenterY=this.zoomElementHeight/2+this.zoomElementOffset.top},t.prototype.setFocusPoint=function(t){this.zoomTranslateX=(this.zoomElementCenterX-t.gesture.center.pageX+this.zoomTranslateXStart+this.peekWidth)*(this.zoomScale/this.zoomScalePrev),this.zoomTranslateY=(this.zoomElementCenterY-t.gesture.center.pageY+this.zoomTranslateYStart)*(this.zoomScale/this.zoomScalePrev)},t.prototype.calcTranslateLimits=function(){var t;this.zoomElementWidth||this.setZoomCenterPoint(),t=parseInt(this.zoomElement.css("padding-left"),10)+parseInt(this.zoomElement.css("padding-right"),10)||0,this.zoomTranslateMinX=(this.zoomElementWidth*this.zoomScale-this.zoomElementWidth)/2-this.peekWidth-t,this.zoomTranslateMaxX=-this.zoomTranslateMinX,this.zoomTranslateMinY=(this.zoomElementHeight*this.zoomScale-this.zoomElementHeight)/2,this.zoomTranslateMaxY=-this.zoomTranslateMinY},t.prototype.setTranslateLimits=function(){this.zoomTranslateX>this.zoomTranslateMinX?this.zoomTranslateX=this.zoomTranslateMinX:this.zoomTranslateX<this.zoomTranslateMaxX&&(this.zoomTranslateX=this.zoomTranslateMaxX),this.zoomTranslateY>this.zoomTranslateMinY?this.zoomTranslateY=this.zoomTranslateMinY:this.zoomTranslateY<this.zoomTranslateMaxY&&(this.zoomTranslateY=this.zoomTranslateMaxY)},t.prototype.zoomIn=function(t){this.overlay||this.freeze||"true"===this.currentItem.attr("data-ss-no-zoom")||(soysauce.stifle(t),soysauce.overlay.injectCarousel(this,{background:"black",opacity:"1"}))},t.prototype.handleContainerZoom=function(t,e){function i(){return this.zoomElement.off(),this.zoomElement.on(r,function(){n.isZoomed?(n.zoomElement.attr("data-ss-state","zoomed"),n.zoomIcon.attr("data-ss-state","in")):n.zoomIcon.attr("data-ss-state","out")
}),this.isZoomed?(this.enableSwipe(),this.zoomElement.attr("data-ss-state","active"),this.zoomScale=1,this.isZoomed=!1):(this.disableSwipe(),this.zoomScalePrev=this.zoomScale,this.zoomElement.attr("data-ss-state","zooming"),this.zoomScale=3,this.isZoomed=!0),this.zoomScaleStart=this.zoomScale,this.zoomTranslateXStart=this.zoomTranslateX,this.zoomTranslateYStart=this.zoomTranslateY,this.isZoomed?(this.setZoomCenterPoint(),e||this.setFocusPoint(t),this.calcTranslateLimits(),this.setTranslateLimits(),void window.setTimeout(function(){s(n.zoomElement[0],n.zoomScale,n.zoomTranslateX,n.zoomTranslateY),n.isZoomed||n.handleUnfreeze()},0)):void window.setTimeout(function(){n.resetZoomState()},0)}var n=this;if(!this.freeze)if("tap"===t.type){var a,o,h;if("true"===this.currentItem.attr("data-ss-no-zoom"))return;a=this.currentItem.find("img[data-ss-zoom-src]"),o=a.attr("src")||this.currentItem.find("img").attr("src"),this.zoomElement=this.currentItem,a.length&&!a.data("isLoaded")&&(a.attr("src",a.attr("data-ss-zoom-src")),this.currentItem.attr("data-ss-state","loading"),this.zoomLoader.show()),h=this.zoomElement.imagesLoaded(),h.fail(function(){a.attr("src",o)}),h.always(function(){a.data("isLoaded",!0),n.zoomLoader.hide(),n.currentItem.attr("data-ss-state","active"),$.proxy(i,n)()})}else this.panning||(this.panning=!0,this.zoomTranslateXStart=this.zoomTranslateX,this.zoomTranslateYStart=this.zoomTranslateY,this.container.hammer().one("release",function(){n.panning=!1})),this.zoomTranslateX=t.gesture.deltaX+this.zoomTranslateXStart,this.zoomTranslateY=t.gesture.deltaY+this.zoomTranslateYStart,this.setTranslateLimits(),s(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY)},t.prototype.resetZoomState=function(){"active"===this.currentItem.attr("data-ss-state")?!0:!1;this.zoomTranslateX=0,this.zoomTranslateY=0,this.zoomScale=1,this.zoomScaleStart=1,this.zoomScalePrev=1,this.zoomElement=this.currentItem,this.isZoomed=!1,this.setZoomCenterPoint(),this.handleUnfreeze(),s(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY)},t.prototype.enableSwipe=function(){-1===$.inArray("noswipe",this.options)&&(this.swipe=!0)},t.prototype.disableSwipe=function(){this.swipe=!1},t.prototype.handleSwipe=function(t){var i=($(t.target).attr("data-ss-component"),this),s=Math.abs(t.gesture.angle);if(!(i.jumping||i.freeze||i.looping)&&i.swipe){if("swipe"===t.type&&"end"===t.gesture.eventType&&!i.ready)return i.ready=!0,i.interrupted=!1,i.swiping=!1,i.widget.attr("data-ss-state","ready"),void i.container.attr("data-ss-state","ready");if(i.lockScroll&&"release"===t.type)return i.lockScroll=!1,i.widget.attr("data-ss-state","ready"),i.container.attr("data-ss-state","ready"),void window.setTimeout(function(){e(i.container[0],i.offset)},0);if(!i.lockScroll&&(i.lockScroll=s>=60&&120>=s&&!i.swiping?!0:!1,!i.lockScroll)){if(!i.ready&&"touch"===t.type)return i.interruptedOffset=soysauce.vars.degrade?parseInt(i.container[0].style.left,10):parseInt(soysauce.getArrayFromMatrix(i.container.css(h+"transform"))[4],10),i.interrupted=!0,i.looping=!1,i.container.attr("data-ss-state","notransition"),i.widget.attr("data-ss-state","intransit"),void e(i.container[0],i.interruptedOffset);if("end"===t.gesture.eventType){var n=t.gesture.velocityX>=Hammer.gestures.Swipe.defaults.swipe_velocity?!0:!1,a=n||t.gesture.distance>=c?!0:!1;soysauce.stifle(t),i.ready=!0,i.swiping=!1,i.widget.attr("data-ss-state","intransit"),i.container.attr("data-ss-state","intransit"),a&&"left"===t.gesture.direction?!i.infinite&&(i.index===i.numChildren-1||i.multi&&i.index===i.maxIndex-Math.floor(i.multiVars.numItems/i.multiVars.stepSize))?i.multi?i.index===i.maxIndex-1?i.gotoPos(i.offset):(i.gotoPos(i.index*-i.itemWidth*i.multiVars.stepSize+i.peekWidth),i.widget.trigger("SSSwipe")):(i.gotoPos(i.index*-i.itemWidth+i.peekWidth),i.widget.trigger("SSSwipe")):(soysauce.vars.degrade&&(i.rewindCoord=parseInt(i.container.css("left"),10)),i.slideForward(),i.widget.trigger("SSSwipe")):a&&"right"===t.gesture.direction?i.infinite||0!==i.index?(soysauce.vars.degrade&&(i.rewindCoord=parseInt(i.container.css("left"),10)),i.slideBackward(),i.widget.trigger("SSSwipe")):i.gotoPos(i.peekWidth):e(i.container[0],i.offset)}else"move"===t.gesture.eventType&&(soysauce.stifle(t),i.swiping=!0,i.ready=!1,i.container.attr("data-ss-state","notransition"),i.widget.attr("data-ss-state","intransit"),i.interrupted?e(i.container[0],i.interruptedOffset+t.gesture.deltaX):e(i.container[0],i.offset+t.gesture.deltaX))}}},t.prototype.gotoPos=function(t,i,s){var n=this;if(this.currentItem=$(this.items.get(n.index)),this.overlay&&this.resetZoomState(),this.offset=t,e(this.container[0],t),this.container.attr("data-ss-state","intransit"),this.widget.attr("data-ss-state","intransit"),this.ready=!0,this.autoscroll&&(this.autoscrollOff(),this.autoscrollRestartID&&(window.clearInterval(n.autoscrollRestartID),this.autoscrollRestartID=null)),this.infinite){var a=0,o=0;a=1e3*parseFloat(this.container.css(h+"transition-duration").replace(/s$/,"")),a=a?a:650,s||i||this.index!==this.numChildren-2||this.forward?s||i||1!==this.index||!this.forward?this.infiniteID=null:(this.looping=!0,this.infiniteID=window.setTimeout(function(){o=soysauce.vars.degrade?n.rewindCoord:parseInt(soysauce.getArrayFromMatrix(n.container.css(h+"transform"))[4],10),n.container.attr("data-ss-state","notransition"),n.offset=n.itemWidth*(n.numChildren-2)+o,e(n.container[0],n.offset),window.setTimeout(function(){n.container.attr("data-ss-state","intransit"),n.offset=n.peek&&/left/.test(n.peekAlign)?-n.itemWidth:-n.itemWidth+n.peekWidth,e(n.container[0],n.offset),n.looping=!1},0)},0)):(this.looping=!0,this.infiniteID=window.setTimeout(function(){o=soysauce.vars.degrade?n.rewindCoord:parseInt(soysauce.getArrayFromMatrix(n.container.css(h+"transform"))[4],10),n.container.attr("data-ss-state","notransition"),n.offset=o-n.itemWidth*(n.numChildren-2),e(n.container[0],n.offset),window.setTimeout(function(){n.container.attr("data-ss-state","intransit"),n.offset=n.peek&&/left/.test(n.peekAlign)?-n.index*n.itemWidth:-n.index*n.itemWidth+n.peekWidth,e(n.container[0],n.offset),n.looping=!1},0)},0))}},t.prototype.slideForward=function(){var t=$(this.infinite?this.dots[this.index-1]:this.dots[this.index]),e=this.numChildren-1,i=this.multi?this.multiVars.stepSize*this.itemWidth:this.itemWidth;if(!this.ready||this.isZooming||!this.infinite&&this.index===e||!this.infinite&&this.multi&&this.index===this.maxIndex-1)return!1;if(t.attr("data-ss-state","inactive"),this.multi){var s=$(this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems));s.attr("data-ss-state","inactive"),this.index++}else $(this.items[this.index++]).attr("data-ss-state","inactive");if(this.infinite&&this.index===e)$(this.items[1]).attr("data-ss-state","active"),this.index=1;else if(this.multi){var s;s=$(this.multiVars.even||this.index!==this.maxIndex-1?this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems):this.items.slice(this.items.length-this.multiVars.stepSize,this.items.length)),s.attr("data-ss-state","active")}else $(this.items[this.index]).attr("data-ss-state","active");return t=$(this.infinite?this.dots[this.index-1]:this.dots[this.index]),t.attr("data-ss-state","active"),this.infinite||((this.index===e||this.multi&&this.index===this.maxIndex-1)&&this.nextBtn.attr("data-ss-state","disabled"),this.numChildren>1&&this.prevBtn.attr("data-ss-state","enabled")),this.ready=!1,this.forward=!0,this.multi&&!this.multiVars.even&&this.index===this.maxIndex-1&&(i-=(this.multiVars.stepSize-this.items.length%this.multiVars.stepSize)*this.itemWidth),this.gotoPos(this.offset-i),!0},t.prototype.slideBackward=function(){var t=$(this.infinite?this.dots[this.index-1]:this.dots[this.index]),e=this.numChildren-1,i=this.multi?this.multiVars.stepSize*this.itemWidth:this.itemWidth;if(!this.ready||!this.infinite&&0===this.index||this.isZooming)return!1;if(t.attr("data-ss-state","inactive"),this.multi){var s=$(this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems));s.attr("data-ss-state","inactive"),this.index--}else $(this.items[this.index--]).attr("data-ss-state","inactive");if(this.infinite&&0===this.index)$(this.items[e-1]).attr("data-ss-state","active"),this.index=e-1;else if(this.multi){var s=$(this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems));s.attr("data-ss-state","active")}else $(this.items[this.index]).attr("data-ss-state","active");return t=$(this.infinite?this.dots[this.index-1]:this.dots[this.index]),t.attr("data-ss-state","active"),this.infinite||(0===this.index&&this.prevBtn.attr("data-ss-state","disabled"),this.numChildren>1&&this.nextBtn.attr("data-ss-state","enabled")),this.ready=!1,this.forward=!1,this.gotoPos(this.multi&&!this.multiVars.even&&0===this.index?0+this.peekWidth:this.offset+i),!0},t.prototype.handleResize=function(){var t,i=0,s="",n=this;if(window.clearTimeout(this.resizeID),(!this.widget.is(":hidden")||this.defer)&&(this.widgetWidth=this.widget.outerWidth(),this.widgetWidth||(t=this.widget.parents().closest("[data-ss-widget='toggler'] [data-ss-component='content']")),t&&(t.css("display","block"),this.widgetWidth=this.widgetWidth||t.outerWidth()),!this.fade)){if(this.isZoomed&&(this.resetZoomState(),this.enableSwipe()),this.multi&&(this.multiVars.minWidth&&(this.multiVars.numItems=Math.floor(this.widgetWidth/this.multiVars.minWidth)),this.itemWidth=this.widgetWidth/this.multiVars.numItems),s=this.container.attr("data-ss-state"),i=this.multi?this.widgetWidth-this.itemWidth*this.multiVars.numItems:this.widgetWidth-this.itemWidth,this.peek){if(this.responsivePeek)switch(soysauce.browser.getOrientation()){case"portrait":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-portrait"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||o;break;case"landscape":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-landscape"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||o}this.itemWidth-=2*this.peekWidth}this.itemWidth+=i,this.offset=this.peek&&/left/.test(this.peekAlign)?-this.index*this.itemWidth:-this.index*this.itemWidth+this.peekWidth,this.container.attr("data-ss-state","notransition"),this.widget.attr("data-ss-state")&&this.widget.attr("data-ss-state","intransit"),this.items.css("width",this.itemWidth+"px"),e(this.container[0],this.offset),this.container.css("width",this.itemWidth*this.numChildren+"px"),this.autoheight&&this.widget.css("height",$(this.items[this.index]).outerHeight(!0)),this.resizeID=window.setTimeout(function(){n.container.attr("data-ss-state","ready"),n.widget.attr("data-ss-state")&&n.widget.attr("data-ss-state","ready")},300)}},t.prototype.autoscrollOn=function(t){var e=this;if(!this.autoscroll&&!t)return!1;if(this.autoscroll=t?!0:this.autoscroll,!this.autoscrollID){if(!this.autoscrollInterval){var i=this.widget.attr("data-ss-autoscroll-interval");this.autoscrollInterval=i?parseInt(i,10):a}return this.autoscrollID=window.setInterval(function(){soysauce.vars.degrade&&(e.rewindCoord=3*-e.itemWidth-e.peekWidth),e.slideForward()},e.autoscrollInterval),!0}return!1},t.prototype.autoscrollOff=function(t){var e=this;return this.autoscroll&&(this.autoscrollID||t)?(window.clearInterval(e.autoscrollID),this.autoscrollID=null,!0):!1},t.prototype.handleFreeze=function(){return this.freeze?void 0:(this.freeze=!0,this.autoscrollOff(!0),!0)},t.prototype.handleUnfreeze=function(){return this.freeze?(this.freeze=!1,this.autoscrollOn(),!0):void 0},t.prototype.jumpTo=function(t,i){var s=this;if(t===this.index)return!1;if(this.infinite){if(1>t||t>this.maxIndex)return!1}else if(0>t||t>this.maxIndex-1)return!1;this.jumping=!0,this.ready=!1;var n=t*-this.itemWidth+this.peekWidth;if(this.infinite?($(this.items[this.index]).attr("data-ss-state","inactive"),$(this.items[t]).attr("data-ss-state","active"),$(this.dots[this.index-1]).attr("data-ss-state","inactive"),$(this.dots[t-1]).attr("data-ss-state","active")):($(this.items[this.index]).attr("data-ss-state","inactive"),$(this.items[t]).attr("data-ss-state","active"),$(this.dots[this.index]).attr("data-ss-state","inactive"),$(this.dots[t]).attr("data-ss-state","active")),this.fade)return this.index=t,!0;if(this.autoheight){var a=$(this.items[t]).outerHeight(!0);this.widget.height(a)}return this.index=t,i?(this.container.attr("data-ss-state","notransition"),e(s.container[0],n),setTimeout(function(){s.gotoPos(n,!0),s.setTransitionedStates({timestamp:new Date})},0)):this.gotoPos(n,!0),!0},t.prototype.setTransitionedStates=function(t){var e=this;Math.abs(t.timeStamp-e.lastTransitionEnd)<300||(e.lastTransitionEnd=t.timeStamp,e.widget.trigger("slideEnd"),e.widget.trigger("SSSlideEnd"),e.ready=!0,e.jumping=!1,e.interrupted=!1,e.swiping=!1,e.looping=!1,e.container.attr("data-ss-state","ready"),e.widget.attr("data-ss-state","ready"),e.autoscroll&&!e.autoscrollRestartID&&(e.autoscrollRestartID=window.setTimeout(function(){e.autoscrollOn()},1e3)),e.autoheight&&e.widget.css("height",$(e.items[e.index]).outerHeight(!0)))},t.prototype.updateItems=function(){var t=this;this.ready=!1,this.container.find("> [data-ss-component='item']:not([data-ss-state])").attr("data-ss-state","inactive"),this.container.find("> [data-ss-component][data-ss-state='active']").length||(this.infinite?this.container.find("> [data-ss-component='item']:nth-of-type(2)").attr("data-ss-state","active"):this.items.first().attr("data-ss-state","active")),this.index=this.container.find("> [data-ss-component][data-ss-state='active']").index(),this.items=this.container.find("> [data-ss-component='item']"),this.items.css("width",this.itemWidth),this.numChildren=this.items.length,this.maxIndex=this.infinite?this.numChildren-2:this.numChildren-1,this.container.css("width",this.itemWidth*this.numChildren),this.container.imagesLoaded(function(){t.ready=!0,t.widget.attr("data-ss-state","ready")})},{init:function(e){return new t(e)}}}(),soysauce.geocoder=function(){function t(t){var e=soysauce.getOptions(t),i=this;this.widget=$(t),this.zip=this.widget.find("[data-ss-component='zip']"),this.city=this.widget.find("[data-ss-component='city']"),this.state=this.widget.find("[data-ss-component='state']"),this.lastRequestedData,this.freeze=!1,this.data=null,this.reverse=!1,this.reverseGeocodeButton=this.widget.find("[data-ss-component='reverse-geocode']"),e&&e.forEach(function(t){switch(t){case"reverse":i.reverse=!0}}),this.reverse?this.reverseGeocodeButton.on("click",function(){i.reverseGeocode()}):this.zip.on("keyup change",function(){i.getLocationData()})}var e="//jeocoder.herokuapp.com/zips/",i="//www.mapquestapi.com/geocoding/v1/reverse?key=Fmjtd%7Cluub2l6tnu%2Ca5%3Do5-96tw0f";return t.prototype.reverseGeocode=function(){function t(t){var e=i+"&lat="+t.coords.latitude+"&lng="+t.coords.longitude+"&callback=soysauce.fetch("+s.id+").setLocationData";$("body").append("<script src='"+e+"'></script>")}function e(t){console.warn("Soysauce (err "+t.code+") could not fetch data: "+t.message),s.widget.trigger("SSDataError")}var s=this;if(navigator.geolocation&&!this.freeze){s.widget.trigger("SSDataFetch"),navigator.geolocation.getCurrentPosition(t,e,n);var n={enableHighAccuracy:!0,timeout:2e4,maximumAge:0}}},t.prototype.setLocationData=function(t){if(!this.freeze){this.lastRequestedData=t;try{if(this.reverse){var e=t.results[0].locations[0];this.widget.data("zip",e.postalCode),this.widget.data("city",e.adminArea5),this.widget.data("state",e.adminArea3),this.data={},this.data.zip=e.postalCode,this.data.city=e.adminArea5,this.data.state=e.adminArea3}else this.widget.data("city",t.city),this.widget.data("state",t.state),this.data=t;this.widget.trigger("SSDataReady")}catch(i){console.warn("Soysauce: Unable to set location data. Try obtaining data from 'lastRequestedData' variable.")}}},t.prototype.getLocationData=function(){var t=this,i=this.zip[0].value;this.freeze||5!==i.length||parseFloat(i,10)!=parseInt(i,10)||isNaN(i)||(this.widget.trigger("SSDataFetch"),$.ajax({dataType:"json",url:e+i,success:function(e){t.setLocationData(e)},error:function(){t.widget.trigger("SSDataError"),console.warn("Soysauce: Could not fetch zip code "+i)}}))},t.prototype.handleFreeze=function(){this.freeze=!0},t.prototype.handleUnfreeze=function(){this.freeze=!1},{init:function(e){return new t(e)}}}(),soysauce.inputClear=function(){function t(t){var e=(soysauce.getOptions(t),this),i=!1;this.widget=$(t),this.icon,this.widget.on("focus keyup",function(){e.handleIcon()}),this.widget.on("blur",function(){i||e.widget.attr("data-ss-clear","off")}),this.widget.wrap("<div data-ss-component='input-wrapper'></div>"),this.widget.parent().css({display:e.widget.css("display")}),this.widget.attr("data-ss-clear","off"),this.widget.after("<span data-ss-component='icon'></span>"),this.icon=this.widget.find("+ [data-ss-component='icon']"),this.icon.on("mousedown touchstart",function(){i=!0,e.icon.one("mouseup touchend",function(){e.clear(),i=!1})})}return t.prototype.clear=function(){this.widget.val("").attr("data-ss-clear","off"),this.widget.trigger("SSEmpty")},t.prototype.handleIcon=function(){this.widget.attr("data-ss-clear",this.widget.val().length?"on":"off")},{init:function(e){return new t(e)}}}(),soysauce.lazyloader=function(){function t(t){var s=soysauce.getOptions(t),n=this;if(this.widget=$(t),this.items=this.widget.find("[data-ss-component='item']"),this.threshold=parseInt(this.widget.attr("data-ss-threshold"),10)||i,this.processingThreshold=0,this.processing=!1,this.button=this.widget.find("[data-ss-component='button']"),this.complete=this.items.length?!1:!0,this.batchSize=parseInt(this.widget.attr("data-ss-batch-size"),10)||5,this.initialLoad=parseInt(this.widget.attr("data-ss-initial-load"),10),this.initialBatchLoaded=!1,this.initialLoad=0===this.initialLoad?0:this.batchSize,this.freeze=!1,this.autoload=!1,this.autoloadInterval=parseInt(this.widget.attr("data-ss-interval"),10)||1e3,this.autoloadIntervalID=0,this.cache=!1,this.cacheInput=$("[data-ss-component='cache']"),this.isCached=!1,this.persistedLoad=!1,this.hover=!1,s&&s.forEach(function(t){switch(t){case"autoload":n.autoload=!0;break;case"cache":n.cacheInput.length?(n.cache=!0,n.isCached=1===parseInt(n.cacheInput.val(),10)?!0:!1):console.warn("Soysauce: Cache input not found.");break;case"hover":n.hover=!0,n.autoload=!0}}),this.cache){var a=!1;this.isCached?this.widget.one("SSWidgetReady",function(){n.widget.trigger("SSLoadState"),a=!0}):this.cacheInput.val(1),e.on("pagehide",function(){n.widget.trigger("SSSaveState")}),e.on("pageshow",function(t){n.persistedLoad=t.originalEvent.persisted,$(document).ready(function(){n.widget.trigger("SSLoadState")})})}this.processNextBatch(this.initialLoad),this.button.length&&this.button.on("click",function(){n.processNextBatch()}),this.autoload&&this.startAutoload()}var e=$(window),i=1200;return t.prototype.detectThreshold=function(){var t=this.widget.height()+this.widget.offset().top-this.threshold,i=e.scrollTop()+e.height();!this.processing&&i>t&&this.widget.trigger("SSThreshold")},t.prototype.startAutoload=function(){var t=this;return this.autoload?(this.autoloadIntervalID=window.setInterval(function(){t.detectThreshold()},t.autoloadInterval),!0):!1},t.prototype.pauseAutoload=function(){return this.autoloadIntervalID&&this.autoload?(window.clearInterval(this.autoloadIntervalID),this.autoloadIntervalID=null,!0):!1},t.prototype.processNextBatch=function(t){var e,i=this,s=0;t=0===t?0:this.batchSize,e=$(this.items.splice(0,t)),this.processing||this.complete||!this.initialBatchLoaded&&0===this.initialLoad||this.freeze||(this.processing=!0,this.widget.trigger("SSBatchStart"),0===e.length?(this.processing=!1,this.complete=!0,this.widget.trigger("SSItemsEmpty")):e.each(function(t,n){var a=$(n);return i.freeze?!1:(a.find("[data-ss-ll-src]").each(function(){soysauce.lateload(this)}),void a.imagesLoaded(function(){a.attr("data-ss-state","loaded"),++s===e.length&&(i.processing=!1,i.widget.trigger("SSBatchLoaded"),i.items.length&&i.initialBatchLoaded&&i.calcProcessingThreshold(),i.items.length?i.initialBatchLoaded||(i.initialBatchLoaded=!0,i.calcProcessingThreshold()):(i.complete=!0,i.widget.trigger("SSItemsEmpty")))}))}))},t.prototype.calcProcessingThreshold=function(){this.items.length&&(this.processingThreshold=this.widget.height()+this.widget.offset().top-this.items.first().offset().top,this.processingThreshold=this.threshold<i?i:this.processingThreshold)},t.prototype.reload=function(t,e){this.items=this.widget.find("[data-ss-component='item']:not([data-ss-state])"),this.items.length&&(this.complete=!1,t!==!1&&this.processNextBatch(e))},t.prototype.handleResize=function(){this.calcProcessingThreshold()},t.prototype.handleFreeze=function(){return this.freeze?!1:(this.freeze=!0,this.pauseAutoload(),!0)},t.prototype.handleUnfreeze=function(){return this.freeze?(this.freeze=!1,this.startAutoload(),!0):!1},{init:function(e){return new t(e)}}}(),soysauce.togglers=function(){function t(t,i){function s(t,e){g=$(e).attr("data-ss-ajax-url"),t.setState("ajaxing"),t.ready=!1,t.ajaxing=!0,soysauce.ajax(g,function(e,i){/success|cached/.test(i)?t.ajaxData=e:console.warn("Soysauce: AJAX request to "+g+" failed in toggler.js"),t.setAjaxComplete()})}var n=this,a=soysauce.getOptions(t);if(i){var o=$(t),r=o.attr("data-ss-toggler-id"),h="[data-ss-toggler-id='"+r+"']",c="";if(this.orphan=!0,this.widget=$(h),this.widget.each(function(t,e){var i=$(e).attr("data-ss-component");switch(i){case"button":n.button=$(e);break;case"content":n.content=$(e)}}),!this.content)return void console.warn("Soysauce: No content found for toggler-id '"+r+"'. Toggler may not work.");this.button.click(function(t){n.toggle(null,t)}),c=o.attr("data-ss-tab-group"),this.orphanTabGroup=$("[data-ss-tab-group='"+c+"']"),this.orphanTabs=this.orphanTabGroup.length>1?!0:!1,this.content.attr("data-ss-id",o.attr("data-ss-id")),this.allButtons=this.button,this.allContent=this.content,"open"===this.button.attr("data-ss-state")?(this.setState("open"),this.opened=!0):(this.setState("closed"),this.opened=!1)}else this.widget=$(t),this.orphan=!1,this.allButtons=this.widget.find("> [data-ss-component='button']"),this.button=this.allButtons.first(),this.allContent=this.widget.find("> [data-ss-component='content']"),this.content=this.allContent.first();if(this.parentID=0,this.state="closed",this.isChildToggler=!1,this.hasTogglers=!1,this.parent=void 0,this.ready=!0,this.adjustFlag=!1,this.freeze=!1,this.opened=this.opened||!1,this.slide=!1,this.height=0,this.prevChildHeight=0,this.ajax=!1,this.ajaxData,this.ajaxing=!1,this.ajaxOnLoad=!1,this.tab=!1,this.childTabOpen=!1,this.nocollapse=!1,this.responsive=!1,this.responsiveVars={threshold:parseInt(this.widget.attr("data-ss-responsive-threshold"),10)||768,accordions:!0},a&&a.forEach(function(t){switch(t){case"ajax":n.ajax=!0,n.ajaxOnLoad=/true/.test(n.widget.attr("data-ss-ajax-onload"));break;case"tabs":n.tab=!0;break;case"nocollapse":n.nocollapse=!0;break;case"slide":n.slide=soysauce.vars.degrade?!1:!0;break;case"responsive":n.responsive=!0,n.tab=!0}}),this.orphan)return this.content.on(e,function(){n.content.trigger("slideEnd"),n.ready=!0}),this;if(this.allButtons.append("<span class='icon'></span>"),this.allContent.wrapInner("<div data-ss-component='wrapper'/>"),this.hasTogglers=this.widget.has("[data-ss-widget='toggler']").length>0?!0:!1,this.isChildToggler=this.widget.parents("[data-ss-widget='toggler']").length>0?!0:!1,this.isChildToggler){var d=this.widget.parents("[data-ss-widget='toggler']");this.parentID=parseInt(d.attr("data-ss-id"),10),this.parent=soysauce.fetch(this.parentID)}if("open"===this.widget.attr("data-ss-state")?(this.allButtons.each(function(){var t=$(this);t.attr("data-ss-state")?"open"===t.attr("data-ss-state")&&(n.button=t,n.content=t.find("+ [data-ss-component='content']")):(t.attr("data-ss-state","closed"),t.find("+ [data-ss-component='content']").attr("data-ss-state","closed"))}),this.opened=!0):(this.allButtons.attr("data-ss-state","closed"),this.allContent.attr("data-ss-state","closed"),this.widget.attr("data-ss-state","closed"),this.opened=!1),this.slide&&(this.widget.find("> [data-ss-component='content'][data-ss-state='open']").attr("data-ss-open-onload","true"),this.allContent.attr("data-ss-state","open"),this.allContent.each(function(){var t=$(this);t.imagesLoaded(function(){var e;n.hasTogglers&&t.find("[data-ss-component='content']").attr("data-ss-state","closed"),e=t.outerHeight(!0),t.attr("data-ss-slide-height",e),t.attr("data-ss-open-onload")?(n.height=e,t.css("height",n.height)):(t.css("height","0px"),t.attr("data-ss-state","closed")),n.hasTogglers&&t.find("[data-ss-component='content']").removeAttr("data-ss-state")})}),this.allContent.on(e,function(){n.orphan||n.widget.trigger("slideEnd"),n.ready=!0})),this.allButtons.click(function(t){n.toggle(null,t)}),this.responsive&&this.handleResponsive(),this.ajax){var l,u=this.widget,p=this.widget.find("> [data-ss-component='content'][data-ss-ajax-url]"),g="",n=this;if(0===p.length)return void console.warn("Soysauce: 'data-ss-ajax-url' tag required on content. Must be on the same domain if site doesn't support CORS.");p.each(function(t,e){l=$(e.previousElementSibling),n.ajaxOnLoad?u.on("SSWidgetReady",function(){s(n,e)}):l.click(function(){s(n,e)})})}this.tab&&this.nocollapse&&this.content.imagesLoaded(function(){n.widget.css("min-height",n.button.outerHeight(!0)+n.content.outerHeight(!0))})}var e="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";return t.prototype.openToggler=function(){var t=this.responsiveVars.accordions;if(this.ready||t){var i=this;if(this.slide){if(this.responsive&&!t)return;this.ready=!1,(this.adjustFlag||t)&&this.content.one(e,function(){i.adjustHeight()}),this.isChildToggler&&this.parent.slide&&(this.tab?this.parent.setHeight(this.parent.height+this.height-this.parent.prevChildHeight):this.parent.addHeight(this.height),this.parent.prevChildHeight=this.height),this.ajax&&0===this.height?$(this.content).imagesLoaded(function(){i.content.css("height","auto"),i.height=i.content.outerHeight(!0),i.content.css("height",i.height+"px")}):(i.height=parseInt(i.content.attr("data-ss-slide-height"),10),i.content.css("height",i.height+"px"))}this.tab&&this.nocollapse&&this.widget.css("min-height",this.button.outerHeight(!0)+this.content.outerHeight(!0)),this.opened=!0,this.setState("open")}},t.prototype.close=function(t,e){var i=$(t);if(this.ready){if(this.slide&&(this.ready=!1,this.isChildToggler&&this.parent.slide&&e&&this.parent.addHeight(-this.height),this.content.css("height","0px")),t){if("closed"===i.attr("data-ss-state"))return!1;"button"===i.attr("data-ss-component")?(this.button=i,this.orphan||(this.content=i.find("+ *"))):console.warn("Soysauce: target parameter must be a button")}else this.allButtons.attr("data-ss-state","closed"),this.allContent.attr("data-ss-state","closed"),this.state="closed",this.opened=!1;this.setState("closed")}},t.prototype.open=function(t){var e=$(t);return"open"===e.attr("data-ss-state")?!1:("button"!==e.attr("data-ss-component")||this.orphan||(e=e.find("+ *")),void this.toggle(e[0]))},t.prototype.doResize=function(){this.adjustFlag=!0,this.opened&&this.adjustHeight(),this.responsive&&this.handleResponsive()},t.prototype.handleResize=function(){var t=this,e=this.allContent.find("[data-ss-widget]");this.defer&&e.length?(this.allContent.css({clear:"both",position:"relative"}),e.length?e.each(function(i,s){var n=soysauce.fetch(s).widget;i+1===e.length&&n.one("SSWidgetResized",function(){t.allContent.css({clear:"",position:"",display:""}),t.doResize()})}):this.doResize()):this.doResize()},t.prototype.adjustHeight=function(){return this.slide?void(this.opened&&(this.height=this.content.find("> [data-ss-component='wrapper']").outerHeight(!0),this.content.attr("data-ss-slide-height",this.height).height(this.height))):void(this.tab&&this.nocollapse&&this.widget.css("min-height",this.button.outerHeight(!0)+this.content.outerHeight(!0)))},t.prototype.addHeight=function(t){this.height+=t,this.height=this.height<0?0:this.height,this.slide&&this.content.attr("data-ss-slide-height",this.height),this.content.css("height",this.height+"px")},t.prototype.setHeight=function(t){this.height=t,this.height=this.height<0?0:this.height,this.slide&&this.content.attr("data-ss-slide-height",this.height),this.content.css("height",this.height+"px")},t.prototype.toggle=function(t,e){var i,s=this;if(!this.freeze&&!this.ajaxing){if(e)i=e.target;else if(t&&!this.orphan){"string"==typeof t&&(i=t=this.widget.find(t)[0]);try{if(/content/.test(t.attributes["data-ss-component"].value)){{this.widget.find(t)}i=t.previousElementSibling}}catch(e){console.warn("Soysauce: component passed is not a Soysauce component. Opening first toggler."),i=this.button[0]}}else i=this.button[0],i&&!i.attributes["data-ss-component"]&&console.warn("Soysauce: component passed is not a Soysauce component. Opening first toggler.");if($(i).attr("data-ss-component")||(i=$(i).closest("[data-ss-component='button']")[0]),this.orphan)return void(this.opened?(this.opened=!1,this.setState("closed")):(this.orphanTabs&&this.orphanTabGroup.each(function(){var t=soysauce.fetch(this);t.opened&&t.toggle()}),this.opened=!0,this.setState("open")));if(this.tab){var n="open"===this.button.attr("data-ss-state")&&this.button[0]===i?!0:!1;if((this.responsive&&!this.responsiveVars.accordions||this.nocollapse)&&this.button[0]===i)return;if(this.isChildToggler&&this.tab&&(this.parent.childTabOpen=!n,n&&(this.parent.prevChildHeight=0)),this.close(null,n),this.button=$(i),this.content=$(i).find("+ [data-ss-component='content']"),this.slide&&(s.height=parseInt(s.content.attr("data-ss-slide-height"),10)),n)return this.widget.attr("data-ss-state","closed"),void(this.opened=!1);this.openToggler()}else{var n;this.button=$(i),this.content=$(i).find("+ [data-ss-component='content']"),n="open"===this.button.attr("data-ss-state")&&1===this.widget.find("[data-ss-component='button'][data-ss-state='open']").length?!0:!1,n&&(this.opened=!1),"closed"===this.button.attr("data-ss-state")?this.openToggler():this.close(i)}}},t.prototype.setState=function(t){this.state=t,this.button.attr("data-ss-state",t),this.content.attr("data-ss-state",t),this.orphan||(this.opened?this.widget.attr("data-ss-state","open"):this.widget.attr("data-ss-state","closed"),this.responsive&&this.opened&&this.handleResponsive())},t.prototype.setAjaxComplete=function(){this.ajaxing=!1,this.ready=!0,this.setState(this.opened?"open":"closed"),this.widget.trigger("SSAjaxComplete")},t.prototype.handleFreeze=function(){this.freeze=!0},t.prototype.handleUnfreeze=function(){this.freeze=!1},t.prototype.handleResponsive=function(){this.responsive&&(window.innerWidth>=this.responsiveVars.threshold?(this.responsiveVars.accordions=!1,this.widget.attr("data-ss-responsive-type","tabs"),this.opened||(this.button=this.widget.find("[data-ss-component='button']").first(),this.content=this.widget.find("[data-ss-component='content']").first(),this.openToggler()),this.widget.css("min-height",this.button.outerHeight(!0)+this.content.outerHeight(!0)+"px")):(this.responsiveVars.accordions=!0,this.widget.attr("data-ss-responsive-type","accordions"),this.widget.css("min-height","0")))},{init:function(e,i){return new t(e,i)}}}();