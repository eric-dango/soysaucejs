function FastClick(f,c){var g;c=c||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=c.touchBoundary||10;this.layer=f;this.tapDelay=c.tapDelay||200;if(FastClick.notNeeded(f)){return}function h(k,j){return function(){return k.apply(j,arguments)}}var b=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var e=this;for(var d=0,a=b.length;d<a;d++){e[b[d]]=h(e[b[d]],e)}if(deviceIsAndroid){f.addEventListener("mouseover",this.onMouse,true);f.addEventListener("mousedown",this.onMouse,true);f.addEventListener("mouseup",this.onMouse,true)}f.addEventListener("click",this.onClick,true);f.addEventListener("touchstart",this.onTouchStart,false);f.addEventListener("touchmove",this.onTouchMove,false);f.addEventListener("touchend",this.onTouchEnd,false);f.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){f.removeEventListener=function(k,m,j){var l=Node.prototype.removeEventListener;if(k==="click"){l.call(f,k,m.hijacked||m,j)}else{l.call(f,k,m,j)}};f.addEventListener=function(l,m,k){var j=Node.prototype.addEventListener;if(l==="click"){j.call(f,l,m.hijacked||(m.hijacked=function(n){if(!n.propagationStopped){m(n)}}),k)}else{j.call(f,l,m,k)}}}if(typeof f.onclick==="function"){g=f.onclick;f.addEventListener("click",function(j){g(j)},false);f.onclick=null}}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;var deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);var deviceIsIOS4=deviceIsIOS&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);var deviceIsIOSWithBadTarget=deviceIsIOS&&(/OS ([6-9]|\d{2})_\d/).test(navigator.userAgent);var deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled){return true}break;case"input":if((deviceIsIOS&&a.type==="file")||a.disabled){return true}break;case"label":case"video":return true}return(/\bneedsclick\b/).test(a.className)};FastClick.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return true;case"select":return !deviceIsAndroid;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return !a.disabled&&!a.readOnly;default:return(/\bneedsfocus\b/).test(a.className)}};FastClick.prototype.sendClick=function(b,c){var a,d;if(document.activeElement&&document.activeElement!==b){document.activeElement.blur()}d=c.changedTouches[0];a=document.createEvent("MouseEvents");a.initMouseEvent(this.determineEventType(b),true,true,window,1,d.screenX,d.screenY,d.clientX,d.clientY,false,false,false,false,0,null);a.forwardedTouchEvent=true;b.dispatchEvent(a)};FastClick.prototype.determineEventType=function(a){if(deviceIsAndroid&&a.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};FastClick.prototype.focus=function(a){var b;if(deviceIsIOS&&a.setSelectionRange&&a.type.indexOf("date")!==0&&a.type!=="time"){b=a.value.length;a.setSelectionRange(b,b)}else{a.focus()}};FastClick.prototype.updateScrollParent=function(b){var c,a;c=b.fastClickScrollParent;if(!c||!c.contains(b)){a=b;do{if(a.scrollHeight>a.offsetHeight){c=a;b.fastClickScrollParent=a;break}a=a.parentElement}while(a)}if(c){c.fastClickLastScrollTop=c.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(a){if(a.nodeType===Node.TEXT_NODE){return a.parentNode}return a};FastClick.prototype.onTouchStart=function(c){var a,d,b;if(c.targetTouches.length>1){return true}a=this.getTargetElementFromEventTarget(c.target);d=c.targetTouches[0];if(deviceIsIOS){b=window.getSelection();if(b.rangeCount&&!b.isCollapsed){return true}if(!deviceIsIOS4){if(d.identifier&&d.identifier===this.lastTouchIdentifier){c.preventDefault();return false}this.lastTouchIdentifier=d.identifier;this.updateScrollParent(a)}}this.trackingClick=true;this.trackingClickStart=c.timeStamp;this.targetElement=a;this.touchStartX=d.pageX;this.touchStartY=d.pageY;if((c.timeStamp-this.lastClickTime)<this.tapDelay){c.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(a){var c=a.changedTouches[0],b=this.touchBoundary;if(Math.abs(c.pageX-this.touchStartX)>b||Math.abs(c.pageY-this.touchStartY)>b){return true}return false};FastClick.prototype.onTouchMove=function(a){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(a){if(a.control!==undefined){return a.control}if(a.htmlFor){return document.getElementById(a.htmlFor)}return a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(c){var e,d,b,g,f,a=this.targetElement;if(!this.trackingClick){return true}if((c.timeStamp-this.lastClickTime)<this.tapDelay){this.cancelNextClick=true;return true}this.cancelNextClick=false;this.lastClickTime=c.timeStamp;d=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(deviceIsIOSWithBadTarget){f=c.changedTouches[0];a=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||a;a.fastClickScrollParent=this.targetElement.fastClickScrollParent}b=a.tagName.toLowerCase();if(b==="label"){e=this.findControl(a);if(e){this.focus(a);if(deviceIsAndroid){return false}a=e}}else{if(this.needsFocus(a)){if((c.timeStamp-d)>100||(deviceIsIOS&&window.top!==window&&b==="input")){this.targetElement=null;return false}this.focus(a);this.sendClick(a,c);if(!deviceIsIOS||b!=="select"){this.targetElement=null;c.preventDefault()}return false}}if(deviceIsIOS&&!deviceIsIOS4){g=a.fastClickScrollParent;if(g&&g.fastClickLastScrollTop!==g.scrollTop){return true}}if(!this.needsClick(a)){c.preventDefault();this.sendClick(a,c)}return false};FastClick.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(a){if(!this.targetElement){return true}if(a.forwardedTouchEvent){return true}if(!a.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(a.stopImmediatePropagation){a.stopImmediatePropagation()}else{a.propagationStopped=true}a.stopPropagation();a.preventDefault();return false}return true};FastClick.prototype.onClick=function(a){var b;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(a.target.type==="submit"&&a.detail===0){return true}b=this.onMouse(a);if(!b){this.targetElement=null}return b};FastClick.prototype.destroy=function(){var a=this.layer;if(deviceIsAndroid){a.removeEventListener("mouseover",this.onMouse,true);a.removeEventListener("mousedown",this.onMouse,true);a.removeEventListener("mouseup",this.onMouse,true)}a.removeEventListener("click",this.onClick,true);a.removeEventListener("touchstart",this.onTouchStart,false);a.removeEventListener("touchmove",this.onTouchMove,false);a.removeEventListener("touchend",this.onTouchEnd,false);a.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(b){var a;var d;var c;if(typeof window.ontouchstart==="undefined"){return true}d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(d){if(deviceIsAndroid){a=document.querySelector("meta[name=viewport]");if(a){if(a.content.indexOf("user-scalable=no")!==-1){return true}if(d>31&&document.documentElement.scrollWidth<=window.outerWidth){return true}}}else{return true}}if(deviceIsBlackBerry10){c=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(c[1]>=10&&c[2]>=3){a=document.querySelector("meta[name=viewport]");if(a){if(a.content.indexOf("user-scalable=no")!==-1){return true}if(document.documentElement.scrollWidth<=window.outerWidth){return true}}}}if(b.style.msTouchAction==="none"){return true}return false};FastClick.attach=function(b,a){return new FastClick(b,a)};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define(function(){return FastClick})}else{if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}}(function(C,k){var x=function(N,M){return new x.Instance(N,M||{})};x.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};x.HAS_POINTEREVENTS=C.navigator.pointerEnabled||C.navigator.msPointerEnabled;x.HAS_TOUCHEVENTS=("ontouchstart" in C);x.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i;x.NO_MOUSEEVENTS=x.HAS_TOUCHEVENTS&&C.navigator.userAgent.match(x.MOBILE_REGEX);x.EVENT_TYPES={};x.DIRECTION_DOWN="down";x.DIRECTION_LEFT="left";x.DIRECTION_UP="up";x.DIRECTION_RIGHT="right";x.POINTER_MOUSE="mouse";x.POINTER_TOUCH="touch";x.POINTER_PEN="pen";x.EVENT_START="start";x.EVENT_MOVE="move";x.EVENT_END="end";x.DOCUMENT=C.document;x.plugins=x.plugins||{};x.gestures=x.gestures||{};x.READY=false;function e(){if(x.READY){return}x.event.determineEventTypes();x.utils.each(x.gestures,function(M){x.detection.register(M)});x.event.onTouch(x.DOCUMENT,x.EVENT_MOVE,x.detection.detect);x.event.onTouch(x.DOCUMENT,x.EVENT_END,x.detection.detect);x.READY=true}x.utils={extend:function j(M,O,P){for(var N in O){if(M[N]!==k&&P){continue}M[N]=O[N]}return M},each:function(Q,O,N){var M,P;if("forEach" in Q){Q.forEach(O,N)}else{if(Q.length!==k){for(M=0,P=Q.length;M<P;M++){if(O.call(N,Q[M],M,Q)===false){return}}}else{for(M in Q){if(Q.hasOwnProperty(M)&&O.call(N,Q[M],M,Q)===false){return}}}}},hasParent:function(N,M){while(N){if(N==M){return true}N=N.parentNode}return false},getCenter:function y(N){var O=[],M=[];x.utils.each(N,function(P){O.push(typeof P.clientX!=="undefined"?P.clientX:P.pageX);M.push(typeof P.clientY!=="undefined"?P.clientY:P.pageY)});return{pageX:((Math.min.apply(Math,O)+Math.max.apply(Math,O))/2),pageY:((Math.min.apply(Math,M)+Math.max.apply(Math,M))/2)}},getVelocity:function a(M,O,N){return{x:Math.abs(O/M)||0,y:Math.abs(N/M)||0}},getAngle:function o(O,N){var P=N.pageY-O.pageY,M=N.pageX-O.pageX;return Math.atan2(P,M)*180/Math.PI},getDirection:function l(O,N){var M=Math.abs(O.pageX-N.pageX),P=Math.abs(O.pageY-N.pageY);if(M>=P){return O.pageX-N.pageX>0?x.DIRECTION_LEFT:x.DIRECTION_RIGHT}else{return O.pageY-N.pageY>0?x.DIRECTION_UP:x.DIRECTION_DOWN}},getDistance:function n(O,N){var M=N.pageX-O.pageX,P=N.pageY-O.pageY;return Math.sqrt((M*M)+(P*P))},getScale:function w(N,M){if(N.length>=2&&M.length>=2){return this.getDistance(M[0],M[1])/this.getDistance(N[0],N[1])}return 1},getRotation:function u(N,M){if(N.length>=2&&M.length>=2){return this.getAngle(M[1],M[0])-this.getAngle(N[1],N[0])}return 0},isVertical:function B(M){return(M==x.DIRECTION_UP||M==x.DIRECTION_DOWN)},stopDefaultBrowserBehavior:function c(N,M){if(!M||!N||!N.style){return}x.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(O){x.utils.each(M,function(P){if(O){P=O+P.substring(0,1).toUpperCase()+P.substring(1)}if(P in N.style){N.style[P]=P}})});if(M.userSelect=="none"){N.onselectstart=function(){return false}}if(M.userDrag=="none"){N.ondragstart=function(){return false}}}};x.Instance=function(O,N){var M=this;e();this.element=O;this.enabled=true;this.options=x.utils.extend(x.utils.extend({},x.defaults),N||{});if(this.options.stop_browser_behavior){x.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior)}x.event.onTouch(O,x.EVENT_START,function(P){if(M.enabled){x.detection.startDetect(M,P)}});return this};x.Instance.prototype={on:function D(M,N){var O=M.split(" ");x.utils.each(O,function(P){this.element.addEventListener(P,N,false)},this);return this},off:function p(M,N){var O=M.split(" ");x.utils.each(O,function(P){this.element.removeEventListener(P,N,false)},this);return this},trigger:function H(N,P){if(!P){P={}}var O=x.DOCUMENT.createEvent("Event");O.initEvent(N,true,true);O.gesture=P;var M=this.element;if(x.utils.hasParent(P.target,M)){M=P.target}M.dispatchEvent(O);return this},enable:function d(M){this.enabled=M;return this}};var G=null;var m=false;var h=false;x.event={bindDom:function(N,P,O){var M=P.split(" ");x.utils.each(M,function(Q){N.addEventListener(Q,O,false)})},onTouch:function A(O,N,P){var M=this;this.bindDom(O,x.EVENT_TYPES[N],function Q(S){var T=S.type.toLowerCase();if(T.match(/mouse/)&&h){return}else{if(T.match(/touch/)||T.match(/pointerdown/)||(T.match(/mouse/)&&S.which===1)){m=true}else{if(T.match(/mouse/)&&!S.which){m=false}}}if(T.match(/touch|pointer/)){h=true}var R=0;if(m){if(x.HAS_POINTEREVENTS&&N!=x.EVENT_END){R=x.PointerEvent.updatePointer(N,S)}else{if(T.match(/touch/)){R=S.touches.length}else{if(!h){R=T.match(/up/)?0:1}}}if(R>0&&N==x.EVENT_END){N=x.EVENT_MOVE}else{if(!R){N=x.EVENT_END}}if(R||G===null){G=S}P.call(x.detection,M.collectEventData(O,N,M.getTouchList(G,N),S));if(x.HAS_POINTEREVENTS&&N==x.EVENT_END){R=x.PointerEvent.updatePointer(N,S)}}if(!R){G=null;m=false;h=false;x.PointerEvent.reset()}})},determineEventTypes:function F(){var M;if(x.HAS_POINTEREVENTS){M=x.PointerEvent.getEvents()}else{if(x.NO_MOUSEEVENTS){M=["touchstart","touchmove","touchend touchcancel"]}else{M=["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"]}}x.EVENT_TYPES[x.EVENT_START]=M[0];x.EVENT_TYPES[x.EVENT_MOVE]=M[1];x.EVENT_TYPES[x.EVENT_END]=M[2]},getTouchList:function t(M){if(x.HAS_POINTEREVENTS){return x.PointerEvent.getTouchList()}else{if(M.touches){return M.touches}else{M.identifier=1;return[M]}}},collectEventData:function K(O,N,Q,P){var M=x.POINTER_TOUCH;if(P.type.match(/mouse/)||x.PointerEvent.matchType(x.POINTER_MOUSE,P)){M=x.POINTER_MOUSE}return{center:x.utils.getCenter(Q),timeStamp:new Date().getTime(),target:P.target,touches:Q,eventType:N,pointerType:M,srcEvent:P,preventDefault:function(){if(this.srcEvent.preventManipulation){this.srcEvent.preventManipulation()}if(this.srcEvent.preventDefault){this.srcEvent.preventDefault()}},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return x.detection.stopDetect()}}}};x.PointerEvent={pointers:{},getTouchList:function(){var M=this;var N=[];x.utils.each(M.pointers,function(O){N.push(O)});return N},updatePointer:function(N,M){if(N==x.EVENT_END){this.pointers={}}else{M.identifier=M.pointerId;this.pointers[M.pointerId]=M}return Object.keys(this.pointers).length},matchType:function(M,O){if(!O.pointerType){return false}var P=O.pointerType,N={};N[x.POINTER_MOUSE]=(P===O.MSPOINTER_TYPE_MOUSE||P===x.POINTER_MOUSE);N[x.POINTER_TOUCH]=(P===O.MSPOINTER_TYPE_TOUCH||P===x.POINTER_TOUCH);N[x.POINTER_PEN]=(P===O.MSPOINTER_TYPE_PEN||P===x.POINTER_PEN);return N[M]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}};x.detection={gestures:[],current:null,previous:null,stopped:false,startDetect:function z(N,M){if(this.current){return}this.stopped=false;this.current={inst:N,startEvent:x.utils.extend({},M),lastEvent:false,name:""};this.detect(M)},detect:function r(M){if(!this.current||this.stopped){return}M=this.extendEventData(M);var N=this.current.inst.options;x.utils.each(this.gestures,function(O){if(!this.stopped&&N[O.name]!==false){if(O.handler.call(O,M,this.current.inst)===false){this.stopDetect();return false}}},this);if(this.current){this.current.lastEvent=M}if(M.eventType==x.EVENT_END&&!M.touches.length-1){this.stopDetect()}return M},stopDetect:function b(){this.previous=x.utils.extend({},this.current);this.current=null;this.stopped=true},extendEventData:function v(P){var Q=this.current.startEvent;if(Q&&(P.touches.length!=Q.touches.length||P.touches===Q.touches)){Q.touches=[];x.utils.each(P.touches,function(U){Q.touches.push(x.utils.extend({},U))})}var N=P.timeStamp-Q.timeStamp,T=P.center.pageX-Q.center.pageX,S=P.center.pageY-Q.center.pageY,O=x.utils.getVelocity(N,T,S),R,M;if(P.eventType==="end"){R=this.current.lastEvent&&this.current.lastEvent.interimAngle;M=this.current.lastEvent&&this.current.lastEvent.interimDirection}else{R=this.current.lastEvent&&x.utils.getAngle(this.current.lastEvent.center,P.center);M=this.current.lastEvent&&x.utils.getDirection(this.current.lastEvent.center,P.center)}x.utils.extend(P,{deltaTime:N,deltaX:T,deltaY:S,velocityX:O.x,velocityY:O.y,distance:x.utils.getDistance(Q.center,P.center),angle:x.utils.getAngle(Q.center,P.center),interimAngle:R,direction:x.utils.getDirection(Q.center,P.center),interimDirection:M,scale:x.utils.getScale(Q.touches,P.touches),rotation:x.utils.getRotation(Q.touches,P.touches),startEvent:Q});return P},register:function f(N){var M=N.defaults||{};if(M[N.name]===k){M[N.name]=true}x.utils.extend(x.defaults,M,true);N.index=N.index||1000;this.gestures.push(N);this.gestures.sort(function(P,O){if(P.index<O.index){return -1}if(P.index>O.index){return 1}return 0});return this.gestures}};x.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:true,drag_max_touches:1,drag_block_horizontal:false,drag_block_vertical:false,drag_lock_to_axis:false,drag_lock_min_distance:25},triggered:false,handler:function s(N,O){if(x.detection.current.name!=this.name&&this.triggered){O.trigger(this.name+"end",N);this.triggered=false;return}if(O.options.drag_max_touches>0&&N.touches.length>O.options.drag_max_touches){return}switch(N.eventType){case x.EVENT_START:this.triggered=false;break;case x.EVENT_MOVE:if(N.distance<O.options.drag_min_distance&&x.detection.current.name!=this.name){return}if(x.detection.current.name!=this.name){x.detection.current.name=this.name;if(O.options.correct_for_drag_min_distance&&N.distance>0){var M=Math.abs(O.options.drag_min_distance/N.distance);x.detection.current.startEvent.center.pageX+=N.deltaX*M;x.detection.current.startEvent.center.pageY+=N.deltaY*M;N=x.detection.extendEventData(N)}}if(x.detection.current.lastEvent.drag_locked_to_axis||(O.options.drag_lock_to_axis&&O.options.drag_lock_min_distance<=N.distance)){N.drag_locked_to_axis=true}var P=x.detection.current.lastEvent.direction;if(N.drag_locked_to_axis&&P!==N.direction){if(x.utils.isVertical(P)){N.direction=(N.deltaY<0)?x.DIRECTION_UP:x.DIRECTION_DOWN}else{N.direction=(N.deltaX<0)?x.DIRECTION_LEFT:x.DIRECTION_RIGHT}}if(!this.triggered){O.trigger(this.name+"start",N);this.triggered=true}O.trigger(this.name,N);O.trigger(this.name+N.direction,N);if((O.options.drag_block_vertical&&x.utils.isVertical(N.direction))||(O.options.drag_block_horizontal&&!x.utils.isVertical(N.direction))){N.preventDefault()}break;case x.EVENT_END:if(this.triggered){O.trigger(this.name+"end",N)}this.triggered=false;break}}};x.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function J(M,N){switch(M.eventType){case x.EVENT_START:clearTimeout(this.timer);x.detection.current.name=this.name;this.timer=setTimeout(function(){if(x.detection.current.name=="hold"){N.trigger("hold",M)}},N.options.hold_timeout);break;case x.EVENT_MOVE:if(M.distance>N.options.hold_threshold){clearTimeout(this.timer)}break;case x.EVENT_END:clearTimeout(this.timer);break}}};x.gestures.Release={name:"release",index:Infinity,handler:function I(M,N){if(M.eventType==x.EVENT_END){N.trigger(this.name,M)}}};x.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:0.7},handler:function L(M,N){if(M.eventType==x.EVENT_END){if(N.options.swipe_max_touches>0&&M.touches.length<N.options.swipe_min_touches&&M.touches.length>N.options.swipe_max_touches){return}if(M.velocityX>N.options.swipe_velocity||M.velocityY>N.options.swipe_velocity){N.trigger(this.name,M);N.trigger(this.name+M.direction,M)}}}};x.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:true,doubletap_distance:20,doubletap_interval:300},handler:function E(O,P){if(O.eventType==x.EVENT_END&&O.srcEvent.type!="touchcancel"){var N=x.detection.previous,M=false;if(O.deltaTime>P.options.tap_max_touchtime||O.distance>P.options.tap_max_distance){return}if(N&&N.name=="tap"&&(O.timeStamp-N.lastEvent.timeStamp)<P.options.doubletap_interval&&O.distance<P.options.doubletap_distance){P.trigger("doubletap",O);M=true}if(!M||P.options.tap_always){x.detection.current.name="tap";P.trigger(x.detection.current.name,O)}}}};x.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:false,prevent_mouseevents:false},handler:function g(M,N){if(N.options.prevent_mouseevents&&M.pointerType==x.POINTER_MOUSE){M.stopDetect();return}if(N.options.prevent_default){M.preventDefault()}if(M.eventType==x.EVENT_START){N.trigger(this.name,M)}}};x.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:0.01,transform_min_rotation:1,transform_always_block:false},triggered:false,handler:function q(O,P){if(x.detection.current.name!=this.name&&this.triggered){P.trigger(this.name+"end",O);this.triggered=false;return}if(O.touches.length<2){return}if(P.options.transform_always_block){O.preventDefault()}switch(O.eventType){case x.EVENT_START:this.triggered=false;break;case x.EVENT_MOVE:var N=Math.abs(1-O.scale);var M=Math.abs(O.rotation);if(N<P.options.transform_min_scale&&M<P.options.transform_min_rotation){return}x.detection.current.name=this.name;if(!this.triggered){P.trigger(this.name+"start",O);this.triggered=true}P.trigger(this.name,O);if(M>P.options.transform_min_rotation){P.trigger("rotate",O)}if(N>P.options.transform_min_scale){P.trigger("pinch",O);P.trigger("pinch"+((O.scale<1)?"in":"out"),O)}break;case x.EVENT_END:if(this.triggered){P.trigger(this.name+"end",O)}this.triggered=false;break}}};C.Hammer=x})(this);(function(b,c){function a(d,e){d.event.bindDom=function(f,h,g){e(f).on(h,function(j){var k=j.originalEvent||j;if(k.pageX===c){k.pageX=j.pageX;k.pageY=j.pageY}if(!k.target){k.target=j.target}if(k.which===c){k.which=k.button}if(!k.preventDefault){k.preventDefault=j.preventDefault}if(!k.stopPropagation){k.stopPropagation=j.stopPropagation}g.call(this,k)})};d.Instance.prototype.on=function(f,g){return e(this.element).on(f,g)};d.Instance.prototype.off=function(f,g){return e(this.element).off(f,g)};d.Instance.prototype.trigger=function(f,h){var g=e(this.element);if(g.has(h.target).length){g=e(h.target)}return g.trigger({type:f,gesture:h})};e.fn.hammer=function(f){return this.each(function(){var g=e(this);var h=g.data("hammer");if(!h){g.data("hammer",new d(this,f||{}))}else{if(h&&f){d.utils.extend(h.options,f)}}})}}a(b.Hammer,b.jQuery||b.Zepto)})(this);(function(a,b){if(!jQuery.fn.find){jQuery.fn.extend({find:function(d){var g,f,e,c=this.length;if(typeof d!=="string"){e=this;return this.pushStack(jQuery(d).filter(function(){for(g=0;g<c;g++){if(jQuery.contains(e[g],this)){return true}}}))}f=[];for(g=0;g<c;g++){jQuery.find(d,this[g],f)}f=this.pushStack(c>1?jQuery.unique(f):f);f.selector=(this.selector?this.selector+" ":"")+d;return f}})}if(!jQuery.fn.on){jQuery.fn.extend({on:function(e,c,h,g,d){var f,j;if(typeof e==="object"){if(typeof c!=="string"){h=h||c;c=b}for(f in e){this.on(f,c,h,e[f],d)}return this}if(h==null&&g==null){g=c;h=c=b}else{if(g==null){if(typeof c==="string"){g=h;h=b}else{g=h;h=c;c=b}}}if(g===false){g=returnFalse}else{if(!g){return this}}if(d===1){j=g;g=function(k){jQuery().off(k);return j.apply(this,arguments)};g.guid=j.guid||(j.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,e,g,h,c)})}})}if(!jQuery.fn.one){jQuery.fn.extend({one:function(d,c,f,e){return this.on(d,c,f,e,1)}})}if(!jQuery.fn.off){jQuery.fn.extend({off:function(e,c,g){var d,f;if(e&&e.preventDefault&&e.handleObj){d=e.handleObj;jQuery(e.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler);return this}if(typeof e==="object"){for(f in e){this.off(f,c,e[f])}return this}if(c===false||typeof c==="function"){g=c;c=b}if(g===false){g=returnFalse}return this.each(function(){jQuery.event.remove(this,e,g,c)})}})}})(jQuery);(function(){function c(){}var m=c.prototype;var w=this;var y=w.EventEmitter;function h(A,B){var z=A.length;while(z--){if(A[z].listener===B){return z}}return -1}function k(z){return function A(){return this[z].apply(this,arguments)}}m.getListeners=function u(z){var C=this._getEvents();var A;var B;if(typeof z==="object"){A={};for(B in C){if(C.hasOwnProperty(B)&&z.test(B)){A[B]=C[B]}}}else{A=C[z]||(C[z]=[])}return A};m.flattenListeners=function s(B){var z=[];var A;for(A=0;A<B.length;A+=1){z.push(B[A].listener)}return z};m.getListenersAsObject=function e(z){var B=this.getListeners(z);var A;if(B instanceof Array){A={};A[z]=B}return A||B};m.addListener=function f(z,C){var B=this.getListenersAsObject(z);var D=typeof C==="object";var A;for(A in B){if(B.hasOwnProperty(A)&&h(B[A],C)===-1){B[A].push(D?C:{listener:C,once:false})}}return this};m.on=k("addListener");m.addOnceListener=function a(z,A){return this.addListener(z,{listener:A,once:true})};m.once=k("addOnceListener");m.defineEvent=function q(z){this.getListeners(z);return this};m.defineEvents=function r(z){for(var A=0;A<z.length;A+=1){this.defineEvent(z[A])}return this};m.removeListener=function b(z,D){var C=this.getListenersAsObject(z);var A;var B;for(B in C){if(C.hasOwnProperty(B)){A=h(C[B],D);if(A!==-1){C[B].splice(A,1)}}}return this};m.off=k("removeListener");m.addListeners=function n(z,A){return this.manipulateListeners(false,z,A)};m.removeListeners=function t(z,A){return this.manipulateListeners(true,z,A)};m.manipulateListeners=function g(A,B,D){var C;var E;var F=A?this.removeListener:this.addListener;var z=A?this.removeListeners:this.addListeners;if(typeof B==="object"&&!(B instanceof RegExp)){for(C in B){if(B.hasOwnProperty(C)&&(E=B[C])){if(typeof E==="function"){F.call(this,C,E)}else{z.call(this,C,E)}}}}else{C=D.length;while(C--){F.call(this,B,D[C])}}return this};m.removeEvent=function p(z){var C=typeof z;var B=this._getEvents();var A;if(C==="string"){delete B[z]}else{if(C==="object"){for(A in B){if(B.hasOwnProperty(A)&&z.test(A)){delete B[A]}}}else{delete this._events}}return this};m.removeAllListeners=k("removeEvent");m.emitEvent=function v(z,B){var E=this.getListenersAsObject(z);var F;var D;var C;var A;for(C in E){if(E.hasOwnProperty(C)){D=E[C].length;while(D--){F=E[C][D];if(F.once===true){this.removeListener(z,F.listener)}A=F.listener.apply(this,B||[]);if(A===this._getOnceReturnValue()){this.removeListener(z,F.listener)}}}}return this};m.trigger=k("emitEvent");m.emit=function l(z){var A=Array.prototype.slice.call(arguments,1);return this.emitEvent(z,A)};m.setOnceReturnValue=function j(z){this._onceReturnValue=z;return this};m._getOnceReturnValue=function o(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};m._getEvents=function d(){return this._events||(this._events={})};c.noConflict=function x(){w.EventEmitter=y;return c};this.EventEmitter=c}.call(this));(function(e){var b=document.documentElement;var f=function(){};function a(h){var g=e.event;g.target=g.target||g.srcElement||h;return g}if(b.addEventListener){f=function(j,h,g){j.addEventListener(h,g,false)}}else{if(b.attachEvent){f=function(j,h,g){j[h+g]=g.handleEvent?function(){var k=a(j);g.handleEvent.call(g,k)}:function(){var k=a(j);g.call(j,k)};j.attachEvent("on"+h,j[h+g])}}}var d=function(){};if(b.removeEventListener){d=function(j,h,g){j.removeEventListener(h,g,false)}}else{if(b.detachEvent){d=function(k,h,g){k.detachEvent("on"+h,k[h+g]);try{delete k[h+g]}catch(j){k[h+g]=undefined}}}}var c={bind:f,unbind:d};e.eventie=c})(this);(function(f){var d=f.jQuery;var c=f.console;var a=typeof c!=="undefined";function g(l,k){for(var m in k){l[m]=k[m]}return l}var j=Object.prototype.toString;function e(k){return j.call(k)==="[object Array]"}function b(n){var m=[];if(e(n)){m=n}else{if(typeof n.length==="number"){for(var l=0,k=n.length;l<k;l++){m.push(n[l])}}else{m.push(n)}}return m}function h(n,l){function m(s,r,q){if(!(this instanceof m)){return new m(s,r)}if(typeof s==="string"){s=document.querySelectorAll(s)}this.elements=b(s);this.options=g({},this.options);if(typeof r==="function"){q=r}else{g(this.options,r)}if(q){this.on("always",q)}this.getImages();if(d){this.jqDeferred=new d.Deferred()}var t=this;setTimeout(function(){t.check()})}m.prototype=new n();m.prototype.options={};m.prototype.getImages=function(){this.images=[];for(var t=0,q=this.elements.length;t<q;t++){var u=this.elements[t];if(u.nodeName==="IMG"){this.addImage(u)}var w=u.querySelectorAll("img");for(var s=0,v=w.length;s<v;s++){var r=w[s];this.addImage(r)}}};m.prototype.addImage=function(q){var r=new p(q);this.images.push(r)};m.prototype.check=function(){var v=this;var r=0;var t=this.images.length;this.hasAnyBroken=false;if(!t){this.complete();return}function s(x,w){if(v.options.debug&&a){c.log("confirm",x,w)}v.progress(x);r++;if(r===t){v.complete()}return true}for(var q=0;q<t;q++){var u=this.images[q];u.on("confirm",s);u.check()}};m.prototype.progress=function(q){this.hasAnyBroken=this.hasAnyBroken||!q.isLoaded;var r=this;setTimeout(function(){r.emit("progress",r,q);if(r.jqDeferred){r.jqDeferred.notify(r,q)}})};m.prototype.complete=function(){var q=this.hasAnyBroken?"fail":"done";this.isComplete=true;var r=this;setTimeout(function(){r.emit(q,r);r.emit("always",r);if(r.jqDeferred){var s=r.hasAnyBroken?"reject":"resolve";r.jqDeferred[s](r)}})};if(d){d.fn.imagesLoaded=function(r,s){var q=new m(this,r,s);return q.jqDeferred.promise(d(this))}}function p(q){this.img=q}p.prototype=new n();p.prototype.check=function(){var q=k[this.img.src]||new o(this.img.src);if(q.isConfirmed){this.confirm(q.isLoaded,"cached was confirmed");return}if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}var r=this;q.on("confirm",function(s,t){r.confirm(s.isLoaded,t);return true});q.check()};p.prototype.confirm=function(q,r){this.isLoaded=q;this.emit("confirm",this,r)};var k={};function o(q){this.src=q;k[q]=this}o.prototype=new n();o.prototype.check=function(){if(this.isChecked){return}var q=new Image();l.bind(q,"load",this);l.bind(q,"error",this);q.src=this.src;this.isChecked=true};o.prototype.handleEvent=function(q){var r="on"+q.type;if(this[r]){this[r](q)}};o.prototype.onload=function(q){this.confirm(true,"onload");this.unbindProxyEvents(q)};o.prototype.onerror=function(q){this.confirm(false,"onerror");this.unbindProxyEvents(q)};o.prototype.confirm=function(q,r){this.isConfirmed=true;this.isLoaded=q;this.emit("confirm",this,r)};o.prototype.unbindProxyEvents=function(q){l.unbind(q.target,"load",this);l.unbind(q.target,"error",this)};return m}f.imagesLoaded=h(f.EventEmitter,f.eventie)})(window);(function(a,b,c){a.soysauce=a.soysauce||{};console.log("init!2 ");soysauce.widgets=new Array();soysauce.vars={idCount:0,degradeAll:(/Android ([12]|4\.0)|Opera|SAMSUNG-SGH-I747|SCH-I535/.test(navigator.userAgent))?true:false,degrade:(/Android ([12]|4\.0)|Opera|SAMSUNG-SGH-I747/.test(navigator.userAgent)&&!/SCH-R530U/.test(navigator.userAgent))?true:false,degrade2:(/SCH-I535/.test(navigator.userAgent))?true:false,lastResizeTime:0,lastResizeTimerID:0,fastclick:[],ajaxQueue:[]};soysauce.getOptions=function(d){if(!b(d).attr("data-ss-options")){return false}return b(d).attr("data-ss-options").split(" ")};soysauce.getPrefix=function(){if(navigator.userAgent.match(/webkit/i)!==null){return"-webkit-"}else{if(navigator.userAgent.match(/windows\sphone|msie/i)!==null){return"-ms-"}else{if(navigator.userAgent.match(/^mozilla/i)!==null){return"-moz-"}else{if(navigator.userAgent.match(/opera/i)!==null){return"-o-"}}}}return""};soysauce.stifle=function(g,d){if(!g){return false}try{g.stopImmediatePropagation();if(g.gesture){g.gesture.stopPropagation()}}catch(f){console.log(g);console.warn("Soysauce: Error occurred calling soysauce.stifle() "+f.message);g.stopPropagation();g.propagationStopped=true}if(d){return false}g.preventDefault();if(g.gesture){g.gesture.preventDefault()}};soysauce.fetch=function(d){var f,e;if(!d){return false}if(typeof(d)==="object"){d=parseInt(b(d).attr("data-ss-id"),10)}if(typeof(d)==="string"){var g=parseInt(b(d).attr("data-ss-id"),10);if(isNaN(g)){g=parseInt(d,10)}d=g}if(d===+d&&d===(d|0)){f="[data-ss-id='"+d+"']"}else{f=d}soysauce.widgets.forEach(function(h){if(!h){return}if(h.id===d){e=h}});if(!e){return false}else{return e}};soysauce.getCoords=function(d){if(!d){return}if(d.originalEvent!==c){d=d.originalEvent}if(d.touches&&d.touches.length===1){return{x:d.touches[0].clientX,y:d.touches[0].clientY}}else{if(d.touches&&d.touches.length===2){return{x:d.touches[0].clientX,y:d.touches[0].clientY,x2:d.touches[1].clientX,y2:d.touches[1].clientY}}else{if(d.changedTouches&&d.changedTouches.length===1){return{x:d.changedTouches[0].clientX,y:d.changedTouches[0].clientY}}else{if(d.changedTouches&&d.changedTouches.length===2){return{x:d.changedTouches[0].clientX,y:d.changedTouches[0].clientY,x2:d.changedTouches[1].clientX,y2:d.changedTouches[1].clientY}}else{if(d.clientX!==c){return{x:d.clientX,y:d.clientY}}}}}}};soysauce.getArrayFromMatrix=function(d){return d.substr(7,d.length-8).split(", ")};soysauce.browser={pageLoad:new Date().getTime(),supportsSVG:(document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))?true:false,supportsLocalStorage:function(){try{if(localStorage){localStorage.setItem("test",1);localStorage.removeItem("test");return true}else{return false}}catch(d){return false}}(),supportsSessionStorage:function(){try{if(sessionStorage){sessionStorage.setItem("test",1);sessionStorage.removeItem("test");return true}else{return false}}catch(d){return false}}(),getOrientation:function(){if(typeof a.orientation==="undefined"){var d=a.innerWidth||document.body.offsetWidth||document.documentElement.offsetWidth,e=a.innerHeight||document.body.offsetHeight||document.documentElement.offsetHeight;return d>e?"landscape":"portrait"}else{return a.orientation!==0?"landscape":"portrait"}}};soysauce.browserInfo=soysauce.browser;soysauce.scrollTop=function(){a.setTimeout(function(){a.scrollTo(0,1)},0)};b(a).load(function(){var e=soysauce.fetch("[data-ss-widget='lazyloader'][data-ss-options*='cache']");var d=b("body").attr("data-ss-scrolltop")!="false";if(!d||e&&e.isCached){return}if(!b(this).scrollTop()){soysauce.scrollTop()}})})(window,jQuery);soysauce.ajax=function(b,h,d){var a=false;var g=true;if(soysauce.browser.supportsSessionStorage&&sessionStorage[b]){try{a=JSON.parse(sessionStorage[b]);if(!d){if(typeof(h)==="function"){return h(a,"cached")}else{return a}}}catch(c){}}var f=jQuery.ajax({url:b,async:(!h)?false:true}).always(function(l,j,k){try{var n=JSON.stringify(l);a=JSON.parse(n);sessionStorage.setItem(b,n)}catch(m){if(m.code===DOMException.QUOTA_EXCEEDED_ERR){console.warn("Soysauce: sessionStorage is full.")}else{console.error("error message: "+m.message);console.warn("Soysauce: error fetching url '"+b+"'. Data returned needs to be JSON.");a=false}}if(typeof(h)==="function"){return h(a,j)}});soysauce.vars.ajaxQueue.push(f);return a};(function(b,c,a,d){a.destroy=function(f,j){try{var g=a.fetch(f);var k=g.widget;k.find("[data-ss-widget][data-ss-id]").each(function(){a.destroy(this)});k.off("*");k.hammer().off("*");k.empty();k.off();k.hammer().off();if(j){k.remove()}delete a.widgets[g.id-1];return true}catch(h){console.warn("Soysauce: could not destroy widget with id '"+g.id+"'. Possible memory leaks. Message: "+h.message)}return false}})(window,jQuery,soysauce);soysauce.freezeChildren=function(a){var b=jQuery("[data-ss-id='"+a+"']").find("[data-ss-widget]");b.each(function(c,e){var d=jQuery(e).attr("data-ss-id");soysauce.freeze(d,false)})};soysauce.freeze=function(b,a){if(typeof(b)==="object"){b=b.id||parseInt(jQuery(b).attr("data-ss-id"),10)}a=(!a)?true:false;soysauce.fetch(b).handleFreeze();if(a){soysauce.freezeChildren(b)}};soysauce.unfreeze=function(a){if(typeof(a)==="object"){a=a.id||parseInt($(a).attr("data-ss-id"),10)}var b=jQuery("[data-ss-id='"+a+"']").find("[data-ss-widget]");soysauce.fetch(a).handleUnfreeze();b.each(function(c,e){var d=jQuery(e).attr("data-ss-id");soysauce.fetch(d).handleUnfreeze()})};soysauce.freezeAll=function(){try{soysauce.widgets.forEach(function(b){b.handleFreeze()})}catch(a){console.warn("Soysauce: Could not freeze all widgets. || Error Message: ",a.message);return false}return true};soysauce.unfreezeAll=function(){try{soysauce.widgets.forEach(function(b){b.handleUnfreeze()})}catch(a){console.warn("Soysauce: Could not unfreeze all widgets. || Error Message: ",a.message);return false}return true};(function(b,c,a,d){a.init=function(e,g){var j;var h="";var f=false;h=h.concat("[data-ss-widget='toggler'] > [data-ss-component='button']",", [data-ss-component='button'][data-ss-toggler-id]",", [data-ss-widget='carousel'] [data-ss-component='button']",", [data-ss-widget='carousel'] [data-ss-component='dots']",", [data-ss-utility='overlay'] [data-ss-component='close']");c(h).each(function(){try{a.vars.fastclick.push(FastClick.attach(this))}catch(k){console.warn("Soysauce: Could not attach Fastclick listener on soysauce component. "+k.message)}});if(!e){j=c("[data-ss-widget]:not([data-ss-id]), [data-ss-component='button'][data-ss-toggler-id]")}else{j=c(e)}if((!c(e)&&!j)||c(e).attr("data-ss-id")!==d){return f}j.each(function(){var n=c(this);var l=c(this).attr("data-ss-widget");var m;var k=false;if(!l&&n.attr("data-ss-toggler-id")!==d){l="toggler";k=true}if(!g&&/manual/.test(n.attr("data-ss-init"))){return}n.attr("data-ss-id",++a.vars.idCount);switch(l){case"toggler":m=a.togglers.init(this,k);break;case"carousel":m=a.carousels.init(this);break;case"lazyloader":m=a.lazyloader.init(this);break;case"autofill-zip":console.warn("Soysauce: autofill-zip is now deprecated. Please set data-ss-widget to 'geocoder'");case"geocoder":m=a.geocoder.init(this);break;case"autodetect-cc":m=a.autodetectCC.init(this);break;case"autosuggest":m=a.autosuggest.init(this);break;case"input-clear":m=a.inputClear.init(this);break}if(m!==d){m.type=l;m.id=a.vars.idCount;a.widgets.push(m);f=true;if(n.attr("data-ss-defer")!==d){m.defer=true}else{n.imagesLoaded(function(){m.initialized=true;n.trigger("SSWidgetReady")})}}else{n.removeAttr("data-ss-id");--a.vars.idCount}});return f};c(document).ready(function(){a.init();if(a.vars.degradeAll){c("body").attr("data-ss-degrade","true")}a.widgets.forEach(function(g){if(!g.defer){return}var e=0;var h=g.widget.find("[data-ss-widget]");h.each(function(){var j=a.fetch(this);if(j.initialized){if(++e===h.length){c(g.widget).trigger("SSWidgetReady").removeAttr("data-ss-defer");return}}else{j.widget.on("SSWidgetReady",function(){if(++e===h.length){c(g.widget).trigger("SSWidgetReady").removeAttr("data-ss-defer")}})}})});try{Hammer.gestures.Swipe.defaults.swipe_velocity=0.6}catch(f){console.warn("Soysauce: Error setting options with HammerJS");console.error(f)}c(b).trigger("SSReady")})})(window,jQuery,soysauce);soysauce.lateload=function(a){function b(c){var d=jQuery(c);var e=d.attr("data-ss-ll-src");if(e){d.attr("src",e).removeAttr("data-ss-ll-src");return true}return false}if(a){return b(a)}else{jQuery(document).on("DOMContentLoaded",function(){jQuery("[data-ss-ll-src][data-ss-options='dom']").each(function(c,d){b(d)})});jQuery(window).on("load",function(){if(!jQuery("[data-ss-ll-src][data-ss-options='load']")){return}jQuery("[data-ss-ll-src][data-ss-options='load']").each(function(c,d){b(d)})})}};soysauce.lateload();soysauce.overlay=(function(c,e,g){var b="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";var d=e("body");var f=e("meta[name='viewport']");function a(){var h=this;this.overlay;this.content;this.close;this.hiddenItems=null;this.isOn=false;this.startingOrientation="";e(document).ready(function(){h.init()})}a.prototype.init=function(h){var j=this;var k;if(e("[data-ss-utility='overlay']").length){k=e("[data-ss-utility='overlay']")}else{k=document.createElement("div");k.setAttribute("data-ss-utility","overlay");if(h&&e(h).length){e(h).prepend(k)}else{if(h){console.warn("Soysauce: The selector provided to overlay.init was invalid or did not match any elements. The overlay will be attached to the body element.")}document.body.appendChild(k)}}this.overlay=e("[data-ss-utility='overlay']");this.overlay.attr("data-ss-state","inactive");if(!this.overlay.find("[data-ss-component='close']").length){this.overlay.append("<div data-ss-component='close'>tap to close</div>")}this.close=this.overlay.find("[data-ss-component='close']");if(!this.overlay.find("[data-ss-component='content']").length){this.overlay.append("<div data-ss-component='content'></div>")}this.content=this.overlay.find("[data-ss-component='content']");this.close.on("click",function(){j.off()});return true};a.prototype.on=function(h,k,l){var j=this;if(this.isOn){return}if(typeof(h)==="string"){this.overlay.appendTo(h)}this.overlay.show();if(l){this.close.show()}c.setTimeout(function(){if(k){try{JSON.stringify(k);j.overlay.css(k)}catch(m){console.warn("Soysauce: Could not attach css; need to pass JSON css object")}}j.overlay.attr("data-ss-state","active");j.isOn=true},0)};a.prototype.off=function(){if(!this.isOn){return}this.isOn=false;this.overlay.attr("data-ss-state","inactive").removeAttr("style").hide();this.overlay.appendTo("body");this.content.find("[data-ss-widget]").each(function(){soysauce.destroy(this)});this.content.empty();d.css({overflow:"",height:""});if(this.hiddenItems){this.hiddenItems.show();this.hiddenItems=null}if(this.startingOrientation!==soysauce.browser.getOrientation()){e(c).trigger(("onorientationchange" in c)&&!/android/i.test(navigator.userAgent)?"orientationchange":"resize")}};a.prototype.toggle=function(){if(this.isOn){this.off()}else{this.on()}};a.prototype.injectCarousel=function(o,n){var k=o.items.clone();var m;var j=this;var p=true;var l="";var h=o.widget.attr("data-ss-zoom-close-text");this.on(null,n,p);if(o.infinite){k=k.slice(1,o.numChildren-1)}else{l+="finite"}k.removeAttr("data-ss-state").removeAttr("style");this.content.wrapInner("<div data-ss-widget='carousel' data-ss-options='overlay "+l+"' data-ss-index="+o.index+"/>");m=this.content.find("[data-ss-widget='carousel']");m.append(k);if(h){this.overlay.find("[data-ss-component='close']").text(h)}this.startingOrientation=soysauce.browser.getOrientation();this.overlay.one(b,function(){m.one("SSWidgetReady",function(){d.css({overflow:"hidden",height:"100%"});j.hiddenItems=d.find("> *:not([data-ss-utility]):not(#ios7fix)");j.hiddenItems.hide()});soysauce.init(m[0])})};a.prototype.hideAssets=function(){this.close.css("opacity","0")};a.prototype.showAssets=function(){this.close.css("opacity","1")};return new a()})(window,jQuery);(function(b,d,a,e){var c=("onorientationchange" in b)&&!/android/i.test(navigator.userAgent)?"orientationchange":"resize";d(b).on(c,function(f){if(a.vars.lastResizeID){b.clearTimeout(a.vars.lastResizeID)}a.vars.lastResizeID=b.setTimeout(function(){a.vars.lastResizeTime=f.timeStamp;a.widgets.forEach(function(g){if(!g.handleResize){return}g.handleResize();if(/carousel/i.test(g.type)){if(g.itemWidth){g.widget.trigger("SSWidgetResized")}}else{g.widget.trigger("SSWidgetResized")}})},30)})})(window,jQuery,soysauce);soysauce.autodetectCC=(function(c,d){function a(f){var h=soysauce.getOptions(f);var g=this;this.widget=c(this);this.input=c(f);this.prediction;this.result;this.format=false;this.valid=false;this.fieldClear=false;if(h){h.forEach(function(j){switch(j){case"format":g.format=(soysauce.vars.degrade2)?false:true;break;case"field-clear":g.fieldClear=true;break}})}if(this.format){this.input.attr("maxlength","19")}else{this.input.attr("maxlength","16")}if(this.format&&soysauce.vars.degrade){this.input.on("keydown",function(k){var j=k.keyCode?k.keyCode:k.which;if(j!==8&&j!==46&&j!==91&&j!==17&&j!==189){soysauce.stifle(k);g.input.val(this.value+String.fromCharCode(k.keyCode))}})}if(this.fieldClear){soysauce.inputClear.init(f)}this.input.on("keyup change",function(m){var l=m.target.value.replace(/[-\s]+/g,"");var k=m.keyCode?m.keyCode:m.which;var j;if(l.length){if(l.match(/^4/)){g.prediction="visa"}else{if(l.match(/^5/)){g.prediction="mastercard"}else{if(l.match(/^6/)){g.prediction="discover"}else{if(l.match(/^3/)){if(l.length===1){g.prediction="amex dinersclub jcb"}else{if(l.match(/^3(4|7)/)){g.prediction="amex"}else{if(l.match(/^3(0|8)/)){g.prediction="dinersclub"}else{if(l.match(/^35/)){g.prediction="jcb"}}}}}else{g.prediction=null}}}}c(m.target).trigger("SSPrediction")}else{c(m.target).trigger("SSEmpty");g.prediction=null}if(/visa/.test(g.prediction)&&l.length>=13){if(b(l)){g.valid=(/^4[0-9]{12}(?:[0-9]{3})?$/.test(l))?true:false;j="visa"}else{g.valid=false}}if(/mastercard/.test(g.prediction)&&l.length===16){if(b(l)){g.valid=(l.match(/^5[1-5][0-9]{14}$/))?true:false;j="mastercard"}else{g.valid=false}}if(/amex/.test(g.prediction)&&l.length>=15){if(b(l)){g.valid=(l.match(/^3[47][0-9]{13}$/))?true:false;j="amex"}else{g.valid=false}}if(/dinersclub/.test(g.prediction)&&l.length>=14){if(b(l)){g.valid=(l.match(/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/))?true:false;j="dinersclub"}else{g.valid=false}}if(/discover/.test(g.prediction)&&l.length===16){if(b(l)){g.valid=(l.match(/^6(?:011|5[0-9]{2})[0-9]{12}$/))?true:false;j="discover"}else{g.valid=false}}if(/jcb/.test(g.prediction)&&l.length===16){if(b(l)){g.valid=(l.match(/^(?:2131|1800|35\d{3})\d{11}$/))?true:false;j="jcb"}else{g.valid=false}}if(g.valid&&j){g.result=j;c(m.target).trigger("SSResult")}else{g.result=null;if(!g.prediction&&l.length===16||/visa/.test(g.prediction)&&l.length===13||/visa|mastercard|discover|dinersclub|jcb/.test(g.prediction)&&l.length===16||/amex/.test(g.prediction)&&l.length===15){c(m.target).trigger("SSResult")}}if(g.format&&l.length>3&&k!==8&&k!==46&&k!==91&&k!==17&&k!==189){g.formatInput(m)}})}a.prototype.formatInput=function(j){var k=this.input.val().replace(/[\s]+/g,"");var f=(/^3[47]/.test(k.replace(/[-\s]+/g,"")))?true:false;var h=(/^3(?:0[0-5]|[68][0-9])/.test(k.replace(/[-\s]+/g,""))&&!f)?true:false;if(soysauce.vars.degrade){e(this.input[0])}if(f||h){if(k[4]!==d&&k[4]!=="-"){k=g("-",4,k);this.input.val(k)}if(k[11]!==d&&k[11]!=="-"){k=g("-",11,k);this.input.val(k)}}else{if(k[4]!==d&&k[4]!=="-"){k=g("-",4,k);this.input.val(k)}if(k[9]!==d&&k[9]!=="-"){k=g("-",9,k);this.input.val(k)}if(k[14]!==d&&k[14]!=="-"){k=g("-",14,k);this.input.val(k)}}function g(n,m,l){if(m>0){return l.substring(0,m)+n+l.substring(m,l.length)}else{return n+l}}};function e(f){var g=f.length;f.setSelectionRange(19,19)}function b(g,f,k,j,h){for(j=+g[f=g.length-1],h=0;f--;){k=+g[f],j+=++h%2?2*k%10+(k>4):k}return !(j%10)}return{init:function(f){return new a(f)}}})(jQuery);soysauce.autosuggest=(function(a,b){function c(d){var f=soysauce.getOptions(d);var e=this;this.widget=a(d);this.input=a(d);if(f){f.forEach(function(h){switch(h){case"option1":break}})}var g={url:b,data:b,minCharacters:1,maxResults:10,wildCard:"",caseSensitive:false,notCharacter:"!",maxHeight:350,highlightMatches:true,onSelect:b,width:b,property:"text"};this.acSettings=g;this.obj=a(d);this.wildCardPatt=new RegExp(e.regexEscape(this.acSettings.wildCard||""),"g");this.results=a("<ul />");this.currentSelection=b;this.pageX=b;this.pageY=b;this.getJSONTimeout=0;a(this.results).addClass("jsonSuggest ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all").attr("role","listbox").css({xtop:(this.obj.position().top+this.obj.outerHeight())+"px",xleft:this.obj.position().left+"px",width:this.acSettings.width||(this.obj.outerWidth()+"px"),"z-index":1000000,position:"absolute","background-color":"black"}).hide();this.obj.after(this.results).keyup(function(h){switch(h.keyCode){case 13:a(e.currentSelection).trigger("click");return false;case 40:if(typeof e.currentSelection==="undefined"){e.currentSelection=a("li:first",e.results).get(0)}else{e.currentSelection=a(e.currentSelection).next().get(0)}e.setHoverClass(e.currentSelection);if(e.currentSelection){a(e.results).scrollTop(e.currentSelection.offsetTop)}return false;case 38:if(typeof e.currentSelection==="undefined"){e.currentSelection=a("li:last",e.results).get(0)}else{e.currentSelection=a(e.currentSelection).prev().get(0)}e.setHoverClass(e.currentSelection);if(e.currentSelection){a(e.results).scrollTop(e.currentSelection.offsetTop)}return false;default:e.runSuggest.apply(this,[h,e])}}).keydown(function(h){if((h.keyCode===9||h.keyCode===13)&&e.currentSelection){a(e.currentSelection).trigger("click");return true}}).blur(function(j){var h=a(e.results).offset();h.bottom=h.top+a(e.results).height();h.right=h.left+a(e.results).width();if(pageY<h.top||pageY>h.bottom||pageX<h.left||pageX>h.right){a(e.results).hide()}}).focus(function(h){a(this.results).css({top:(e.obj.position().top+e.obj.outerHeight())+"px",left:e.obj.position().left+"px"});if(a("li",e.results).length>0){a(e.results).show()}}).attr("autocomplete","off");a(window).mousemove(function(h){this.pageX=h.pageX;this.pageY=h.pageY});this.acSettings.notCharacter=e.regexEscape(this.acSettings.notCharacter||"");if(this.widget.attr("data-ss-suggest-json-file")){a.ajax({url:this.widget.attr("data-ss-suggest-json-file"),dataType:"json",async:false,success:function(h){e.acSettings.data=h}})}if(this.acSettings.data&&typeof this.acSettings.data==="string"){this.acSettings.data=a.parseJSON(this.acSettings.data)}a(this.obj).trigger("SSLoaded")}c.prototype.handleResize=function(){};c.prototype.regexEscape=function(d,h){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];if(h){for(var g=0;g<e.length;g++){if(e[g]===h){e.splice(g,1)}}}var f=new RegExp("(\\"+e.join("|\\")+")","g");return d.replace(f,"\\$1")};c.prototype.selectResultItem=function(d){this.obj.val(d[this.acSettings.property]);this.widget.trigger("SSAutoSuggested",{suggestion:d});a(this.results).html("").hide();if(typeof this.acSettings.onSelect==="function"){this.acSettings.onSelect(d)}};c.prototype.setHoverClass=function(d){a("li a",this.results).removeClass("ui-state-hover");if(d){a("a",d).addClass("ui-state-hover")}this.currentSelection=d};c.prototype.buildResults=function(d,e){e="("+e+")";var j=this;var g=true,f,m=0,h=this.acSettings.caseSensitive?new RegExp(e,"g"):new RegExp(e,"ig");a(this.results).html("").hide();for(f=0;f<d.length;f+=1){var l=a("<li />"),k=d[f][this.acSettings.property];if(this.acSettings.highlightMatches===true){k=k.replace(h,"<strong>$1</strong>")}a(l).append('<a class="ui-corner-all">'+k+"</a>");if(typeof d[f].image==="string"){a(">a",l).prepend('<img src="'+d[f].image+'" />')}if(typeof d[f].extra==="string"){a(">a",l).append("<small>"+d[f].extra+"</small>")}a(l).addClass("ui-menu-item").addClass((g)?"odd":"even").attr("role","menuitem").click((function(o){return function(){j.selectResultItem(d[o])}})(f)).mouseover((function(n){return function(){j.setHoverClass(n)}})(l));a(this.results).append(l);g=!g;m+=1;if(typeof this.acSettings.maxResults==="number"&&m>=this.acSettings.maxResults){break}}if(a("li",this.results).length>0){this.currentSelection=b;a(this.results).show().css("height","auto");if(a(this.results).height()>this.acSettings.maxHeight){a(this.results).css({overflow:"auto",height:this.acSettings.maxHeight+"px"})}}};c.prototype.runSuggest=function(g,d){var f=function(l){if(this.value.length<d.acSettings.minCharacters){d.clearAndHideResults();return false}var m=[],j=(!d.acSettings.wildCard)?d.regexEscape(this.value):d.regexEscape(this.value,d.acSettings.wildCard).replace(wildCardPatt,".*"),e=true,n,k;if(d.acSettings.notCharacter&&j.indexOf(d.acSettings.notCharacter)===0){j=j.substr(d.acSettings.notCharacter.length,j.length);if(j.length>0){e=false}}j=j||".*";j=d.acSettings.wildCard?"^"+j:j;n=d.acSettings.caseSensitive?new RegExp(j):new RegExp(j,"i");for(k=0;k<l.length;k+=1){if(n.test(l[k][d.acSettings.property])===e){m.push(l[k])}}d.buildResults(m,j)};if(d.acSettings.data&&d.acSettings.data.length){f.apply(this,[d.acSettings.data,d])}else{if(d.acSettings.url&&typeof d.acSettings.url==="string"){var h=this.value;if(h.length<d.acSettings.minCharacters){d.clearAndHideResults();return false}a(d.results).html('<li class="ui-menu-item ajaxSearching"><a class="ui-corner-all">Searching...</a></li>').show().css("height","auto");d.getJSONTimeout=window.clearTimeout(d.getJSONTimeout);d.getJSONTimeout=window.setTimeout(function(){a.getJSON(d.acSettings.url,{search:h},function(e){if(e){d.buildResults(e,h)}else{d.clearAndHideResults()}})},500)}}};c.prototype.clearAndHideResults=function(){a(this.results).html("").hide()};return{init:function(d){return new c(d)}}})(jQuery);soysauce.carousels=(function(g,e){var f=5000;var l=20;var m="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";var a=soysauce.getPrefix();var c=60;var d=0.8;function k(q){var v;var u=this;var n;var s="";var p;var o;this.widget=g(q);this.index=0;this.maxIndex;this.container;this.items;this.currentItem;this.itemPadding;this.dots;this.numChildren=0;this.widgetWidth=0;this.widgetHeight=0;this.itemWidth=0;this.interruptedOffset=0;this.offset=0;this.ready=false;this.interrupted=false;this.lockScroll=false;this.nextBtn;this.prevBtn;this.freeze=false;this.jumping=false;this.lastTransitionEnd=0;this.sendClick=false;this.resizeID=0;this.infinite=true;this.autoscroll=false;this.autoscrollID;this.autoscrollInterval;this.autoscrollRestartID;this.infiniteID;this.forward;this.lastSlideTime;this.cloneDepth=0;this.looping=false;this.rewindCoord=0;this.peek=false;this.peekWidth=0;this.peekAlign;this.responsivePeek=false;this.swipe=true;this.swiping=false;this.zoom=false;this.containerZoom=false;this.zoomIcon;this.overlay=false;this.isZoomed=false;this.zoomElement=null;this.zoomElementCenterX=0;this.zoomElementCenterY=0;this.zoomElementWidth=0;this.zoomElementHeight=0;this.zoomElementOffset=null;this.zoomTranslateX=0;this.zoomTranslateY=0;this.zoomTranslateXStart=0;this.zoomTranslateYStart=0;this.zoomTranslateMinX=0;this.zoomTranslateMinY=0;this.zoomTranslateMaxX=0;this.zoomTranslateMaxY=0;this.zoomScale=1;this.zoomScaleStart=1;this.zoomScalePrev=1;this.pinchEventsReady=false;this.lastZoomTap=0;this.zoomLoader;this.multi=false;this.multiVars={numItems:2,stepSize:1,minWidth:0,even:false};this.autoheight=false;this.fade=false;if(this.widget.attr("data-ss-single-options")&&this.widget.find("[data-ss-component='item']").length===1){v=this.widget.attr("data-ss-single-options").split(" ");this.widget.attr("data-ss-single-item","true")}else{v=soysauce.getOptions(q)}this.options=v;if(v){v.forEach(function(w){switch(w){case"peek":u.peek=true;break;case"finite":u.infinite=false;break;case"autoscroll":u.autoscroll=true;break;case"noswipe":u.swipe=false;break;case"zoom":u.zoom=true;break;case"containerZoom":u.zoom=true;u.containerZoom=true;break;case"multi":u.multi=true;break;case"autoheight":u.autoheight=true;break;case"fade":u.fade=true;break;case"overlay":u.overlay=true;break}})}if(this.multi){this.infinite=false}this.widgetWidth=this.widget.outerWidth();this.widget.wrapInner("<div data-ss-component='container' />");this.widget.wrapInner("<div data-ss-component='container_wrapper' />");this.container=this.widget.find("[data-ss-component='container']");n=this.widget.find("[data-ss-component='container_wrapper']");if(this.infinite){n.after("<div data-ss-component='button' data-ss-button-type='prev' data-ss-state='enabled'></div><div data-ss-component='button' data-ss-button-type='next'></div>")}else{n.after("<div data-ss-component='button' data-ss-button-type='prev' data-ss-state='disabled'></div><div data-ss-component='button' data-ss-button-type='next'></div>")}n.after("<div data-ss-component='dots'></div>");this.dots=this.widget.find("[data-ss-component='dots']");this.nextBtn=n.find("~ [data-ss-button-type='next']");this.prevBtn=n.find("~ [data-ss-button-type='prev']");n.find("~ [data-ss-button-type='prev']").hammer().on("tap",function(w){soysauce.stifle(w);if(u.ready&&!u.interrupted&&!u.freeze){u.slideBackward()}});n.find("~ [data-ss-button-type='next']").hammer().on("tap",function(w){soysauce.stifle(w);if(u.ready&&!u.interrupted&&!u.freeze){u.slideForward()}});this.maxIndex=this.widget.find("[data-ss-component='item']").length;if(this.multi){this.multiVars.numItems=parseInt(this.widget.attr("data-ss-multi-set"),10)||2;this.multiVars.minWidth=parseInt(this.widget.attr("data-ss-multi-min-width"),10)||0;this.multiVars.stepSize=parseInt(this.widget.attr("data-ss-step-size"),10)||this.multiVars.numItems;this.maxIndex=Math.ceil(this.maxIndex/this.multiVars.stepSize)}if(this.infinite){if(this.multi){console.warn("Soysauce: 'multi' option with infinite scrolling not yet supported. Please add 'finite' option.");b(this,1)}else{b(this,1)}this.lastSlideTime=new Date().getTime()}this.items=this.container.find("> [data-ss-component='item']");this.itemPadding=parseInt(this.items.first().css("padding-left"),10)+parseInt(this.items.first().css("padding-right"),10);if(this.multi){this.multiVars.even=(this.items.length%this.multiVars.numItems===0)?true:false}if(!this.items.length){console.warn("Soysauce: Carousel cannot be instantiated; no items found.");return}this.numChildren=this.items.length;if(!this.infinite){n.find("~ [data-ss-button-type='next']").attr("data-ss-state",(this.numChildren>1)?"enabled":"disabled")}else{n.find("~ [data-ss-button-type='next']").attr("data-ss-state","enabled")}p=(this.infinite)?this.numChildren-2:this.numChildren;p=(this.multi)?this.maxIndex:p;for(i=0;i<p;i++){s=s.concat("<div data-ss-component='dot'></div>")}this.dots.html(s);this.dots=this.dots.find("div");this.dots.attr("data-ss-state","inactive");this.dots.on("click",function(y){var x=parseInt(soysauce.getArrayFromMatrix(u.container.css(a+"transform"))[4],10);var w=0;if(x===u.offset){u.ready=true}if(!u.ready||u.interrupted||u.freeze){return}soysauce.stifle(y);w=u.dots.index(this);if(u.infinite){w+=1}u.jumpTo(w)});if(this.peek){this.peekAlign=this.widget.attr("data-ss-peek-align")||"center";if(this.widget.attr("data-ss-responsive-peek")){this.responsivePeek=true;switch(soysauce.browser.getOrientation()){case"portrait":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-portrait"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||l;break;case"landscape":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-landscape"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||l;break}}else{this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width"),10)||l}if(this.peekWidth%2){this.widget.attr("data-ss-peek-width",++this.peekWidth)}}this.index=parseInt(this.widget.attr("data-ss-index"),10)||0;this.items.attr("data-ss-state","inactive");if(this.infinite){if(!this.index){this.index++}else{if(this.index>this.maxIndex){this.index=this.maxIndex}}g(this.items[this.index]).attr("data-ss-state","active")}else{if(this.multi){var r=g(this.items.slice(0,this.multiVars.numItems));r.attr("data-ss-state","active")}else{g(this.items[this.index]).attr("data-ss-state","active")}}o=this.infinite?this.index-1:this.index;this.dots[o].setAttribute("data-ss-state","active");this.container.imagesLoaded(function(w){var z=u.items.first();var y=parseInt(z.css("margin-left"),10)+parseInt(z.css("margin-right"),10);var x=u.widgetWidth;if(u.peek){x-=u.peekWidth*2}if(u.multi){if(u.multiVars.minWidth>0){u.multiVars.numItems=Math.floor(x/u.multiVars.minWidth)}u.itemWidth=x/u.multiVars.numItems}else{u.itemWidth=x}g(window).load(function(){u.handleResize()});if(u.peek){switch(u.peekAlign){case"center":u.offset+=u.peekWidth;break;case"left":break;case"right":u.offset+=(u.peekWidth*2);break}}if(!u.fade){u.container.width((u.itemWidth+y)*u.numChildren);u.items.css("width",u.itemWidth+"px")}u.offset-=(u.itemWidth*u.index);u.container.attr("data-ss-state","notransition");h(u.container[0],u.offset);u.widgetHeight=u.widget.outerHeight(true);if(u.overlay||u.zoomContainer){u.setZoomCenterPoint()}});if(/ipod|iphone|ipad|android/i.test(navigator.userAgent)){this.container.hammer().on("tap click",function(w){if(u.freeze||u.swiping||u.lockScroll||w.gesture&&w.gesture.distance>0){soysauce.stifle(w);return false}if(u.isZoomed){return}u.widget.trigger("SSClick");g(w.target).trigger("click")})}else{this.container.hammer().on("release click",function(w){if(u.freeze){return}if(w.type==="click"){if(u.sendClick){return}else{u.widget.trigger("SSClick");soysauce.stifle(w);return false}}if(w.type==="release"){if(w.gesture.distance===0&&!u.swiping&&!u.isZoomed&&!u.lockScroll){u.sendClick=true;u.widget.trigger("SSClick")}else{u.sendClick=false}}})}if(this.swipe){this.container.hammer().on("touch release drag swipe",function(w){if(u.freeze){return}u.handleSwipe(w)})}if(this.zoom){n.after("<div data-ss-component='zoom_icon' data-ss-state='out'></div><div data-ss-component='zoom_loader'><div data-ss-component='ring_loader'></div><div data-ss-component='loading_text'><span>loading</span></div></div>");this.zoomIcon=n.find("~ [data-ss-component='zoom_icon']");this.zoomLoader=n.find("~ [data-ss-component='zoom_loader']");if(this.containerZoom){this.zoomIcon.hammer().on("tap",function(x){var w=true;u.handleContainerZoom(x,w)});this.container.hammer().on("tap drag",function(w){if(u.lockScroll){return}if(w.type==="drag"){if(u.isZoomed){soysauce.stifle(w)}else{return}}u.handleContainerZoom(w)})}else{this.container.hammer().on("tap",function(w){u.zoomIn(w)});this.zoomIcon.hammer().on("tap",function(w){u.zoomIn(w)})}}this.currentItem=g(this.items.get(u.index));if(this.overlay){this.zoomElement=this.currentItem;this.container.hammer().on("pinch doubletap drag",function(w){if(!/pinch|doubletap|drag/.test(w.type)){return}u.handleZoom(w)})}this.container.on(m,function(w){u.setTransitionedStates(w)});if(this.autoscroll){this.autoscrollOn()}if(this.autoheight){var t=g(this.items[this.index]).outerHeight(true);this.widget.css("min-height",t)}this.widget.one("SSWidgetReady",function(){u.widget.attr("data-ss-state","ready");u.ready=true;window.setTimeout(function(){u.container.attr("data-ss-state","ready")},0);if(u.autoheight){var w=g(u.items[u.index]).outerHeight(true);u.widget.css("height",w);window.setTimeout(function(){u.widget.css("min-height","0px")},300)}})}k.prototype.handleZoom=function(p){var n=this;soysauce.stifle(p);if(p.type==="doubletap"){if(p.timeStamp-this.lastZoomTap<500){return}this.zoomElement=this.currentItem;this.lastZoomTap=p.timeStamp;this.handleFreeze();this.zoomScalePrev=this.zoomScale;if(this.zoomScale<1.5){this.zoomElement.attr("data-ss-state","zooming");this.zoomScale=1.5;this.isZoomed=true}else{if(this.zoomScale<2.5){this.zoomElement.attr("data-ss-state","zooming");this.zoomScale=2.5;this.isZoomed=true}else{this.zoomElement.attr("data-ss-state","active");this.zoomScale=1;this.isZoomed=false}}this.zoomScaleStart=this.zoomScale;this.zoomTranslateXStart=this.zoomTranslateX;this.zoomTranslateYStart=this.zoomTranslateY;if(this.zoomScale>1){this.setFocusPoint(p);this.calcTranslateLimits();this.setTranslateLimits()}else{window.setTimeout(function(){n.resetZoomState()},0);return}window.setTimeout(function(){j(n.zoomElement[0],n.zoomScale,n.zoomTranslateX,n.zoomTranslateY)},0)}else{if(p.type==="pinch"){if(!this.pinchEventsReady){this.zoomElement=this.currentItem;this.zoomElement.attr("data-ss-state","zooming");this.zoomScalePrev=this.zoomScale;this.zoomScaleStart=this.zoomScale;this.zoomTranslateXStart=this.zoomTranslateX;this.zoomTranslateYStart=this.zoomTranslateY;this.isZoomed=true;this.handleFreeze();this.container.one("touchend",function(){if(n.zoomScale<=1){n.zoomElement.attr("data-ss-state","active")}});this.container.hammer().one("release",function(q){soysauce.stifle(q);n.pinchEventsReady=false;if(n.zoomScale<=1){n.resetZoomState();return}if(n.zoomScale>4){n.zoomScale=4;n.zoomScaleStart=n.zoomScale;return}n.zoomScaleStart=n.zoomScale;j(n.zoomElement[0],n.zoomScale,n.zoomTranslateX,n.zoomTranslateY)});this.pinchEventsReady=true}this.zoomScale=(((p.gesture.scale-1)*d)*this.zoomScaleStart)+this.zoomScaleStart;this.zoomScale=(this.zoomScale<0.3)?0.3:this.zoomScale;if(this.zoomScale>=4){this.zoomScale=4;return}this.setFocusPoint(p);this.calcTranslateLimits();this.setTranslateLimits();this.zoomElement.attr("data-ss-state","zooming");if(this.zoomScale<1){var o=(((p.gesture.scale-1)*d)*this.zoomScaleStart)+this.zoomScaleStart;j(this.zoomElement[0],o,0,0)}else{j(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY)}}else{if(this.isZoomed){if(!this.panning){this.panning=true;this.zoomTranslateXStart=this.zoomTranslateX;this.zoomTranslateYStart=this.zoomTranslateY;this.container.hammer().one("release",function(q){n.panning=false})}this.zoomTranslateX=p.gesture.deltaX+this.zoomTranslateXStart;this.zoomTranslateY=p.gesture.deltaY+this.zoomTranslateYStart;this.setTranslateLimits();j(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY)}}}};k.prototype.setZoomCenterPoint=function(){this.zoomElementWidth=this.zoomElement.width();this.zoomElementHeight=this.zoomElement.height();this.zoomElementOffset=this.widget.offset();this.zoomElementCenterX=(this.zoomElementWidth/2)+this.zoomElementOffset.left;this.zoomElementCenterY=(this.zoomElementHeight/2)+this.zoomElementOffset.top};k.prototype.setFocusPoint=function(n){this.zoomTranslateX=(this.zoomElementCenterX-n.gesture.center.pageX+this.zoomTranslateXStart+this.peekWidth)*(this.zoomScale/this.zoomScalePrev);this.zoomTranslateY=(this.zoomElementCenterY-n.gesture.center.pageY+this.zoomTranslateYStart)*(this.zoomScale/this.zoomScalePrev)};k.prototype.calcTranslateLimits=function(){var n;if(!this.zoomElementWidth){this.setZoomCenterPoint()}n=(parseInt(this.zoomElement.css("padding-left"),10)+parseInt(this.zoomElement.css("padding-right"),10))||0;this.zoomTranslateMinX=(((this.zoomElementWidth*this.zoomScale)-this.zoomElementWidth)/2)-this.peekWidth-n;this.zoomTranslateMaxX=-this.zoomTranslateMinX;this.zoomTranslateMinY=((this.zoomElementHeight*this.zoomScale)-this.zoomElementHeight)/2;this.zoomTranslateMaxY=-this.zoomTranslateMinY};k.prototype.setTranslateLimits=function(){if(this.zoomTranslateX>this.zoomTranslateMinX){this.zoomTranslateX=this.zoomTranslateMinX}else{if(this.zoomTranslateX<this.zoomTranslateMaxX){this.zoomTranslateX=this.zoomTranslateMaxX}}if(this.zoomTranslateY>this.zoomTranslateMinY){this.zoomTranslateY=this.zoomTranslateMinY}else{if(this.zoomTranslateY<this.zoomTranslateMaxY){this.zoomTranslateY=this.zoomTranslateMaxY}}};k.prototype.zoomIn=function(n){if(this.overlay||this.freeze||this.currentItem.attr("data-ss-no-zoom")==="true"){return}soysauce.stifle(n);soysauce.overlay.injectCarousel(this,{background:"black",opacity:"1"})};k.prototype.handleContainerZoom=function(t,s){var q=this;if(this.freeze){return}if(t.type==="tap"){var p,o,r;if(this.currentItem.attr("data-ss-no-zoom")==="true"){return}p=this.currentItem.find("img[data-ss-zoom-src]");o=p.attr("src")||this.currentItem.find("img").attr("src");r;this.zoomElement=this.currentItem;if(p.length&&!p.data("isLoaded")){p.attr("src",p.attr("data-ss-zoom-src"));this.currentItem.attr("data-ss-state","loading");this.zoomLoader.show()}r=this.zoomElement.imagesLoaded();r.fail(function(){p.attr("src",o)});r.always(function(){p.data("isLoaded",true);q.zoomLoader.hide();q.currentItem.attr("data-ss-state","active");g.proxy(n,q)()});function n(){this.zoomElement.off();this.zoomElement.on(m,function(){if(q.isZoomed){q.zoomElement.attr("data-ss-state","zoomed");q.zoomIcon.attr("data-ss-state","in")}else{q.zoomIcon.attr("data-ss-state","out")}});if(!this.isZoomed){this.disableSwipe();this.zoomScalePrev=this.zoomScale;this.zoomElement.attr("data-ss-state","zooming");this.zoomScale=3;this.isZoomed=true}else{this.enableSwipe();this.zoomElement.attr("data-ss-state","active");this.zoomScale=1;this.isZoomed=false}this.zoomScaleStart=this.zoomScale;this.zoomTranslateXStart=this.zoomTranslateX;this.zoomTranslateYStart=this.zoomTranslateY;if(this.isZoomed){this.setZoomCenterPoint();if(!s){this.setFocusPoint(t)}this.calcTranslateLimits();this.setTranslateLimits()}else{window.setTimeout(function(){q.resetZoomState()},0);return}window.setTimeout(function(){j(q.zoomElement[0],q.zoomScale,q.zoomTranslateX,q.zoomTranslateY);if(!q.isZoomed){q.handleUnfreeze()}},0)}}else{if(!this.panning){this.panning=true;this.zoomTranslateXStart=this.zoomTranslateX;this.zoomTranslateYStart=this.zoomTranslateY;this.container.hammer().one("release",function(u){q.panning=false})}this.zoomTranslateX=t.gesture.deltaX+this.zoomTranslateXStart;this.zoomTranslateY=t.gesture.deltaY+this.zoomTranslateYStart;this.setTranslateLimits();j(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY)}};k.prototype.resetZoomState=function(){var n=this;var o=(this.currentItem.attr("data-ss-state")==="active")?true:false;this.zoomTranslateX=0;this.zoomTranslateY=0;this.zoomScale=1;this.zoomScaleStart=1;this.zoomScalePrev=1;this.zoomElement=this.currentItem;this.isZoomed=false;this.setZoomCenterPoint();this.handleUnfreeze();j(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY)};k.prototype.enableSwipe=function(){if(g.inArray("noswipe",this.options)===-1){this.swipe=true}};k.prototype.disableSwipe=function(){this.swipe=false};k.prototype.handleSwipe=function(r){var q=g(r.target).attr("data-ss-component");var n=this;var t=Math.abs(r.gesture.angle);if(n.jumping||n.freeze||n.looping||!n.swipe){return}if(r.type==="swipe"&&r.gesture.eventType==="end"&&!n.ready){n.ready=true;n.interrupted=false;n.swiping=false;n.widget.attr("data-ss-state","ready");n.container.attr("data-ss-state","ready");return}if(n.lockScroll&&r.type==="release"){n.lockScroll=false;n.widget.attr("data-ss-state","ready");n.container.attr("data-ss-state","ready");window.setTimeout(function(){h(n.container[0],n.offset)},0);return}if(n.lockScroll){return}n.lockScroll=t>=60&&t<=120&&!n.swiping?true:false;if(n.lockScroll){return}if(!n.ready&&r.type==="touch"){n.interruptedOffset=(soysauce.vars.degrade)?parseInt(n.container[0].style.left,10):parseInt(soysauce.getArrayFromMatrix(n.container.css(a+"transform"))[4],10);n.interrupted=true;n.looping=false;n.container.attr("data-ss-state","notransition");n.widget.attr("data-ss-state","intransit");h(n.container[0],n.interruptedOffset);return}if(r.gesture.eventType==="end"){var p=(r.gesture.velocityX>=Hammer.gestures.Swipe.defaults.swipe_velocity)?true:false;var o=(p||r.gesture.distance>=c)?true:false;var s=n.peekAlign==="left"?0:n.peekWidth;soysauce.stifle(r);n.ready=true;n.swiping=false;n.widget.attr("data-ss-state","intransit");n.container.attr("data-ss-state","intransit");if(o&&r.gesture.direction==="left"){if(!n.infinite&&((n.index===n.numChildren-1)||(n.multi&&n.index===n.maxIndex-Math.floor(n.multiVars.numItems/n.multiVars.stepSize)))){if(n.multi){if(n.index===n.maxIndex-1){n.gotoPos(n.offset)}else{n.gotoPos(n.index*-n.itemWidth*n.multiVars.stepSize+s);n.widget.trigger("SSSwipe")}}else{n.gotoPos(n.index*-n.itemWidth+s);n.widget.trigger("SSSwipe")}}else{if(soysauce.vars.degrade){n.rewindCoord=parseInt(n.container.css("left"),10)}n.slideForward();n.widget.trigger("SSSwipe")}}else{if(o&&r.gesture.direction==="right"){if(!n.infinite&&n.index===0){n.gotoPos(s)}else{if(soysauce.vars.degrade){n.rewindCoord=parseInt(n.container.css("left"),10)}n.slideBackward();n.widget.trigger("SSSwipe")}}else{h(n.container[0],n.offset)}}}else{if(r.gesture.eventType==="move"){soysauce.stifle(r);n.swiping=true;n.ready=false;n.container.attr("data-ss-state","notransition");n.widget.attr("data-ss-state","intransit");if(n.interrupted){h(n.container[0],n.interruptedOffset+r.gesture.deltaX)}else{h(n.container[0],n.offset+r.gesture.deltaX)}}}};k.prototype.gotoPos=function(n,o,r){var q=this;this.currentItem=g(this.items.get(q.index));if(this.overlay){this.resetZoomState()}this.offset=n;this.container.attr("data-ss-state","intransit");this.widget.attr("data-ss-state","intransit");this.ready=true;if(this.autoscroll){this.autoscrollOff();if(this.autoscrollRestartID){window.clearInterval(q.autoscrollRestartID);this.autoscrollRestartID=null}}if(this.infinite){var s=0,p=0;s=parseFloat(this.container.css(a+"transition-duration").replace(/s$/,""))*1000;s=(!s)?650:s;if(!r&&!o&&this.index===this.numChildren-2&&!this.forward){this.looping=true;this.infiniteID=window.setTimeout(function(){p=(soysauce.vars.degrade)?q.rewindCoord:parseInt(soysauce.getArrayFromMatrix(q.container.css(a+"transform"))[4],10);q.container.attr("data-ss-state","notransition");q.offset=p-q.itemWidth*(q.numChildren-2);h(q.container[0],q.offset);window.setTimeout(function(){q.container.attr("data-ss-state","intransit");if(q.peek&&/left/.test(q.peekAlign)){q.offset=-q.index*q.itemWidth}else{q.offset=-q.index*q.itemWidth+q.peekWidth}h(q.container[0],q.offset);q.looping=false},20)},0)}else{if(!r&&!o&&this.index===1&&this.forward){this.looping=true;this.infiniteID=window.setTimeout(function(){p=(soysauce.vars.degrade)?q.rewindCoord:parseInt(soysauce.getArrayFromMatrix(q.container.css(a+"transform"))[4],10);q.container.attr("data-ss-state","notransition");q.offset=q.itemWidth*(q.numChildren-2)+p;h(q.container[0],q.offset);window.setTimeout(function(){q.container.attr("data-ss-state","intransit");if(q.peek&&/left/.test(q.peekAlign)){q.offset=-q.itemWidth}else{q.offset=-q.itemWidth+q.peekWidth}h(q.container[0],q.offset);q.looping=false},20)},0)}else{h(this.container[0],n);this.infiniteID=null}}}else{h(this.container[0],n)}};k.prototype.slideForward=function(){var p=(this.infinite)?g(this.dots[this.index-1]):g(this.dots[this.index]),o=this.numChildren-1,n=(this.multi)?this.multiVars.stepSize*this.itemWidth:this.itemWidth;if(!this.ready||this.isZooming||(!this.infinite&&this.index===o)||(!this.infinite&&this.multi&&this.index===this.maxIndex-1)){return false}p.attr("data-ss-state","inactive");if(this.multi){var q=g(this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems));q.attr("data-ss-state","inactive");this.index++}else{g(this.items[this.index++]).attr("data-ss-state","inactive")}if(this.infinite&&this.index===o){g(this.items[1]).attr("data-ss-state","active");this.index=1}else{if(this.multi){var q;if(!this.multiVars.even&&this.index===this.maxIndex-1){q=g(this.items.slice(this.items.length-this.multiVars.stepSize,this.items.length))}else{q=g(this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems))}q.attr("data-ss-state","active")}else{g(this.items[this.index]).attr("data-ss-state","active")}}p=(this.infinite)?g(this.dots[this.index-1]):g(this.dots[this.index]);p.attr("data-ss-state","active");if(!this.infinite){if(this.index===o||(this.multi&&this.index===this.maxIndex-1)){this.nextBtn.attr("data-ss-state","disabled")}if(this.numChildren>1){this.prevBtn.attr("data-ss-state","enabled")}}this.ready=false;this.forward=true;if(this.multi&&!this.multiVars.even&&this.index===this.maxIndex-1){n-=(this.multiVars.stepSize-(this.items.length%this.multiVars.stepSize))*this.itemWidth}this.gotoPos(this.offset-n);return true};k.prototype.slideBackward=function(){var p=(this.infinite)?g(this.dots[this.index-1]):g(this.dots[this.index]),o=this.numChildren-1,n=(this.multi)?this.multiVars.stepSize*this.itemWidth:this.itemWidth;if(!this.ready||(!this.infinite&&this.index===0)||this.isZooming){return false}p.attr("data-ss-state","inactive");if(this.multi){var r=g(this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems));r.attr("data-ss-state","inactive");this.index--}else{g(this.items[this.index--]).attr("data-ss-state","inactive")}if(this.infinite&&this.index===0){g(this.items[o-1]).attr("data-ss-state","active");this.index=o-1}else{if(this.multi){var r=g(this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems));r.attr("data-ss-state","active")}else{g(this.items[this.index]).attr("data-ss-state","active")}}p=(this.infinite)?g(this.dots[this.index-1]):g(this.dots[this.index]);p.attr("data-ss-state","active");if(!this.infinite){if(this.index===0){this.prevBtn.attr("data-ss-state","disabled")}if(this.numChildren>1){this.nextBtn.attr("data-ss-state","enabled")}}this.ready=false;this.forward=false;if(this.multi&&!this.multiVars.even&&this.index===0){var q=this.peekAlign==="left"?0:this.peekWidth;this.gotoPos(0+q)}else{this.gotoPos(this.offset+n)}return true};k.prototype.handleResize=function(){var r;var q=0;var p="";var n=this;window.clearTimeout(this.resizeID);if(this.widget.is(":hidden")&&!this.defer){return}this.widgetWidth=this.widget.outerWidth();if(!this.widgetWidth){r=this.widget.parents().closest("[data-ss-widget='toggler'] [data-ss-component='content']")}if(r){r.css("display","block");this.widgetWidth=this.widgetWidth||r.outerWidth()}if(this.fade){return}if(this.isZoomed){this.resetZoomState();this.enableSwipe()}if(this.peek){if(this.responsivePeek){switch(soysauce.browser.getOrientation()){case"portrait":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-portrait"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||l;break;case"landscape":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-landscape"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||l;break}}}var o=this.widgetWidth;if(this.peek){o-=this.peekWidth*2}if(this.multi){if(this.multiVars.minWidth){this.multiVars.numItems=Math.floor(o/this.multiVars.minWidth)}this.itemWidth=o/this.multiVars.numItems}p=this.container.attr("data-ss-state");if(this.multi){q=o-(this.itemWidth*this.multiVars.numItems)}else{q=o-this.itemWidth}this.itemWidth+=q;if(this.peek&&this.peekAlign==="left"){this.offset=-this.index*this.itemWidth}else{this.offset=-this.index*this.itemWidth+this.peekWidth}this.container.attr("data-ss-state","notransition");if(this.widget.attr("data-ss-state")){this.widget.attr("data-ss-state","intransit")}this.items.css("width",this.itemWidth+"px");h(this.container[0],this.offset);this.container.css("width",(this.itemWidth*this.numChildren)+"px");if(this.autoheight){this.widget.css("height",g(this.items[this.index]).outerHeight(true))}this.resizeID=window.setTimeout(function(){n.container.attr("data-ss-state","ready");if(n.widget.attr("data-ss-state")){n.widget.attr("data-ss-state","ready")}},300)};k.prototype.autoscrollOn=function(p){var o=this;if(!this.autoscroll&&!p){return false}this.autoscroll=!p?this.autoscroll:true;if(!this.autoscrollID){if(!this.autoscrollInterval){var n=this.widget.attr("data-ss-autoscroll-interval");this.autoscrollInterval=(!n)?f:parseInt(n,10)}this.autoscrollID=window.setInterval(function(){if(soysauce.vars.degrade){o.rewindCoord=-o.itemWidth*3-o.peekWidth}o.slideForward()},o.autoscrollInterval);return true}return false};k.prototype.autoscrollOff=function(n){var o=this;if(!this.autoscroll||!this.autoscrollID&&!n){return false}window.clearInterval(o.autoscrollID);this.autoscrollID=null;return true};k.prototype.handleFreeze=function(){if(this.freeze){return}this.freeze=true;this.autoscrollOff(true);return true};k.prototype.handleUnfreeze=function(){if(!this.freeze){return}this.freeze=false;this.autoscrollOn();return true};k.prototype.jumpTo=function(q,n){var p=this;if(q===this.index){return false}if(this.infinite){if(q<1||q>this.maxIndex){return false}}else{if(q<0||q>this.maxIndex-1){return false}}this.jumping=true;this.ready=false;var r=q*-this.itemWidth+this.peekWidth;if(this.infinite){g(this.items[this.index]).attr("data-ss-state","inactive");g(this.items[q]).attr("data-ss-state","active");g(this.dots[this.index-1]).attr("data-ss-state","inactive");g(this.dots[q-1]).attr("data-ss-state","active")}else{g(this.items[this.index]).attr("data-ss-state","inactive");g(this.items[q]).attr("data-ss-state","active");g(this.dots[this.index]).attr("data-ss-state","inactive");g(this.dots[q]).attr("data-ss-state","active")}if(this.fade){this.index=q;return true}if(this.autoheight){var o=g(this.items[q]).outerHeight(true);this.widget.height(o)}this.index=q;if(n){this.container.attr("data-ss-state","notransition");h(p.container[0],r);setTimeout(function(){p.gotoPos(r,true);p.setTransitionedStates({timestamp:new Date()})},0)}else{this.gotoPos(r,true)}return true};k.prototype.setTransitionedStates=function(o){var n=this;if(Math.abs(o.timeStamp-n.lastTransitionEnd)<300){return}n.lastTransitionEnd=o.timeStamp;n.widget.trigger("slideEnd");n.widget.trigger("SSSlideEnd");n.ready=true;n.jumping=false;n.interrupted=false;n.swiping=false;n.looping=false;n.container.attr("data-ss-state","ready");n.widget.attr("data-ss-state","ready");if(n.autoscroll&&!n.autoscrollRestartID){n.autoscrollRestartID=window.setTimeout(function(){n.autoscrollOn()},1000)}if(n.autoheight){n.widget.css("height",g(n.items[n.index]).outerHeight(true))}};k.prototype.updateItems=function(){var n=this;this.ready=false;this.container.find("> [data-ss-component='item']:not([data-ss-state])").attr("data-ss-state","inactive");if(!this.container.find("> [data-ss-component][data-ss-state='active']").length){if(this.infinite){this.container.find("> [data-ss-component='item']:nth-of-type(2)").attr("data-ss-state","active")}else{this.items.first().attr("data-ss-state","active")}}this.index=this.container.find("> [data-ss-component][data-ss-state='active']").index();this.items=this.container.find("> [data-ss-component='item']");this.items.css("width",this.itemWidth);this.numChildren=this.items.length;if(this.infinite){this.maxIndex=this.numChildren-2}else{this.maxIndex=this.numChildren-1}this.container.css("width",this.itemWidth*this.numChildren);this.container.imagesLoaded(function(){n.ready=true;n.widget.attr("data-ss-state","ready")})};function h(o,n,p){n=n||0;p=p||0;if(soysauce.vars.degrade){o.style.left=n+"px"}else{o.style.webkitTransform=o.style.msTransform=o.style.OTransform=o.style.MozTransform=o.style.transform="translate3d("+n+"px,"+p+"px,0)"}}function j(o,p,n,q){n=n||0;q=q||0;o.style.webkitTransform=o.style.msTransform=o.style.OTransform=o.style.MozTransform=o.style.transform="matrix("+p+",0,0,"+p+","+n+","+q+")"}function b(r,q){var p=r.container.find("> [data-ss-component='item']");var o,n;if(q>r.maxIndex){return}r.cloneDepth=q;o=p.slice(0,q).clone();n=p.slice(r.maxIndex-q,r.maxIndex).clone();o.appendTo(r.container);n.prependTo(r.container)}return{init:function(n){return new k(n)}}})(jQuery);soysauce.geocoder=(function(b,e){var c="//jeocoder.herokuapp.com/zips/";var a="//www.mapquestapi.com/geocoding/v1/reverse?key=Fmjtd%7Cluub2l6tnu%2Ca5%3Do5-96tw0f";function d(f){var h=soysauce.getOptions(f);var g=this;this.widget=b(f);this.zip=this.widget.find("[data-ss-component='zip']");this.city=this.widget.find("[data-ss-component='city']");this.state=this.widget.find("[data-ss-component='state']");this.lastRequestedData;this.freeze=false;this.data=null;this.reverse=false;this.reverseGeocodeButton=this.widget.find("[data-ss-component='reverse-geocode']");if(h){h.forEach(function(j){switch(j){case"reverse":g.reverse=true;break}})}if(this.reverse){this.reverseGeocodeButton.on("click",function(){g.reverseGeocode()})}else{this.zip.on("keyup change",function(){g.getLocationData()})}}d.prototype.reverseGeocode=function(){var f=this;if(!navigator.geolocation||this.freeze){return}f.widget.trigger("SSDataFetch");navigator.geolocation.getCurrentPosition(j,g,h);var h={enableHighAccuracy:true,timeout:20000,maximumAge:0};function j(k){var l=a+"&lat="+k.coords.latitude+"&lng="+k.coords.longitude+"&callback=soysauce.fetch("+f.id+").setLocationData";b("body").append("<script src='"+l+"'><\/script>")}function g(k){console.warn("Soysauce (err "+k.code+") could not fetch data: "+k.message);f.widget.trigger("SSDataError")}};d.prototype.setLocationData=function(g){if(this.freeze){return}this.lastRequestedData=g;try{if(this.reverse){var f=g.results[0].locations[0];this.widget.data("zip",f.postalCode);this.widget.data("city",f.adminArea5);this.widget.data("state",f.adminArea3);this.data={};this.data.zip=f.postalCode;this.data.city=f.adminArea5;this.data.state=f.adminArea3}else{this.widget.data("city",g.city);this.widget.data("state",g.state);this.data=g}this.widget.trigger("SSDataReady")}catch(h){console.warn("Soysauce: Unable to set location data. Try obtaining data from 'lastRequestedData' variable.")}};d.prototype.getLocationData=function(){var f=this;var g=this.zip[0].value;if(this.freeze){return}if((g.length===5)&&(parseFloat(g,10)==parseInt(g,10))&&!isNaN(g)){this.widget.trigger("SSDataFetch");b.ajax({dataType:"json",url:c+g,success:function(h){f.setLocationData(h)},error:function(){f.widget.trigger("SSDataError");console.warn("Soysauce: Could not fetch zip code "+g)}})}};d.prototype.handleFreeze=function(){this.freeze=true};d.prototype.handleUnfreeze=function(){this.freeze=false};return{init:function(f){return new d(f)}}})(jQuery);soysauce.inputClear=(function(b,c){function a(d){var f=soysauce.getOptions(d),e=this,g=false;this.widget=b(d);this.icon;this.widget.on("focus keyup",function(){e.handleIcon()});this.widget.on("blur",function(){if(g){return}e.widget.attr("data-ss-clear","off")});this.widget.wrap("<div data-ss-component='input-wrapper'></div>");this.widget.parent().css({display:e.widget.css("display")});this.widget.attr("data-ss-clear","off");this.widget.after("<span data-ss-component='icon'></span>");this.icon=this.widget.find("+ [data-ss-component='icon']");this.icon.on("mousedown touchstart",function(){g=true;e.icon.one("mouseup touchend",function(){e.clear();g=false})})}a.prototype.clear=function(){this.widget.val("").attr("data-ss-clear","off");this.widget.trigger("SSEmpty")};a.prototype.handleIcon=function(){this.widget.attr("data-ss-clear",(!this.widget.val().length)?"off":"on")};return{init:function(d){return new a(d)}}})(jQuery);soysauce.lazyloader=(function(c,f){var b=100;var e=c(window);var d=1200;function a(g){var j=soysauce.getOptions(g);var h=this;this.widget=c(g);this.items=this.widget.find("[data-ss-component='item']");this.threshold=parseInt(this.widget.attr("data-ss-threshold"),10)||d;this.processingThreshold=0;this.processing=false;this.button=this.widget.find("[data-ss-component='button']");this.complete=(this.items.length)?false:true;this.batchSize=parseInt(this.widget.attr("data-ss-batch-size"),10)||5;this.initialLoad=parseInt(this.widget.attr("data-ss-initial-load"),10);this.initialBatchLoaded=false;this.initialLoad=(this.initialLoad===0)?0:this.batchSize;this.freeze=false;this.autoload=false;this.autoloadInterval=parseInt(this.widget.attr("data-ss-interval"),10)||1000;this.autoloadIntervalID=0;this.cache=false;this.cacheInput=c("[data-ss-component='cache']");this.isCached=false;this.persistedLoad=false;this.hover=false;if(j){j.forEach(function(l){switch(l){case"autoload":h.autoload=true;break;case"cache":if(!h.cacheInput.length){console.warn("Soysauce: Cache input not found.")}else{h.cache=true;h.isCached=(parseInt(h.cacheInput.val(),10)===1)?true:false}break;case"hover":h.hover=true;h.autoload=true;break}})}if(this.cache){var k=false;if(this.isCached){this.widget.one("SSWidgetReady",function(){h.widget.trigger("SSLoadState");k=true})}else{this.cacheInput.val(1)}e.on("pagehide",function(l){h.widget.trigger("SSSaveState")});e.on("pageshow",function(l){h.persistedLoad=l.originalEvent.persisted;c(document).ready(function(){h.widget.trigger("SSLoadState")})})}this.processNextBatch(this.initialLoad);if(this.button.length){this.button.on("click",function(){h.processNextBatch()})}if(this.autoload){this.startAutoload()}}a.prototype.detectThreshold=function(){var h=this.widget.height()+this.widget.offset().top-this.threshold;var g=e.scrollTop()+e.height();if(!this.processing&&g>h){this.widget.trigger("SSThreshold")}};a.prototype.startAutoload=function(){var g=this;if(!this.autoload){return false}this.autoloadIntervalID=window.setInterval(function(){g.detectThreshold()},g.autoloadInterval);return true};a.prototype.pauseAutoload=function(){if(!this.autoloadIntervalID||!this.autoload){return false}window.clearInterval(this.autoloadIntervalID);this.autoloadIntervalID=null;return true};a.prototype.processNextBatch=function(h){var k;var g=this;var j=0;h=(h===0)?0:this.batchSize;k=c(this.items.splice(0,h));if(this.processing||this.complete||(!this.initialBatchLoaded&&this.initialLoad===0)||this.freeze){return}this.processing=true;this.widget.trigger("SSBatchStart");if(k.length===0){this.processing=false;this.complete=true;this.widget.trigger("SSItemsEmpty")}else{k.each(function(m,n){var l=c(n);if(g.freeze){return false}l.find("[data-ss-ll-src]").each(function(){soysauce.lateload(this)});l.imagesLoaded(function(o){l.attr("data-ss-state","loaded");if(++j===k.length){g.processing=false;g.widget.trigger("SSBatchLoaded");if(g.items.length&&g.initialBatchLoaded){g.calcProcessingThreshold()}if(!g.items.length){g.complete=true;g.widget.trigger("SSItemsEmpty")}else{if(!g.initialBatchLoaded){g.initialBatchLoaded=true;g.calcProcessingThreshold()}}}})})}};a.prototype.calcProcessingThreshold=function(){if(!this.items.length){return}this.processingThreshold=this.widget.height()+this.widget.offset().top-this.items.first().offset().top;this.processingThreshold=(this.threshold<d)?d:this.processingThreshold};a.prototype.reload=function(g,h){this.items=this.widget.find("[data-ss-component='item']:not([data-ss-state])");if(this.items.length){this.complete=false;if(g!==false){this.processNextBatch(h)}}};a.prototype.handleResize=function(){this.calcProcessingThreshold()};a.prototype.handleFreeze=function(){if(this.freeze){return false}this.freeze=true;this.pauseAutoload();return true};a.prototype.handleUnfreeze=function(){if(!this.freeze){return false}this.freeze=false;this.startAutoload();return true};return{init:function(g){return new a(g)}}})(jQuery);soysauce.togglers=(function(c,d){var b="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";function a(h,t){var s=this;var u=soysauce.getOptions(h);if(t){var m=c(h);var k=m.attr("data-ss-toggler-id");var o="[data-ss-toggler-id='"+k+"']";var p="";this.orphan=true;this.widget=c(o);this.widget.each(function(w,v){var x=c(v).attr("data-ss-component");switch(x){case"button":s.button=c(v);break;case"content":s.content=c(v);break}});if(!this.content){console.warn("Soysauce: No content found for toggler-id '"+k+"'. Toggler may not work.");return}this.button.click(function(v){if(s.opened){return false}s.toggle(null,v)});p=m.attr("data-ss-tab-group");this.orphanTabGroup=c("[data-ss-tab-group='"+p+"']");this.orphanTabs=(this.orphanTabGroup.length>1)?true:false;this.content.attr("data-ss-id",m.attr("data-ss-id"));this.allButtons=this.button;this.allContent=this.content;if(this.button.attr("data-ss-state")==="open"){this.setState("open");this.opened=true}else{this.setState("closed");this.opened=false}}else{this.widget=c(h);this.orphan=false;this.allButtons=this.widget.find("> [data-ss-component='button']");this.button=this.allButtons.first();this.allContent=this.widget.find("> [data-ss-component='content']");this.content=this.allContent.first()}this.parentID=0;this.state="closed";this.isChildToggler=false;this.hasTogglers=false;this.parent=d;this.ready=true;this.adjustFlag=false;this.freeze=false;this.opened=this.opened||false;this.slide=false;this.height=0;this.prevChildHeight=0;this.ajax=false;this.ajaxData;this.ajaxing=false;this.ajaxOnLoad=false;this.tab=false;this.childTabOpen=false;this.nocollapse=false;this.responsive=false;this.responsiveVars={threshold:parseInt(this.widget.attr("data-ss-responsive-threshold"),10)||768,accordions:true};if(u){u.forEach(function(v){switch(v){case"ajax":s.ajax=true;s.ajaxOnLoad=/true/.test(s.widget.attr("data-ss-ajax-onload"));break;case"tabs":s.tab=true;break;case"nocollapse":s.nocollapse=true;break;case"slide":s.slide=(soysauce.vars.degrade)?false:true;break;case"responsive":s.responsive=true;s.tab=true;break}})}if(this.orphan){this.content.on(b,function(){s.content.trigger("slideEnd");s.ready=true});return this}this.allButtons.append("<span class='icon'></span>");this.allContent.wrapInner("<div data-ss-component='wrapper'/>");this.hasTogglers=(this.widget.has("[data-ss-widget='toggler']").length>0)?true:false;this.isChildToggler=(this.widget.parents("[data-ss-widget='toggler']").length>0)?true:false;if(this.isChildToggler){var q=this.widget.parents("[data-ss-widget='toggler']");this.parentID=parseInt(q.attr("data-ss-id"),10);this.parent=soysauce.fetch(this.parentID)}if(this.widget.attr("data-ss-state")==="open"){this.allButtons.each(function(){var v=c(this);if(!v.attr("data-ss-state")){v.attr("data-ss-state","closed");v.find("+ [data-ss-component='content']").attr("data-ss-state","closed")}else{if(v.attr("data-ss-state")==="open"){s.button=v;s.content=v.find("+ [data-ss-component='content']")}}});this.opened=true}else{this.allButtons.attr("data-ss-state","closed");this.allContent.attr("data-ss-state","closed");this.widget.attr("data-ss-state","closed");this.opened=false}if(this.slide){this.widget.find("> [data-ss-component='content'][data-ss-state='open']").attr("data-ss-open-onload","true");this.allContent.attr("data-ss-state","open");this.allContent.each(function(){var v=c(this);v.imagesLoaded(function(){var w;if(s.hasTogglers){v.find("[data-ss-component='content']").attr("data-ss-state","closed")}w=v.outerHeight(true);v.attr("data-ss-slide-height",w);if(!v.attr("data-ss-open-onload")){v.css("height","0px");v.attr("data-ss-state","closed")}else{s.height=w;v.css("height",s.height)}if(s.hasTogglers){v.find("[data-ss-component='content']").removeAttr("data-ss-state")}})});this.allContent.on(b,function(){if(!s.orphan){s.widget.trigger("slideEnd")}s.ready=true})}this.allButtons.click(function(v){s.toggle(null,v)});if(this.responsive){this.handleResponsive()}if(this.ajax){var j=this.widget;var n=this.widget.find("> [data-ss-component='content'][data-ss-ajax-url]");var g;var f="";var r;var s=this;var e=false;if(n.length===0){console.warn("Soysauce: 'data-ss-ajax-url' tag required on content. Must be on the same domain if site doesn't support CORS.");return}n.each(function(w,v){g=c(v.previousElementSibling);if(s.ajaxOnLoad){j.on("SSWidgetReady",function(){l(s,v)})}else{g.click(function(){l(s,v)})}});function l(w,v){f=c(v).attr("data-ss-ajax-url");w.setState("ajaxing");w.ready=false;w.ajaxing=true;soysauce.ajax(f,function(y,x){if(/success|cached/.test(x)){w.ajaxData=y}else{console.warn("Soysauce: AJAX request to "+f+" failed in toggler.js")}w.setAjaxComplete()})}}if(this.tab&&this.nocollapse){this.content.imagesLoaded(function(){s.widget.css("min-height",s.button.outerHeight(true)+s.content.outerHeight(true))})}}a.prototype.openToggler=function(){var g=this.responsiveVars.accordions;if(!this.ready&&!g){return}var e=this;var f=0;if(this.slide){if(this.responsive&&!g){return}this.ready=false;if(this.adjustFlag||g){this.content.one(b,function(){e.adjustHeight()})}if(this.isChildToggler&&this.parent.slide){if(this.tab){this.parent.setHeight(this.parent.height+this.height-this.parent.prevChildHeight)}else{this.parent.addHeight(this.height)}this.parent.prevChildHeight=this.height}if(this.ajax&&this.height===0){c(this.content).imagesLoaded(function(){e.content.css("height","auto");e.height=e.content.outerHeight(true);e.content.css("height",e.height+"px")})}else{e.height=parseInt(e.content.attr("data-ss-slide-height"),10);e.content.css("height",e.height+"px")}}if(this.tab&&this.nocollapse){this.widget.css("min-height",this.button.outerHeight(true)+this.content.outerHeight(true))}this.opened=true;this.setState("open")};a.prototype.close=function(g,h){var f=this;var e=c(g);if(!this.ready){return}if(this.slide){this.ready=false;if(this.isChildToggler&&this.parent.slide&&h){this.parent.addHeight(-this.height)}this.content.css("height","0px")}if(!g){this.allButtons.attr("data-ss-state","closed");this.allContent.attr("data-ss-state","closed");this.state="closed";this.opened=false}else{if(e.attr("data-ss-state")==="closed"){return false}if(e.attr("data-ss-component")==="button"){this.button=e;if(!this.orphan){this.content=e.find("+ *")}}else{console.warn("Soysauce: target parameter must be a button")}}this.setState("closed")};a.prototype.open=function(f){var e=c(f);if(e.attr("data-ss-state")==="open"){return false}if(e.attr("data-ss-component")==="button"&&!this.orphan){e=e.find("+ *")}this.toggle(e[0])};a.prototype.doResize=function(){this.adjustFlag=true;if(this.opened){this.adjustHeight()}if(this.responsive){this.handleResponsive()}};a.prototype.handleResize=function(){var f=this;var e=this.allContent.find("[data-ss-widget]");if(this.defer&&e.length){this.allContent.css({clear:"both",position:"relative"});if(!e.length){this.doResize()}else{e.each(function(g,j){var h=soysauce.fetch(j).widget;if((g+1)!==e.length){return}h.one("SSWidgetResized",function(){f.allContent.css({clear:"",position:"",display:""});f.doResize()})})}}else{this.doResize()}};a.prototype.adjustHeight=function(){if(!this.slide){if(this.tab&&this.nocollapse){this.widget.css("min-height",this.button.outerHeight(true)+this.content.outerHeight(true))}return}if(this.opened){this.height=this.content.find("> [data-ss-component='wrapper']").outerHeight(true);this.content.attr("data-ss-slide-height",this.height).height(this.height)}};a.prototype.addHeight=function(e){this.height+=e;this.height=(this.height<0)?0:this.height;if(this.slide){this.content.attr("data-ss-slide-height",this.height)}this.content.css("height",this.height+"px")};a.prototype.setHeight=function(e){this.height=e;this.height=(this.height<0)?0:this.height;if(this.slide){this.content.attr("data-ss-slide-height",this.height)}this.content.css("height",this.height+"px")};a.prototype.toggle=function(h,k){var g=this;var j;if(this.freeze||this.ajaxing){return}if(k){j=k.target}else{if(h&&!this.orphan){if(typeof(h)==="string"){j=h=this.widget.find(h)[0]}try{if(/content/.test(h.attributes["data-ss-component"].value)){var f=this.widget.find(h);j=h.previousElementSibling}}catch(k){console.warn("Soysauce: component passed is not a Soysauce component. Opening first toggler.");j=this.button[0]}}else{j=this.button[0];if(j&&!j.attributes["data-ss-component"]){console.warn("Soysauce: component passed is not a Soysauce component. Opening first toggler.")}}}if(!c(j).attr("data-ss-component")){j=c(j).closest("[data-ss-component='button']")[0]}if(this.orphan){if(this.opened){this.opened=false;this.setState("closed")}else{if(this.orphanTabs){this.orphanTabGroup.each(function(){var e=soysauce.fetch(this);if(e.opened){e.toggle()}})}this.opened=true;this.setState("open")}return}if(this.tab){var l=(this.button.attr("data-ss-state")==="open"&&this.button[0]===j)?true:false;if((this.responsive&&!this.responsiveVars.accordions||this.nocollapse)&&(this.button[0]===j)){return}if(this.isChildToggler&&this.tab){this.parent.childTabOpen=!l;if(l){this.parent.prevChildHeight=0}}this.close(null,l);this.button=c(j);this.content=c(j).find("+ [data-ss-component='content']");if(this.slide){g.height=parseInt(g.content.attr("data-ss-slide-height"),10)}if(l){this.widget.attr("data-ss-state","closed");this.opened=false;return}this.openToggler()}else{var l;this.button=c(j);this.content=c(j).find("+ [data-ss-component='content']");l=(this.button.attr("data-ss-state")==="open"&&this.widget.find("[data-ss-component='button'][data-ss-state='open']").length===1)?true:false;if(l){this.opened=false}(this.button.attr("data-ss-state")==="closed")?this.openToggler():this.close(j)}};a.prototype.setState=function(e){this.state=e;this.button.attr("data-ss-state",e);this.content.attr("data-ss-state",e);if(this.orphan){return}if(this.opened){this.widget.attr("data-ss-state","open")}else{this.widget.attr("data-ss-state","closed")}if(this.responsive&&this.opened){this.handleResponsive()}};a.prototype.setAjaxComplete=function(){this.ajaxing=false;this.ready=true;if(this.opened){this.setState("open")}else{this.setState("closed")}this.widget.trigger("SSAjaxComplete")};a.prototype.handleFreeze=function(){this.freeze=true};a.prototype.handleUnfreeze=function(){this.freeze=false};a.prototype.handleResponsive=function(){if(!this.responsive){return}if(window.innerWidth>=this.responsiveVars.threshold){this.responsiveVars.accordions=false;this.widget.attr("data-ss-responsive-type","tabs");if(!this.opened){this.button=this.widget.find("[data-ss-component='button']").first();this.content=this.widget.find("[data-ss-component='content']").first();this.openToggler()}this.widget.css("min-height",this.button.outerHeight(true)+this.content.outerHeight(true)+"px")}else{this.responsiveVars.accordions=true;this.widget.attr("data-ss-responsive-type","accordions");this.widget.css("min-height","0")}};return{init:function(e,f){return new a(e,f)}}})(jQuery);