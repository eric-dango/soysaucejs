(function(){var a=/android [4]/i.test(navigator.userAgent);if(a){return}function b(d){var e,c=this;this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.layer=d;if(!d||!d.nodeType){throw new TypeError("Layer must be a document node")}this.onClick=function(){b.prototype.onClick.apply(c,arguments)};this.onTouchStart=function(){b.prototype.onTouchStart.apply(c,arguments)};this.onTouchMove=function(){b.prototype.onTouchMove.apply(c,arguments)};this.onTouchEnd=function(){b.prototype.onTouchEnd.apply(c,arguments)};this.onTouchCancel=function(){b.prototype.onTouchCancel.apply(c,arguments)};if(typeof window.ontouchstart==="undefined"){return}d.addEventListener("click",this.onClick,true);d.addEventListener("touchstart",this.onTouchStart,false);d.addEventListener("touchmove",this.onTouchMove,false);d.addEventListener("touchend",this.onTouchEnd,false);d.addEventListener("touchcancel",this.onTouchCancel,false);if(typeof d.onclick==="function"){e=d.onclick;d.addEventListener("click",function(f){e(f)},false);d.onclick=null}}b.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;b.prototype.needsClick=function(c){switch(c.nodeName.toLowerCase()){case"a":case"label":case"video":return true;default:return(/\bneedsclick\b/).test(c.className)}};b.prototype.needsFocus=function(c){switch(c.nodeName.toLowerCase()){case"textarea":case"select":return true;case"input":switch(c.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return true;default:return(/\bneedsfocus\b/).test(c.className)}};b.prototype.maybeSendClick=function(d,e){var c,f;if(this.needsClick(d)){return false}if(document.activeElement&&document.activeElement!==d){document.activeElement.blur()}f=e.changedTouches[0];c=document.createEvent("MouseEvents");c.initMouseEvent("click",true,true,window,1,f.screenX,f.screenY,f.clientX,f.clientY,false,false,false,false,0,null);c.forwardedTouchEvent=true;d.dispatchEvent(c);return true};b.prototype.onTouchStart=function(c){var d=c.targetTouches[0];this.trackingClick=true;this.trackingClickStart=c.timeStamp;this.targetElement=c.target;this.touchStartX=d.pageX;this.touchStartY=d.pageY;if(c.timeStamp-this.lastClickTime<200){c.preventDefault()}return true};b.prototype.touchHasMoved=function(c){var d=c.targetTouches[0];if(Math.abs(d.pageX-this.touchStartX)>10||Math.abs(d.pageY-this.touchStartY)>10){return true}return false};b.prototype.onTouchMove=function(c){if(!this.trackingClick){return true}if(this.targetElement!==c.target||this.touchHasMoved(c)){this.trackingClick=false;this.targetElement=null}return true};b.prototype.findControl=function(c){if(c.control!==undefined){return c.control}if(c.htmlFor){return document.getElementById(c.htmlFor)}return c.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};b.prototype.onTouchEnd=function(d){var f,e,c=this.targetElement;if(!this.trackingClick){return true}if(d.timeStamp-this.lastClickTime<200){this.cancelNextClick=true;return true}this.lastClickTime=d.timeStamp;e=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(c.nodeName.toLowerCase()==="label"){f=this.findControl(c);if(f){c.focus();if(this.deviceIsAndroid){return false}if(this.maybeSendClick(f,d)){d.preventDefault()}return false}}else{if(this.needsFocus(c)){if((d.timeStamp-e)>100){this.targetElement=null;return true}c.focus();if(c.tagName.toLowerCase()!=="select"){d.preventDefault()}return false}}if(!this.maybeSendClick(c,d)){return false}d.preventDefault();return false};b.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};b.prototype.onClick=function(d){var c;if(d.forwardedTouchEvent){return true}if(!this.targetElement){return true}c=this.targetElement;this.targetElement=null;if(!d.cancelable){return true}if(d.target.type==="submit"&&d.detail===0){return true}if(!this.needsClick(c)||this.cancelNextClick){this.cancelNextClick=false;if(d.stopImmediatePropagation){d.stopImmediatePropagation()}d.stopPropagation();d.preventDefault();return false}return true};b.prototype.destroy=function(){var c=this.layer;c.removeEventListener("click",this.onClick,true);c.removeEventListener("touchstart",this.onTouchStart,false);c.removeEventListener("touchmove",this.onTouchMove,false);c.removeEventListener("touchend",this.onTouchEnd,false);c.removeEventListener("touchcancel",this.onTouchCancel,false)};window.addEventListener("load",function(){new b(document.body)},false)})();if(!jQuery.fn.find){jQuery.fn.extend({find:function(b){var e,d,c,a=this.length;if(typeof b!=="string"){c=this;return this.pushStack(jQuery(b).filter(function(){for(e=0;e<a;e++){if(jQuery.contains(c[e],this)){return true}}}))}d=[];for(e=0;e<a;e++){jQuery.find(b,this[e],d)}d=this.pushStack(a>1?jQuery.unique(d):d);d.selector=(this.selector?this.selector+" ":"")+b;return d}})}if(!jQuery.fn.on){jQuery.fn.extend({on:function(c,a,f,e,b){var d,g;if(typeof c==="object"){if(typeof a!=="string"){f=f||a;a=undefined}for(d in c){this.on(d,a,f,c[d],b)}return this}if(f==null&&e==null){e=a;f=a=undefined}else{if(e==null){if(typeof a==="string"){e=f;f=undefined}else{e=f;f=a;a=undefined}}}if(e===false){e=returnFalse}else{if(!e){return this}}if(b===1){g=e;e=function(h){jQuery().off(h);return g.apply(this,arguments)};e.guid=g.guid||(g.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,c,e,f,a)})}})}if(!jQuery.fn.one){jQuery.fn.extend({one:function(b,a,d,c){return this.on(b,a,d,c,1)}})}if(!jQuery.fn.off){jQuery.fn.extend({off:function(c,a,e){var b,d;if(c&&c.preventDefault&&c.handleObj){b=c.handleObj;jQuery(c.delegateTarget).off(b.namespace?b.origType+"."+b.namespace:b.origType,b.selector,b.handler);return this}if(typeof c==="object"){for(d in c){this.off(d,a,c[d])}return this}if(a===false||typeof a==="function"){e=a;a=undefined}if(e===false){e=returnFalse}return this.each(function(){jQuery.event.remove(this,c,e,a)})}})}(function(a,b){var c="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(m){var j=this,o=a.isFunction(a.Deferred)?a.Deferred():0,n=a.isFunction(o.notify),f=j.find("img").add(j.filter("img")),g=[],l=[],h=[];if(a.isPlainObject(m)){a.each(m,function(p,q){if(p==="callback"){m=q}else{if(o){o[p](q)}}})}function k(){var p=a(l),q=a(h);if(o){if(h.length){o.reject(f,p,q)}else{o.resolve(f)}}if(a.isFunction(m)){m.call(j,f,p,q)}}function e(p){d(p.target,p.type==="error")}function d(p,q){if(p.src===c||a.inArray(p,g)!==-1){return}g.push(p);if(q){h.push(p)}else{l.push(p)}a.data(p,"imagesLoaded",{isBroken:q,src:p.src});if(n){o.notifyWith(a(p),[q,f,a(l),a(h)])}if(f.length===g.length){setTimeout(k);f.unbind(".imagesLoaded",e)}}if(!f.length){k()}else{f.bind("load.imagesLoaded error.imagesLoaded",e).each(function(p,r){var s=r.src;var q=a.data(r,"imagesLoaded");if(q&&q.src===s){d(r,q.isBroken);return}if(r.complete&&r.naturalWidth!==b){d(r,r.naturalWidth===0||r.naturalHeight===0);return}if(r.readyState||r.complete){r.src=c;r.src=s}})}return o?o.promise(j):j}})(jQuery);if(typeof(soysauce)==="undefined"){"use strict";soysauce={widgets:new Array(),vars:{idCount:0,currentViewportWidth:window.innerWidth,SUPPORTS3D:(/Android [12]|Opera/.test(navigator.userAgent))?false:true},getOptions:function(a){if(!$(a).attr("data-ss-options")){return false}return $(a).attr("data-ss-options").split(" ")},getPrefix:function(){if(navigator.userAgent.match(/webkit/i)!==null){return"-webkit-"}else{if(navigator.userAgent.match(/windows\sphone|msie/i)!==null){return"-ms-"}else{if(navigator.userAgent.match(/^mozilla/i)!==null){return"-moz-"}else{if(navigator.userAgent.match(/opera/i)!==null){return"-o-"}}}}return""},stifle:function(a){if(!a){return false}a.stopImmediatePropagation();a.preventDefault()},fetch:function(a){var c,b;if(!a){return false}if(typeof(a)==="object"){a=parseInt($(a).attr("data-ss-id"))}if(typeof(a)==="string"){var d=parseInt($(a).attr("data-ss-id"));if(isNaN(d)){d=parseInt(a)}a=d}if(a===+a&&a===(a|0)){c="[data-ss-id='"+a+"']"}else{c=a}soysauce.widgets.forEach(function(e){if(e.id===a){b=e}});if(!b){return false}else{return b}},getCoords:function(a){if(!a){return}if(a.originalEvent!==undefined){a=a.originalEvent}if(a.touches&&a.touches.length===1){return{x:a.touches[0].clientX,y:a.touches[0].clientY}}else{if(a.touches&&a.touches.length===2){return{x:a.touches[0].clientX,y:a.touches[0].clientY,x2:a.touches[1].clientX,y2:a.touches[1].clientY}}else{if(a.changedTouches&&a.changedTouches.length===1){return{x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY}}else{if(a.changedTouches&&a.changedTouches.length===2){return{x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY,x2:a.changedTouches[1].clientX,y2:a.changedTouches[1].clientY}}else{if(a.clientX!==undefined){return{x:a.clientX,y:a.clientY}}}}}}},getArrayFromMatrix:function(a){return a.substr(7,a.length-8).split(", ")},browserInfo:{userAgent:navigator.userAgent,supportsSVG:(document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))?true:false,supportsLocalStorage:(typeof(window.localStorage)!=="undefined")?true:false,supportsSessionStorage:(typeof(window.sessionStorage)!=="undefined")?true:false,sessionStorageFull:false},scrollTop:function(){window.setTimeout(function(){window.scrollTo(0,1)},0)}};$(window).on("resize orientationchange",function(a){if(a.type==="orientationchange"||window.innerWidth!==soysauce.vars.currentViewportWidth){soysauce.vars.currentViewportWidth=window.innerWidth;soysauce.widgets.forEach(function(b){b.handleResize()})}});$(document).ready(function(){soysauce.scrollTop();soysauce.init()})}soysauce.freezeChildren=function(a){var b=$("[data-ss-id='"+a+"']").find("[data-ss-widget]");b.each(function(c,e){var d=$(e).attr("data-ss-id");soysauce.freeze(d,false)})};soysauce.freeze=function(b,a){if(typeof(b)==="object"){b=parseInt($(b).attr("data-ss-id"))}a=(a===undefined)?true:false;soysauce.fetch(b).handleFreeze();if(a){soysauce.freezeChildren(b)}};soysauce.unfreeze=function(a){if(typeof(a)==="object"){a=parseInt($(a).attr("data-ss-id"))}var b=$("[data-ss-id='"+a+"']").find("[data-ss-widget]");soysauce.fetch(a).handleUnfreeze();b.each(function(c,e){var d=$(e).attr("data-ss-id");soysauce.fetch(d).handleUnfreeze()})};soysauce.init=function(a){var d;var c=0;var b=false;if(!a){d=$("[data-ss-widget]:not([data-ss-id]), [data-ss-component='button'][data-ss-toggler-id]")}else{d=$(a)}if((!$(a)&&!d)||$(a).attr("data-ss-id")!==undefined){return b}c=d.length;d.each(function(e){var g=$(this).attr("data-ss-widget");var h;var f=false;$(this).attr("data-ss-id",++soysauce.vars.idCount);if(!g&&$(this).attr("data-ss-toggler-id")!==undefined){g="toggler";f=true}switch(g){case"toggler":h=soysauce.togglers.init(this,f);break;case"carousel":h=soysauce.carousels.init(this);break;case"lazyloader":h=soysauce.lazyloader.init(this);break;case"autofill-zip":h=soysauce.autofillZip.init(this);break;case"autodetect-cc":h=soysauce.autodetectCC.init(this);break}if(h!==undefined){soysauce.widgets.push(h);$(this).trigger("SSWidgetReady");b=true}});return b};soysauce.lateload=function(a){function b(c){var d=$(c);var e=d.attr("data-ss-ll-src");if(e){d.attr("src",e).removeAttr("data-ss-ll-src");return true}return false}if(a){return b(a)}else{$(document).on("DOMContentLoaded",function(){$("[data-ss-ll-src][data-ss-options='dom']").each(function(c,d){b(d)})});$(window).on("load",function(){if(!$("[data-ss-ll-src][data-ss-options='load']")){return}$("[data-ss-ll-src][data-ss-options='load']").each(function(c,d){b(d)})})}};soysauce.lateload();soysauce.overlay=(function(){var c,a,b;var e=true;var d=false;return{init:function(f){var g=document.createElement("div");if(!e){return false}g.setAttribute("data-ss-utility","overlay");g.setAttribute("data-ss-state","inactive");document.body.appendChild(g);c=$("[data-ss-utility='overlay']");c.append("<span class='done'></span>");a=c.find(".done");c.append("<div class='caption'></span>");b=c.find(".caption");a.on("click",function(){soysauce.overlay.off()});e=false},on:function(){if(d){return}c.show();window.setTimeout(function(){c.attr("data-ss-state","active");c.trigger("SSOverlayOn");d=true},0)},off:function(){if(!d){return}c.attr("data-ss-state","inactive");window.setTimeout(function(){c.hide();c.trigger("SSOverlayOff");d=false},400)},toggle:function(){if(d){soysauce.overlay.off()}else{soysauce.overlay.on()}},state:function(){if(d){return"on"}else{return"off"}},caption:function(f){if(!f){b.html("")}else{b.html(f)}}}})();soysauce.overlay.init();soysauce.autodetectCC=(function(){function a(c){var e=soysauce.getOptions(c);var d=this;this.widget=$(this);this.id=parseInt($(c).attr("data-ss-id"));this.input=$(c);this.prediction;this.result;this.format=false;if(e){e.forEach(function(f){switch(f){case"format":d.format=true;break}})}if(this.format){this.input.attr("maxlength","19")}else{this.input.attr("maxlength","16")}this.input.on("keyup change",function(h){var g=h.target.value.replace(/[-\s]+/g,"");var f=h.keyCode?h.keyCode:h.which;if(g.length<4){if(g.match(/^4/)){d.prediction="visa"}else{if(g.match(/^5/)){d.prediction="mastercard"}else{if(g.match(/^6/)){d.prediction="discover"}else{if(g.match(/^3/)){if(g.length===1){d.prediction="amex dinersclub jcb"}else{if(g.match(/^3(4|7)/)){d.prediction="amex"}else{if(g.match(/^3(0|8)/)){d.prediction="dinersclub"}else{if(g.match(/^35/)){d.prediction="jcb"}}}}}else{d.prediction=undefined}}}}$(h.target).trigger("SSPrediction")}else{if(g.length===0){d.prediction=undefined}}if(g.length>12&&b(g)){if(g.match(/^4[0-9]{12}(?:[0-9]{3})?$/)){d.result="visa";$(h.target).trigger("SSResult")}else{if(g.match(/^5[1-5][0-9]{14}$/)){d.result="mastercard";$(h.target).trigger("SSResult")}else{if(g.match(/^3[47][0-9]{13}$/)){d.result="amex";$(h.target).trigger("SSResult")}else{if(g.match(/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/)){d.result="dinersclub";$(h.target).trigger("SSResult")}else{if(g.match(/^6(?:011|5[0-9]{2})[0-9]{12}$/)){d.result="discover";$(h.target).trigger("SSResult")}else{if(g.match(/^(?:2131|1800|35\d{3})\d{11}$/)){d.result="jcb";$(h.target).trigger("SSResult")}else{d.result=undefined;$(h.target).trigger("SSResult")}}}}}}}else{var j=(d.result!==undefined)?true:false;d.result=undefined;if(d.prediction==="visa"&&g.length===16||d.prediction==="mastercard"&&g.length===16||d.prediction==="amex"&&g.length===15||d.prediction==="dinersclub"&&g.length===16||d.prediction==="discover"&&g.length===14||d.prediction==="jcb"&&g.length===16||!d.prediction&&g.length===16||j){$(h.target).trigger("SSResult")}}if(d.format&&g.length>3&&f!==8&&f!==46&&f!==91&&f!==17&&f!==189){d.formatInput()}})}a.prototype.formatInput=function(){var f=this.input.val().replace(/[\s]+/g,"");var c=(/^3[47]/.test(f.replace(/[-\s]+/g,"")))?true:false;var e=(/^3(?:0[0-5]|[68][0-9])/.test(f.replace(/[-\s]+/g,""))&&!c)?true:false;if(c||e){if(f[4]!==undefined&&f[4]!=="-"){f=d("-",4,f);this.input.val(f)}if(f[11]!==undefined&&f[11]!=="-"){f=d("-",11,f);this.input.val(f)}}else{if(f[4]!==undefined&&f[4]!=="-"){f=d("-",4,f);this.input.val(f)}if(f[9]!==undefined&&f[9]!=="-"){f=d("-",9,f);this.input.val(f)}if(f[14]!==undefined&&f[14]!=="-"){f=d("-",14,f);this.input.val(f)}}function d(j,h,g){if(h>0){return g.substring(0,h)+j+g.substring(h,g.length)}else{return j+g}}};a.prototype.handleResize=function(){};function b(g,f,k,j,h){for(j=+g[f=g.length-1],h=0;f--;){k=+g[f],j+=++h%2?2*k%10+(k>4):k}return !(j%10)}return{init:function(c){return new a(c)}}})();soysauce.autofillZip=(function(){var c="//jeocoder.herokuapp.com/zips/";var a="//www.mapquestapi.com/geocoding/v1/reverse?key=Fmjtd%7Cluub2l6tnu%2Ca5%3Do5-96tw0f";function b(d){var f=soysauce.getOptions(d);var e=this;this.widget=$(d);this.id=parseInt($(d).attr("data-ss-id"));this.zip=this.widget.find("[data-ss-component='zip']");this.city=this.widget.find("[data-ss-component='city']");this.state=this.widget.find("[data-ss-component='state']");this.lastRequestedData;this.freeze=false;this.reverse=false;this.reverseGeocodeButton=this.widget.find("[data-ss-component='reverse-geocode']");if(f){f.forEach(function(g){switch(g){case"reverse":e.reverse=true;break}})}if(this.reverse){this.reverseGeocodeButton.on("click",function(){e.reverseGeocode()})}else{this.zip.on("keyup change",function(){e.getLocationData()})}}b.prototype.reverseGeocode=function(){var d=this;if(!navigator.geolocation||this.freeze){return}d.widget.trigger("SSDataFetch");navigator.geolocation.getCurrentPosition(function(e){var f=a+"&lat="+e.coords.latitude+"&lng="+e.coords.longitude+"&callback=soysauce.fetch("+d.id+").setLocationData";$("body").append("<script src='"+f+"'><\/script>")})};b.prototype.setLocationData=function(f){var d=this;var g=f.city;var e=f.state;if(this.freeze){return}this.lastRequestedData=f;this.widget.trigger("SSDataReady");if(this.reverse){this.zip.val(f.results[0].locations[0].postalCode)}else{this.city.val(g);this.state.val(e)}};b.prototype.getLocationData=function(){var d=this;var e=this.zip[0].value;if(this.freeze){return}if((e.length===5)&&(parseFloat(e)==parseInt(e))&&!isNaN(e)){this.widget.trigger("SSDataFetch");$.ajax({dataType:"json",url:c+e,success:function(f){d.setLocationData(f)},error:function(){d.widget.trigger("SSDataError");console.warn("Soysauce: Could not fetch zip code "+e)}})}};b.prototype.handleResize=function(){};b.prototype.handleFreeze=function(){this.freeze=true};b.prototype.handleUnfreeze=function(){this.freeze=false};return{init:function(d){return new b(d)}}})();soysauce.carousels=(function(){var b=5000;var d=2;var j=20;var k="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";var g=1500;var c=soysauce.getPrefix();function f(p){var w=soysauce.getOptions(p);var v=this;var l;var r="";var n;var o;this.widget=$(p);this.id=parseInt($(p).attr("data-ss-id"));this.index=0;this.maxIndex;this.container;this.items;this.dots;this.numChildren=0;this.itemWidth=0;this.offset=0;this.spacingOffset=0;this.ready=false;this.interrupted=false;this.links=false;this.lockScroll=undefined;this.nextBtn;this.prevBtn;this.freeze=false;this.jumping=false;this.use3D=soysauce.vars.SUPPORTS3D;this.infinite=true;this.autoscroll=false;this.autoscrollID;this.autoscrollInterval;this.autoscrollRestartID;this.infiniteID;this.forward;this.lastSlideTime;this.cloneDepth=0;this.looping=false;this.fullscreen=true;this.peek=false;this.peekWidth=0;this.peekAlign;this.swipe=true;this.coords1x=0;this.coords1y=0;this.cms=false;this.zoom=false;this.zoomMultiplier;this.zoomMin;this.zoomMax;this.isZooming=false;this.isZoomed=false;this.panMax={x:0,y:0};this.panMaxOriginal={x:0,y:0};this.panCoords={x:0,y:0};this.panCoordsStart={x:0,y:0};this.panning=false;this.zoomIcon;this.pinch;this.thumbs=false;this.multi=false;this.multiVars={numItems:2,stepSize:1};this.autoheight=false;this.fade=false;if(w){w.forEach(function(x){switch(x){case"cms":v.cms=true;break;case"peek":v.peek=true;break;case"finite":v.infinite=false;break;case"autoscroll":v.autoscroll=true;break;case"nofullscreen":v.fullscreen=false;break;case"noswipe":v.swipe=false;break;case"zoom":v.zoom=true;break;case"pinch":v.pinch=true;break;case"3d":v.use3D=true;break;case"thumbs":v.thumbs=true;break;case"multi":v.multi=true;break;case"autoheight":v.autoheight=true;break;case"fade":v.fade=true;break}})}if(this.cms){var q="";this.widget.find("style").each(function(z){var x=$(this);var y="";q=x.html().match(/\/\/[\w_\.\/-]+-2x[\w\.\/]+/i)[0];y="<img src='"+q+"'>";x.before(y);x.closest("li").attr("data-ss-component","item");x.find("+ div").remove();x.remove()})}if(this.swipe){this.widget.find("a").click(function(x){soysauce.stifle(x)})}this.widget.wrapInner("<div data-ss-component='container' />");this.widget.wrapInner("<div data-ss-component='container_wrapper' />");this.container=this.widget.find("[data-ss-component='container']");l=this.widget.find("[data-ss-component='container_wrapper']");if(this.zoom){l.after("<div data-ss-component='zoom_icon' data-ss-state='out'></div>");this.zoomIcon=l.find("~ [data-ss-component='zoom_icon']");this.zoomMin=(!this.widget.attr("data-ss-zoom-min"))?1.2:parseFloat(this.widget.attr("data-ss-zoom-min"));this.zoomMax=(!this.widget.attr("data-ss-zoom-max"))?4:parseFloat(this.widget.attr("data-ss-zoom-max"));if(this.zoomMin<1.2){this.zoomMin=1.2}if(this.zoomMin>this.zoomMax){console.warn("Soysauce: zoomMin is greater than zoomMax, errors may occur.")}}if(this.infinite){l.after("<div data-ss-component='button' data-ss-button-type='prev' data-ss-state='enabled'></div><div data-ss-component='button' data-ss-button-type='next'></div>")}else{l.after("<div data-ss-component='button' data-ss-button-type='prev' data-ss-state='disabled'></div><div data-ss-component='button' data-ss-button-type='next'></div>")}l.after("<div data-ss-component='dots'></div>");this.dots=this.widget.find("[data-ss-component='dots']");this.nextBtn=l.find("~ [data-ss-button-type='next']");this.prevBtn=l.find("~ [data-ss-button-type='prev']");l.find("~ [data-ss-button-type='prev']").click(function(x){soysauce.stifle(x);if(v.ready&&!v.interrupted&&!v.freeze){v.slideBackward()}});l.find("~ [data-ss-button-type='next']").click(function(x){soysauce.stifle(x);if(v.ready&&!v.interrupted&&!v.freeze){v.slideForward()}});this.maxIndex=this.widget.find("[data-ss-component='item']").length;if(this.multi){var t=parseInt(this.widget.attr("data-ss-multi-set"));this.multiVars.numItems=(!t)?2:t}if(this.infinite){if(this.multi){console.warn("Soysauce: 'multi' option with infinite scrolling not yet supported. Please add 'finite' option.");a(this,1)}else{a(this,1)}this.lastSlideTime=new Date().getTime()}this.items=items=this.widget.find("[data-ss-component='item']");if(items.length===0){console.warn("Soysauce: No [data-ss-component='item'] attributes found with widget id "+this.id);return}this.numChildren=items.length;if(!this.infinite){l.find("~ [data-ss-button-type='next']").attr("data-ss-state",(this.numChildren>1)?"enabled":"disabled")}else{l.find("~ [data-ss-button-type='next']").attr("data-ss-state","enabled")}this.links=((items[0].tagName.match(/^a$/i)!==null&&items[0].tagName.match(/^a$/i)!==undefined)||items.find("a[href]").length>0)?true:false;if(this.thumbs){var s=0;if(this.container.find("[data-ss-component='thumbnail']").length>0){return}this.items.each(function(x,y){var z=(/img/i.test(y.tagName))?$(this).attr("src"):$(this).find("img").attr("src");++s;if(v.infinite&&(s===1||s===v.numChildren)){return}v.container.append("<img data-ss-component='thumbnail' src='"+z+"'>")})}n=(this.infinite)?this.numChildren-2:this.numChildren;o=this.container.find("[data-ss-component='thumbnail']");if(o.length>0){o.each(function(x,y){r+="<div data-ss-component='dot'>"+y.outerHTML+"</div>";$(this).remove()})}else{for(i=0;i<n;i++){r+="<div data-ss-component='dot'></div>"}}this.dots.html(r);this.dots=this.dots.find("div");this.dots.attr("data-ss-state","inactive");this.dots.first().attr("data-ss-state","active");this.dots.on("click",function(z){var y=parseInt(soysauce.getArrayFromMatrix(v.container.css(c+"transform"))[4]);var x=0;if(y===v.offset){v.ready=true}if(!v.ready||v.interrupted||v.freeze){return}soysauce.stifle(z);x=v.dots.index(this);if(v.infinite){x+=1}v.jumpTo(x)});if(this.peek){this.peekAlign=(!this.widget.attr("data-ss-peek-align"))?"center":this.widget.attr("data-ss-peek-align");this.peekWidth=(!this.widget.attr("data-ss-peek-width"))?j:parseInt(this.widget.attr("data-ss-peek-width"));if(this.peekWidth%2){this.widget.attr("data-ss-peek-width",++this.peekWidth)}}items.attr("data-ss-state","inactive");if(this.infinite){$(items[1]).attr("data-ss-state","active");this.index++}else{$(items[0]).attr("data-ss-state","active")}this.container.imagesLoaded(function(x){var A=v.items.first();var z=parseInt(A.css("padding-left"))+parseInt(A.css("padding-right"));var y=parseInt(A.css("margin-left"))+parseInt(A.css("margin-right"));v.spacingOffset=0;if(v.multi){v.itemWidth=v.widget.width()/v.multiVars.numItems}else{v.itemWidth=v.widget.width()}if(v.peek){v.itemWidth-=v.peekWidth*2;switch(v.peekAlign){case"center":v.offset+=v.peekWidth;break;case"left":break;case"right":break}}if(!v.fade){v.container.width((v.itemWidth+y)*v.numChildren);v.items.css("width",v.itemWidth+"px")}if(v.infinite){v.offset-=v.itemWidth}v.container.attr("data-ss-state","notransition");e(v.container[0],v.offset-(y*2)+(y/2));if(v.zoom){var B=v.widget.attr("data-ss-zoom-multiplier");v.zoomMultiplier=(!B)?d:parseInt(B);v.panMax.x=(v.itemWidth-v.peekWidth*2)/v.zoomMultiplier;v.panMax.y=v.items.first().height()/v.zoomMultiplier;v.panMaxOriginal.x=v.panMax.x;v.panMaxOriginal.y=v.panMax.y;if(v.panMax.y===0){v.container.imagesLoaded(function(){v.panMax.y=v.items.last().height/v.zoomMultiplier;v.panMaxOriginal.y=v.panMax.y})}}});if(this.swipe||this.zoom){this.widget.on("touchstart mousedown",function(z){var y=$(z.target).attr("data-ss-component");if((y==="zoom_icon"||y==="dot"||y==="thumbnail")&&v.interrupted){var x=parseInt(soysauce.getArrayFromMatrix(v.container.css(c+"transform"))[4]);if(x===v.offset){v.interrupted=false}}if(v.jumping||v.freeze||y==="button"||y==="dot"||y==="dots"||y==="thumbnail"){return}v.handleSwipe(z)})}this.container.on(k,function(){v.widget.trigger("slideEnd");v.ready=true;v.jumping=false;v.interrupted=false;v.container.attr("data-ss-state","ready");if(v.autoscroll&&v.autoscrollRestartID===undefined){v.autoscrollRestartID=window.setTimeout(function(){v.autoscrollOn()},1000)}});if(this.autoscroll){var m=this.widget.attr("data-ss-autoscroll-interval");this.autoscrollInterval=(!m)?b:parseInt(m);this.autoscrollOn()}if(this.autoheight){var v=this;var u=$(this.items[this.index]).outerHeight();this.widget.css("min-height",u)}this.widget.one("SSWidgetReady",function(){v.container.imagesLoaded(function(){v.widget.attr("data-ss-state","ready");v.ready=true;window.setTimeout(function(){v.container.attr("data-ss-state","ready")},0);if(v.autoheight){var x=$(v.items[v.index]).outerHeight();v.widget.css("height",x);window.setTimeout(function(){v.widget.css("min-height","0px")},300)}})})}f.prototype.gotoPos=function(l,p,m,q){var o=this;this.offset=l;e(this.container[0],l);if(this.ready){this.container.attr("data-ss-state","ready")}else{this.container.attr("data-ss-state",(p)?"intransit-fast":"intransit")}if(o.autoscroll){o.autoscrollOff();if(o.autoscrollRestartID!==undefined){window.clearInterval(o.autoscrollRestartID);o.autoscrollRestartID=undefined}}if(this.infinite){var r=0,n=0;r=parseFloat(this.container.css(c+"transition-duration").replace(/s$/,""))*1000;r=(!r)?650:r;if(!q&&!m&&this.index===this.numChildren-2&&!this.forward){this.infiniteID=window.setTimeout(function(){n=parseInt(soysauce.getArrayFromMatrix(o.container.css(c+"transform"))[4]);o.container.attr("data-ss-state","notransition");o.offset=n-o.itemWidth*(o.numChildren-2);e(o.container[0],o.offset);window.setTimeout(function(){o.container.attr("data-ss-state","intransit");o.offset=-o.index*o.itemWidth+o.peekWidth+o.spacingOffset;e(o.container[0],o.offset)},0)},0)}else{if(!q&&!m&&this.index===1&&this.forward){this.infiniteID=window.setTimeout(function(){n=parseInt(soysauce.getArrayFromMatrix(o.container.css(c+"transform"))[4]);o.container.attr("data-ss-state","notransition");o.offset=o.itemWidth*(o.numChildren-2)+n;e(o.container[0],o.offset);window.setTimeout(function(){o.container.attr("data-ss-state","intransit");o.offset=-o.itemWidth+o.peekWidth+o.spacingOffset;e(o.container[0],o.offset)},0)},0)}else{this.infiniteID=undefined}}}};f.prototype.slideForward=function(m){var l=this;if(!this.ready||(!this.infinite&&this.index===this.numChildren-1)||this.isZooming){return false}if(this.infinite){$(this.dots[this.index-1]).attr("data-ss-state","inactive")}else{$(this.dots[this.index]).attr("data-ss-state","inactive")}$(this.items[this.index++]).attr("data-ss-state","inactive");if(this.infinite&&this.index===this.numChildren-1){$(this.items[1]).attr("data-ss-state","active");this.index=1}else{$(this.items[this.index]).attr("data-ss-state","active")}if(this.infinite){$(this.dots[this.index-1]).attr("data-ss-state","active")}else{$(this.dots[this.index]).attr("data-ss-state","active");if(this.index===this.numChildren-1){this.nextBtn.attr("data-ss-state","disabled")}if(this.numChildren>1){this.prevBtn.attr("data-ss-state","enabled")}}this.ready=false;this.forward=true;this.gotoPos(this.offset-this.itemWidth,m);return true};f.prototype.slideBackward=function(l){if(!this.ready||(!this.infinite&&this.index===0)||this.isZooming){return false}if(this.infinite){$(this.dots[this.index-1]).attr("data-ss-state","inactive")}else{$(this.dots[this.index]).attr("data-ss-state","inactive")}$(this.items[this.index--]).attr("data-ss-state","inactive");if(this.infinite&&this.index===0){$(this.items[this.numChildren-2]).attr("data-ss-state","active");this.index=this.numChildren-2}else{$(this.items[this.index]).attr("data-ss-state","active")}if(this.infinite){$(this.dots[this.index-1]).attr("data-ss-state","active")}else{$(this.dots[this.index]).attr("data-ss-state","active");if(this.index===0){this.prevBtn.attr("data-ss-state","disabled")}if(this.numChildren>1){this.nextBtn.attr("data-ss-state","enabled")}}this.ready=false;this.forward=false;this.gotoPos(this.offset+this.itemWidth,l);return true};f.prototype.handleResize=function(){var l=this;var m=this.widget.width();if(this.fade){return}if(this.multi){this.itemWidth=m/this.multiVars.numItems}if(this.fullscreen){var o;var n=this.container.attr("data-ss-state");if(this.multi){o=m-(this.itemWidth*this.multiVars.numItems)}else{o=m-this.itemWidth}if(this.peek){this.itemWidth-=this.peekWidth*2}this.itemWidth+=o;this.offset=-this.index*this.itemWidth+this.peekWidth;this.container.attr("data-ss-state","notransition");this.items.css("width",this.itemWidth+"px");e(this.container[0],this.offset)}this.container.css("width",(this.itemWidth*this.numChildren)+"px");if(this.zoom){this.panMax.x=this.itemWidth/this.zoomMultiplier;this.panMax.y=this.container.find("[data-ss-component]").height()/this.zoomMultiplier;this.checkPanLimits()}};f.prototype.handleInterrupt=function(p){if(this.isZooming||this.isZoomed||!this.swipe){soysauce.stifle(p);return}var n=this;var l,q,o;var m=parseInt(soysauce.getArrayFromMatrix(this.container.css(c+"transform"))[4]);this.interrupted=true;if(this.autoscroll){this.autoscrollOff();if(this.autoscrollRestartID!==undefined){window.clearInterval(n.autoscrollRestartID);n.autoscrollRestartID=undefined}}n.container.attr("data-ss-state","notransition");if((this.infinite&&this.index===1&&this.forward)||(this.infinite&&(this.index===this.numChildren-2)&&!this.forward)){this.looping=true}else{this.looping=false}window.clearInterval(this.infiniteID);e(this.container[0],m);l=soysauce.getCoords(p);this.widget.on("touchmove mousemove",function(s){var r;if(n.isZoomed){soysauce.stifle(p);soysauce.stifle(s);return}o=q=soysauce.getCoords(s);if(n.lockScroll===undefined){if(Math.abs((l.y-q.y)/(l.x-q.x))>1.2){n.lockScroll="y"}else{n.lockScroll="x"}}if(n.lockScroll==="y"){return}soysauce.stifle(s);r=l.x-q.x;e(n.container[0],m-r)});if(this.infiniteID!==undefined){this.widget.one("touchend mouseup",function(r){n.infiniteID=undefined;if(n.index===n.numChildren-2){n.offset=-n.index*n.itemWidth+(n.peekWidth)+n.spacingOffset}else{if(n.index===1){n.offset=-n.itemWidth+(n.peekWidth)+n.spacingOffset}}window.setTimeout(function(){n.container.attr("data-ss-state","intransit");e(n.container[0],n.offset)},0)})}return o};f.prototype.handleSwipe=function(s){var x=this;var y,w,m,o=0,q=-1;var n=0,u=0;var l=true,t=null;if(this.infinite){if(new Date().getTime()-this.lastSlideTime<225){return}this.lastSlideTime=new Date().getTime()}y=soysauce.getCoords(s);this.coords1x=y.x;this.coords1y=y.y;if(y.y2&&y.x2){var p=0,v=0,r=0;v=(y.y2-y.y)*(y.y2-y.y);p=(y.x2-y.x)*(y.x2-y.x);o=Math.sqrt(v+p)}if(s.type.match(/mousedown/)!==null){soysauce.stifle(s)}this.lockScroll=undefined;if(!this.ready){m=this.handleInterrupt(s)}else{if(this.zoom&&this.isZoomed){this.widget.one("touchend mouseup",function(B){var C=soysauce.getArrayFromMatrix($(B.target).css(c+"transform"));var A=parseInt(C[4]);var z=parseInt(C[5]);x.panCoordsStart.x=(Math.abs(A)>0)?A:0;x.panCoordsStart.y=(Math.abs(z)>0)?z:0;l=true;t=null;if($(B.target).attr("data-ss-state")==="panning"){$(B.target).attr("data-ss-state","ready")}});this.widget.on("touchmove mousemove",function(C){soysauce.stifle(C);if(!/img/i.test(C.target.tagName)){return}else{if($(C.target).attr("data-ss-button-type")!==undefined||$(C.target).attr("data-ss-component")==="dots"){return}}w=soysauce.getCoords(C);$(C.target).attr("data-ss-state","panning");if(x.pinch&&w.x2&&w.y2){l=false;n=w.x2;u=w.y2}if(!l&&x.pinch){var z=0,A=0,D=0,B=0;A=(u-w.y)*(u-w.y);z=(n-w.x)*(n-w.x);B=Math.sqrt(A+z);if(o===0){o=B}else{if(t===null||(t===true&&(B<q)&&q!==-1)||(t===false&&(B>q)&&q!==-1)){o=B;t=(t)?false:true}}q=B;D=(B-o)/g;x.zoomMultiplier+=D;x.zoomMultiplier=(x.zoomMultiplier>=x.zoomMax)?x.zoomMax:x.zoomMin;x.panMax.x=(x.zoomMultiplier-1)*x.panMaxOriginal.x;x.panMax.y=(x.zoomMultiplier-1)*x.panMaxOriginal.y;if(x.zoomMultiplier===x.zoomMax||x.zoomMultiplier===x.zoomMin){return}x.checkPanLimits();x.panCoordsStart.x=x.panCoords.x;x.panCoordsStart.y=x.panCoords.y}else{x.panCoords.x=x.panCoordsStart.x+w.x-x.coords1x;x.panCoords.y=x.panCoordsStart.y+w.y-x.coords1y;x.checkPanLimits()}e(C.target,x.panCoords.x,x.panCoords.y);h(C.target,x.zoomMultiplier)})}else{if(this.swipe){this.widget.on("touchmove mousemove",function(A){var z;w=soysauce.getCoords(A);if($(A.target).attr("data-ss-component")==="zoom_icon"){return}if(x.lockScroll===undefined){if(Math.abs((y.y-w.y)/(y.x-w.x))>1.2){x.lockScroll="y"}else{x.lockScroll="x"}}if(x.lockScroll==="y"){return}soysauce.stifle(A);x.panning=true;m=w.x;z=y.x-w.x;x.container.attr("data-ss-state","notransition");e(x.container[0],x.offset-z)})}}}this.widget.one("touchend mouseup",function(G){var E;var D=$(G.target).attr("data-ss-component");if(x.jumping){return}soysauce.stifle(G);if(D==="button"){return}E=(D==="zoom_icon")?true:false;w=soysauce.getCoords(G);if(w!==null){m=w.x}var z=x.coords1x-m;var C=x.coords1y-w.y;var F=Math.abs(G.timeStamp-s.timeStamp);var B=z/F;var A=(B>0.9)?true:false;x.widget.off("touchmove mousemove");if(!x.interrupted&&x.links&&Math.abs(z)===0){x.ready=true;x.container.attr("data-ss-state","ready");if(G.target.tagName.match(/^a$/i)!==null){window.location.href=$(G.target).attr("href")}else{if($(G.target).closest("a").length>0){window.location.href=$(G.target).closest("a").attr("href")}}}else{if(!x.interrupted&&x.zoom&&((Math.abs(z)<2&&Math.abs(C)<2)||x.isZoomed||E)){soysauce.stifle(s);x.toggleZoom(s,G,Math.abs(z),Math.abs(C))}else{if(Math.abs(z)<15||(x.interrupted&&Math.abs(z)<25)){if(x.looping){return}soysauce.stifle(s);x.ready=true;x.container.attr("data-ss-state","ready");x.gotoPos(x.offset,true,false,true)}else{if(Math.abs(z)>3&&x.swipe){x.ready=true;x.container.attr("data-ss-state","ready");if(x.lockScroll==="y"){return}if(z>0){if(!x.infinite&&x.index===x.numChildren-1||(x.multi&&!x.infinite&&x.index===x.numChildren-x.multiVars.numItems)){x.gotoPos(x.index*-x.itemWidth+(x.peekWidth)+x.spacingOffset)}else{x.slideForward(A)}}else{if(!x.infinite&&x.index===0){x.gotoPos((x.peekWidth)+x.spacingOffset)}else{x.slideBackward(A)}}}}}}})};f.prototype.checkPanLimits=function(){if(Math.abs(this.panCoords.x)>this.panMax.x&&this.panCoords.x>0){this.panCoords.x=this.panMax.x}else{if(Math.abs(this.panCoords.x)>this.panMax.x&&this.panCoords.x<0){this.panCoords.x=-this.panMax.x}}if(Math.abs(this.panCoords.y)>this.panMax.y&&this.panCoords.y>0){this.panCoords.y=this.panMax.y}else{if(Math.abs(this.panCoords.y)>this.panMax.y&&this.panCoords.y<0){this.panCoords.y=-this.panMax.y}}if(this.isZoomed){var l=this.items[this.index];if(!/img/i.test(l.tagName)){l=$(l).find("img")[0]}$(l).attr("data-ss-state","panning");e(l,this.panCoords.x,this.panCoords.y);h(l,this.zoomMultiplier)}};f.prototype.toggleZoom=function(r,p,m,o){if(!this.ready&&!(this.isZoomed&&m<2&&o<2)||(r.type.match(/touch/)!==null&&p.type.match(/mouse/)!==null)){soysauce.stifle(r);soysauce.stifle(p);return}var l=this.items[this.index];l=(!/img/i.test(l.tagName))?$(l).find("img")[0]:l;var n=this;$(l).attr("data-ss-state","ready");if(!this.isZoomed){var q=0;if($(p.target).attr("data-ss-component")==="zoom_icon"){n.panCoords={x:0,y:0};n.panCoordsStart={x:0,y:0}}else{n.panCoords=soysauce.getCoords(p);n.panCoords.x-=n.itemWidth/2;n.panCoords.x*=-n.zoomMultiplier;if(r.type.match(/mousedown/i)!==null){if(r.originalEvent!==undefined){q=r.originalEvent.offsetY}else{q=r.offsetY}}else{if(r.originalEvent!==undefined){q=r.originalEvent.pageY-$(r.target).offset().top}else{q=r.pageY-$(r.target).offset().top}}n.panCoords.y=(n.container.find("[data-ss-component='item']").height()/n.zoomMultiplier)-q;n.panCoords.y*=n.zoomMultiplier;n.checkPanLimits();n.panCoordsStart.x=n.panCoords.x;n.panCoordsStart.y=n.panCoords.y}if(!isNaN(n.panCoords.x)&&!isNaN(n.panCoords.y)){this.dots.first().parent().css("visibility","hidden");this.nextBtn.hide();this.prevBtn.hide();this.isZooming=true;this.ready=false;this.widget.attr("data-ss-state","zoomed");this.zoomIcon.attr("data-ss-state","in");e(l,n.panCoords.x,n.panCoords.y);h(l,n.zoomMultiplier);$(l).on(k,function(){n.isZoomed=true;n.isZooming=false})}}else{if(m<2&&o<2){this.dots.first().parent().css("visibility","visible");this.nextBtn.show();this.prevBtn.show();this.isZooming=true;this.ready=false;this.widget.attr("data-ss-state","ready");this.zoomIcon.attr("data-ss-state","out");e(l,0,0);h(l,1);$(l).on(k,function(){n.isZoomed=false;n.isZooming=false})}}$(l).on(k,function(){n.ready=true;n.interrupted=false;n.isZooming=false})};f.prototype.autoscrollOn=function(){var l=this;if(!this.autoscrollID){this.autoscrollID=window.setInterval(function(){l.slideForward()},l.autoscrollInterval);return true}return false};f.prototype.autoscrollOff=function(){var l=this;if(!this.autoscrollID){return false}window.clearInterval(l.autoscrollID);this.autoscrollID=undefined;return true};f.prototype.handleFreeze=function(){this.freeze=true};f.prototype.handleUnfreeze=function(){this.freeze=false};f.prototype.jumpTo=function(o){var n=this;if(o===this.index){return false}if(this.infinite){if(o<1||o>this.maxIndex){return false}}else{if(o<0||o>this.maxIndex-1){return false}}this.jumping=true;this.ready=false;var p=o*-this.itemWidth;if(this.infinite){$(this.items[this.index]).attr("data-ss-state","inactive");$(this.items[o]).attr("data-ss-state","active");$(this.dots[this.index-1]).attr("data-ss-state","inactive");$(this.dots[o-1]).attr("data-ss-state","active")}else{$(this.items[this.index]).attr("data-ss-state","inactive");$(this.items[o]).attr("data-ss-state","active");$(this.dots[this.index]).attr("data-ss-state","inactive");$(this.dots[o]).attr("data-ss-state","active")}if(this.fade){this.index=o;return true}if(this.autoheight){var m=$(n.items[o]).outerHeight();this.widget.height(m)}if(this.isZoomed){var l=this.items[this.index];l=(!/img/i.test(l.tagName))?$(l).find("img")[0]:l;this.dots.first().parent().css("visibility","visible");this.nextBtn.show();this.prevBtn.show();this.isZooming=true;this.ready=false;this.widget.attr("data-ss-state","ready");this.zoomIcon.attr("data-ss-state","out");e(l,0,0);h(l,1);$(l).on(k,function(){n.isZoomed=false;n.isZooming=false})}this.gotoPos(p,false,true);this.index=o;return true};function e(m,l,n){l=(!l)?0:l;n=(!n)?0:n;m.style.webkitTransform=m.style.msTransform=m.style.OTransform=m.style.MozTransform=m.style.transform="translate"+((soysauce.vars.SUPPORTS3D)?"3d("+l+"px,"+n+"px,0)":"("+l+"px,"+n+"px)")}function h(l,n){var m=l.style.webkitTransform;n=(!n)?d:n;l.style.webkitTransform=l.style.msTransform=l.style.OTransform=l.style.MozTransform=l.style.transform=m+" scale"+((soysauce.vars.SUPPORTS3D)?"3d("+n+","+n+",1)":"("+n+","+n+")")}function a(p,o){var n=p.container.find("[data-ss-component='item']");var m,l;if(o>p.maxIndex){return}p.cloneDepth=o;m=n.slice(0,o).clone();l=n.slice(p.maxIndex-o,p.maxIndex).clone();m.appendTo(p.container);l.prependTo(p.container)}return{init:function(l){return new f(l)}}})();soysauce.lazyloader=(function(){var b=100;function a(c){var e=soysauce.getOptions(c);var d=this;this.widget=$(c);this.id=parseInt(this.widget.attr("data-ss-id"));this.images=this.widget.find("[data-ss-ll-src]");this.vertical=true;this.horizontal=false;this.context=window;this.threshold=(!this.widget.attr("data-ss-threshold"))?100:parseInt(this.widget.attr("data-ss-threshold"));this.timeStamp=0;if(e){e.forEach(function(g){switch(g){case"option1":break}})}this.update(0);$(window).scroll(f);function f(g){if((g.timeStamp-d.timeStamp)>b){if(d.images.length===0){$(window).unbind("scroll",f);return}d.timeStamp=g.timeStamp;d.update($(document).scrollTop())}}}a.prototype.update=function(e){var d=e-this.threshold;var c=e+this.threshold+this.context.innerHeight;this.images.each(function(f,g){if((g.offsetTop+g.height>d)&&(g.offsetTop<c)){soysauce.lateload(g)}});this.images=this.widget.find("[data-ss-ll-src]")};a.prototype.handleResize=function(){};return{init:function(c){return new a(c)}}})();soysauce.togglers=(function(){var b="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";function a(f,o){var n=this;var p=soysauce.getOptions(f);if(o){var h=$(f).attr("data-ss-toggler-id");var k="[data-ss-toggler-id='"+h+"']";this.orphan=true;this.widget=$(k);this.widget.each(function(r,q){var s=$(q).attr("data-ss-component");switch(s){case"button":n.button=$(q);break;case"content":n.content=$(q);break}});if(!this.content){console.warn("Soysauce: No content found for toggler-id '"+h+"'. Toggler may not work.");return}this.button.click(function(q){n.toggle(q)});this.setState("closed");this.id=parseInt(this.button.attr("data-ss-id"));this.content.attr("data-ss-id",this.id)}else{this.widget=$(f);this.orphan=false;this.allButtons=this.widget.find("> [data-ss-component='button']");this.button=this.allButtons.first();this.allContent=this.widget.find("> [data-ss-component='content']");this.content=this.allContent.first();this.id=parseInt(this.widget.attr("data-ss-id"))}this.parentID=0;this.tabID;this.state="closed";this.isChildToggler=false;this.hasTogglers=false;this.parent=undefined;this.ready=true;this.adjustFlag=false;this.freeze=false;this.opened=false;this.slide=false;this.height=0;this.prevChildHeight=0;this.ajax=false;this.doAjax=false;this.ajaxData;this.ajaxing=false;this.tab=false;this.childTabOpen=false;this.nocollapse=false;this.responsive=false;this.responsiveVars={threshold:(!this.widget.attr("data-ss-responsive-threshold"))?768:parseInt(this.widget.attr("data-ss-responsive-threshold")),accordions:true};if(p){p.forEach(function(q){switch(q){case"ajax":n.ajax=true;n.doAjax=true;break;case"tabs":n.tab=true;break;case"nocollapse":n.nocollapse=true;break;case"slide":n.slide=true;break;case"responsive":n.responsive=true;n.tab=true;break}})}if(this.orphan){this.content.on(b,function(){n.content.trigger("slideEnd");n.ready=true});return this}this.allButtons.append("<span class='icon'></span>");this.allContent.wrapInner("<div data-ss-component='wrapper'/>");this.hasTogglers=(this.widget.has("[data-ss-widget='toggler']").length>0)?true:false;this.isChildToggler=(this.widget.parents("[data-ss-widget='toggler']").length>0)?true:false;if(this.isChildToggler){var l=this.widget.parents("[data-ss-widget='toggler']");this.parentID=parseInt(l.attr("data-ss-id"));this.parent=soysauce.fetch(this.parentID)}if(this.widget.attr("data-ss-state")!==undefined&&this.widget.attr("data-ss-state")==="open"){this.allButtons.each(function(){var q=$(this);if(!q.attr("data-ss-state")){q.attr("data-ss-state","closed");q.find("+ [data-ss-component='content']").attr("data-ss-state","closed")}else{if(q.attr("data-ss-state")==="open"){this.button=q;this.content=q.find("+ [data-ss-component='content']")}}});this.opened=true}else{this.allButtons.attr("data-ss-state","closed");this.allContent.attr("data-ss-state","closed");this.widget.attr("data-ss-state","closed");this.opened=false}if(this.slide){this.allContent.attr("data-ss-state","open");if(this.hasTogglers){this.allContent.each(function(){var q=$(this);q.imagesLoaded(function(){var r;q.find("[data-ss-component='content']").attr("data-ss-state","closed");r=q.outerHeight();n.height=r;q.attr("data-ss-slide-height",r);q.css("height","0px");q.attr("data-ss-state","closed");q.find("[data-ss-component='content']").removeAttr("data-ss-state")})})}else{this.allContent.each(function(){var q=$(this);q.imagesLoaded(function(){q.attr("data-ss-slide-height",q.outerHeight());q.css("height","0px");q.attr("data-ss-state","closed")})})}this.allContent.on(b,function(){if(!n.orphan){n.widget.trigger("slideEnd")}n.ready=true})}this.allButtons.click(function(q){n.toggle(q)});if(this.responsive){this.handleResponsive()}if(this.ajax){var g=this.widget;var j=this.widget.find("> [data-ss-component='content'][data-ss-ajax-url]");var e;var d="";var m;var n=this;var c=false;if(j.length===0){console.warn("Soysauce: 'data-ss-ajax-url' tag required on content. Must be on the same domain if site doesn't support CORS.");return}j.each(function(r,q){e=$(q.previousElementSibling);e.click(function(s){if(!n.doAjax||n.ajaxing){return}n.setState("ajaxing");n.ready=false;d=$(q).attr("data-ss-ajax-url");if(soysauce.browserInfo.supportsSessionStorage&&!soysauce.browserInfo.sessionStorageFull){n.ajaxing=true;if(!sessionStorage.getItem(d)){c=true;$.ajax({url:d,type:"GET",success:function(t){if(typeof(t)==="object"){n.ajaxData=t}else{n.ajaxData=JSON.parse(t)}try{sessionStorage.setItem(d,JSON.stringify(t))}catch(u){if(u.code===DOMException.QUOTA_EXCEEDED_ERR){soysauce.browserInfo.sessionStorageFull=true;console.warn("Soysauce: SessionStorage full. Unable to store item.")}}g.trigger("SSAjaxComplete");n.setAjaxComplete();c=false},error:function(t){console.warn("Soysauce: Unable to fetch "+d);n.setAjaxComplete()}})}else{n.ajaxData=JSON.parse(sessionStorage.getItem(d));g.trigger("SSAjaxComplete")}}else{$.ajax({url:d,type:"GET",success:function(t){if(typeof(t)==="object"){n.ajaxData=t}else{n.ajaxData=JSON.parse(t)}g.trigger("SSAjaxComplete");n.ajaxing=false},error:function(t){console.warn("Soysauce: Unable to fetch "+d);n.setAjaxComplete()}})}if(!c){n.setAjaxComplete()}})})}if(this.tab&&this.nocollapse){this.content.imagesLoaded(function(){n.widget.css("min-height",n.button.outerHeight()+n.content.outerHeight())})}}a.prototype.open=function(){var e=this.responsiveVars.accordions;if(!this.ready&&!e){return}var c=this;var d=0;if(this.slide){if(this.responsive&&!e){return}this.ready=false;if(this.adjustFlag||e){this.content.one(b,function(){c.adjustHeight()})}if(this.isChildToggler&&this.parent.slide){if(this.tab){this.parent.setHeight(this.parent.height+this.height-this.parent.prevChildHeight)}else{this.parent.addHeight(this.height)}this.parent.prevChildHeight=this.height}if(this.ajax&&this.height===0){$(this.content).imagesLoaded(function(){c.content.css("height","auto");c.height=c.content.height();c.content.css("height",c.height+"px")})}else{c.height=parseInt(c.content.attr("data-ss-slide-height"));c.content.css("height",c.height+"px")}}if(this.tab&&this.nocollapse){this.widget.css("min-height",this.button.outerHeight()+this.content.outerHeight())}this.opened=true;this.setState("open")};a.prototype.close=function(d){var c=this;if(!this.ready){return}if(this.slide){this.ready=false;if(this.isChildToggler&&this.parent.slide&&d){this.parent.addHeight(-this.height)}this.content.css("height","0px")}this.setState("closed")};a.prototype.handleResize=function(){this.adjustFlag=true;if(this.opened){this.adjustHeight()}if(this.responsive){this.handleResponsive()}};a.prototype.adjustHeight=function(){if(!this.slide){return}if(this.opened){this.height=this.content.find("> [data-ss-component='wrapper']").outerHeight();this.content.attr("data-ss-slide-height",this.height).height(this.height)}};a.prototype.addHeight=function(c){this.height+=c;this.height=(this.height<0)?0:this.height;if(this.slide){this.content.attr("data-ss-slide-height",this.height)}this.content.css("height",this.height+"px")};a.prototype.setHeight=function(c){this.height=c;this.height=(this.height<0)?0:this.height;if(this.slide){this.content.attr("data-ss-slide-height",this.height)}this.content.css("height",this.height+"px")};a.prototype.toggle=function(f){var c=this;var d;if(this.freeze||this.ajaxing){return}if(!f){d=this.button[0]}else{d=f.target}if(!$(d).attr("data-ss-component")){d=$(d).closest("[data-ss-component='button']")[0]}if(this.orphan){if(this.opened){this.opened=false;this.setState("closed")}else{this.opened=true;this.setState("open")}return}if(this.tab){var g=(this.button.attr("data-ss-state")==="open"&&this.button[0]===f.target)?true:false;if((this.responsive&&!this.responsiveVars.accordions||this.nocollapse)&&(this.button[0]===d)){return}if(this.isChildToggler&&this.tab){this.parent.childTabOpen=!g;if(g){this.parent.prevChildHeight=0}}this.close(g);this.button=$(d);this.content=$(d).find("+ [data-ss-component='content']");if(this.slide){c.height=parseInt(c.content.attr("data-ss-slide-height"))}if(g){this.widget.attr("data-ss-state","closed");this.opened=false;return}this.open()}else{this.button=$(d);this.content=$(d).find("+ [data-ss-component='content']");var g=(this.button.attr("data-ss-state")==="open"&&this.button[0]===f.target&&this.widget.find("[data-ss-component='button'][data-ss-state='open']").length===1)?true:false;if(g){this.opened=false}(this.button.attr("data-ss-state")==="closed")?this.open():this.close()}};a.prototype.setState=function(c){this.state=c;this.button.attr("data-ss-state",c);this.content.attr("data-ss-state",c);if(this.orphan){console.log(this.opened);return}if(this.opened){this.widget.attr("data-ss-state","open")}else{this.widget.attr("data-ss-state","closed")}if(this.responsive&&this.opened){this.handleResponsive()}};a.prototype.setAjaxComplete=function(){this.doAjax=false;this.ajaxing=false;this.ready=true;if(this.opened){this.setState("open")}};a.prototype.handleFreeze=function(){this.freeze=true};a.prototype.handleUnfreeze=function(){this.freeze=false};a.prototype.handleResponsive=function(){if(!this.responsive){return}if(window.innerWidth>=this.responsiveVars.threshold){this.responsiveVars.accordions=false;this.widget.attr("data-ss-responsive-type","tabs");if(!this.opened){this.button=this.widget.find("[data-ss-component='button']").first();this.content=this.widget.find("[data-ss-component='content']").first();this.open()}this.widget.css("min-height",this.button.outerHeight()+this.content.outerHeight()+"px")}else{this.responsiveVars.accordions=true;this.widget.attr("data-ss-responsive-type","accordions");this.widget.css("min-height","0")}};return{init:function(c,d){return new a(c,d)}}})();