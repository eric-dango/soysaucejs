(function(a,b){var c="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(m){var j=this,o=a.isFunction(a.Deferred)?a.Deferred():0,n=a.isFunction(o.notify),f=j.find("img").add(j.filter("img")),g=[],l=[],h=[];if(a.isPlainObject(m)){a.each(m,function(p,q){if(p==="callback"){m=q}else{if(o){o[p](q)}}})}function k(){var p=a(l),q=a(h);if(o){if(h.length){o.reject(f,p,q)}else{o.resolve(f)}}if(a.isFunction(m)){m.call(j,f,p,q)}}function e(p){d(p.target,p.type==="error")}function d(p,q){if(p.src===c||a.inArray(p,g)!==-1){return}g.push(p);if(q){h.push(p)}else{l.push(p)}a.data(p,"imagesLoaded",{isBroken:q,src:p.src});if(n){o.notifyWith(a(p),[q,f,a(l),a(h)])}if(f.length===g.length){setTimeout(k);f.unbind(".imagesLoaded",e)}}if(!f.length){k()}else{f.bind("load.imagesLoaded error.imagesLoaded",e).each(function(p,r){var s=r.src;var q=a.data(r,"imagesLoaded");if(q&&q.src===s){d(r,q.isBroken);return}if(r.complete&&r.naturalWidth!==b){d(r,r.naturalWidth===0||r.naturalHeight===0);return}if(r.readyState||r.complete){r.src=c;r.src=s}})}return o?o.promise(j):j}})(jQuery);if(typeof(soysauce)==="undefined"){"use strict";soysauce={widgets:new Array(),vars:{idCount:0,currentViewportWidth:window.innerWidth,degrade:(/Android [12]|Opera/.test(navigator.userAgent))?true:false,lastResizeTime:0,lastResizeTimerID:0},getOptions:function(a){if(!$(a).attr("data-ss-options")){return false}return $(a).attr("data-ss-options").split(" ")},getPrefix:function(){if(navigator.userAgent.match(/webkit/i)!==null){return"-webkit-"}else{if(navigator.userAgent.match(/windows\sphone|msie/i)!==null){return"-ms-"}else{if(navigator.userAgent.match(/^mozilla/i)!==null){return"-moz-"}else{if(navigator.userAgent.match(/opera/i)!==null){return"-o-"}}}}return""},stifle:function(a){if(!a){return false}a.stopImmediatePropagation();a.preventDefault()},fetch:function(a){var c,b;if(!a){return false}if(typeof(a)==="object"){a=parseInt($(a).attr("data-ss-id"))}if(typeof(a)==="string"){var d=parseInt($(a).attr("data-ss-id"));if(isNaN(d)){d=parseInt(a)}a=d}if(a===+a&&a===(a|0)){c="[data-ss-id='"+a+"']"}else{c=a}soysauce.widgets.forEach(function(e){if(e.id===a){b=e}});if(!b){return false}else{return b}},getCoords:function(a){if(!a){return}if(a.originalEvent!==undefined){a=a.originalEvent}if(a.touches&&a.touches.length===1){return{x:a.touches[0].clientX,y:a.touches[0].clientY}}else{if(a.touches&&a.touches.length===2){return{x:a.touches[0].clientX,y:a.touches[0].clientY,x2:a.touches[1].clientX,y2:a.touches[1].clientY}}else{if(a.changedTouches&&a.changedTouches.length===1){return{x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY}}else{if(a.changedTouches&&a.changedTouches.length===2){return{x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY,x2:a.changedTouches[1].clientX,y2:a.changedTouches[1].clientY}}else{if(a.clientX!==undefined){return{x:a.clientX,y:a.clientY}}}}}}},getArrayFromMatrix:function(a){return a.substr(7,a.length-8).split(", ")},browserInfo:{userAgent:navigator.userAgent,supportsSVG:(document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))?true:false,supportsLocalStorage:(typeof(window.localStorage)!=="undefined")?true:false,supportsSessionStorage:(typeof(window.sessionStorage)!=="undefined")?true:false,sessionStorageFull:false},scrollTop:function(){window.setTimeout(function(){window.scrollTo(0,1)},0)}};$(window).on("resize orientationchange",function(a){if((a.type==="orientationchange"||window.innerWidth!==soysauce.vars.currentViewportWidth)&&(a.timeStamp-soysauce.vars.lastResizeTime>30)){if(soysauce.vars.lastResizeID){clearTimeout(soysauce.vars.lastResizeID)}soysauce.vars.lastResizeID=window.setTimeout(function(){soysauce.vars.lastResizeTime=a.timeStamp;soysauce.vars.currentViewportWidth=window.innerWidth;soysauce.widgets.forEach(function(b){if(!b.handleResize){return}b.handleResize();if(b.type==="Carousel"){if(b.itemWidth){$(b.widget).trigger("SSWidgetResized")}}else{$(b.widget).trigger("SSWidgetResized")}})},250)}});$(document).ready(function(){soysauce.scrollTop();soysauce.init();if(soysauce.vars.degrade){$("body").attr("data-ss-degrade","true")}soysauce.widgets.forEach(function(b){if(!b.defer){return}var a=0;var c=b.widget.find("[data-ss-widget]");c.each(function(){var d=soysauce.fetch(this);if(d.initialized){if(++a===c.length){$(b.widget).trigger("SSWidgetReady").removeAttr("data-ss-defer");return}}else{d.widget.on("SSWidgetReady",function(){if(++a===c.length){$(b.widget).trigger("SSWidgetReady").removeAttr("data-ss-defer")}})}})});$(window).trigger("SSReady")})}soysauce.init=function(a){var d;var c=0;var b=false;if(!a){d=$("[data-ss-widget]:not([data-ss-id]), [data-ss-component='button'][data-ss-toggler-id]")}else{d=$(a)}if((!$(a)&&!d)||$(a).attr("data-ss-id")!==undefined){return b}c=d.length;d.each(function(e){var j=$(this);var g=$(this).attr("data-ss-widget");var h;var f=false;j.attr("data-ss-id",++soysauce.vars.idCount);if(!g&&j.attr("data-ss-toggler-id")!==undefined){g="toggler";f=true}switch(g){case"toggler":h=soysauce.togglers.init(this,f);break;case"carousel":h=soysauce.carousels.init(this);break;case"lazyloader":h=soysauce.lazyloader.init(this);break;case"autofill-zip":h=soysauce.autofillZip.init(this);break;case"autodetect-cc":h=soysauce.autodetectCC.init(this);break;case"autosuggest":h=soysauce.autosuggest.init(this);break;case"input-clear":h=soysauce.inputClear.init(this);break}if(h!==undefined){soysauce.widgets.push(h);if(j.attr("data-ss-defer")!==undefined){h.defer=true}else{j.imagesLoaded(function(){h.initialized=true;j.trigger("SSWidgetReady")});b=true}}else{j.removeAttr("data-ss-id");--soysauce.vars.idCount}});return b};soysauce.carousels=(function(){var b=5000;var d=2;var j=20;var k="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";var g=1500;var c=soysauce.getPrefix();function f(q){var x=soysauce.getOptions(q);var w=this;var m;var s="";var o;var p;this.type="Carousel";this.widget=$(q);this.id=parseInt($(q).attr("data-ss-id"));this.index=0;this.maxIndex;this.container;this.items;this.dots;this.numChildren=0;this.itemWidth=0;this.offset=0;this.spacingOffset=0;this.ready=false;this.interrupted=false;this.links=false;this.lockScroll=undefined;this.nextBtn;this.prevBtn;this.freeze=false;this.jumping=false;this.infinite=true;this.autoscroll=false;this.autoscrollID;this.autoscrollInterval;this.autoscrollRestartID;this.infiniteID;this.forward;this.lastSlideTime;this.cloneDepth=0;this.looping=false;this.rewindCoord=0;this.fullscreen=true;this.peek=false;this.peekWidth=0;this.peekAlign;this.swipe=true;this.coords1x=0;this.coords1y=0;this.cms=false;this.zoom=false;this.zoomMultiplier;this.zoomMin;this.zoomMax;this.isZooming=false;this.isZoomed=false;this.panMax={x:0,y:0};this.panMaxOriginal={x:0,y:0};this.panCoords={x:0,y:0};this.panCoordsStart={x:0,y:0};this.panning=false;this.zoomIcon;this.pinch;this.thumbs=false;this.multi=false;this.multiVars={numItems:2,stepSize:1,minWidth:0};this.autoheight=false;this.fade=false;if(x){x.forEach(function(y){switch(y){case"cms":w.cms=true;break;case"peek":w.peek=true;break;case"finite":w.infinite=false;break;case"autoscroll":w.autoscroll=true;break;case"nofullscreen":w.fullscreen=false;break;case"noswipe":w.swipe=false;break;case"zoom":w.zoom=true;break;case"pinch":w.pinch=true;break;case"thumbs":w.thumbs=true;break;case"multi":w.multi=true;break;case"autoheight":w.autoheight=true;break;case"fade":w.fade=true;break}})}if(this.cms){var r="";this.widget.find("style").each(function(A){var y=$(this);var z="";r=y.html().match(/\/\/[\w_\.\/-]+-2x[\w\.\/]+/i)[0];z="<img src='"+r+"'>";y.before(z);y.closest("li").attr("data-ss-component","item");y.find("+ *").remove();y.remove()})}if(this.swipe){this.widget.find("a").click(function(y){soysauce.stifle(y)})}this.widget.wrapInner("<div data-ss-component='container' />");this.widget.wrapInner("<div data-ss-component='container_wrapper' />");this.container=this.widget.find("[data-ss-component='container']");m=this.widget.find("[data-ss-component='container_wrapper']");if(this.zoom){m.after("<div data-ss-component='zoom_icon' data-ss-state='out'></div>");this.zoomIcon=m.find("~ [data-ss-component='zoom_icon']");this.zoomMin=(!this.widget.attr("data-ss-zoom-min"))?1.2:parseFloat(this.widget.attr("data-ss-zoom-min"));this.zoomMax=(!this.widget.attr("data-ss-zoom-max"))?4:parseFloat(this.widget.attr("data-ss-zoom-max"));if(this.zoomMin<1.2){this.zoomMin=1.2}if(this.zoomMin>this.zoomMax){console.warn("Soysauce: zoomMin is greater than zoomMax, errors may occur.")}}if(this.infinite){m.after("<div data-ss-component='button' data-ss-button-type='prev' data-ss-state='enabled'></div><div data-ss-component='button' data-ss-button-type='next'></div>")}else{m.after("<div data-ss-component='button' data-ss-button-type='prev' data-ss-state='disabled'></div><div data-ss-component='button' data-ss-button-type='next'></div>")}m.after("<div data-ss-component='dots'></div>");this.dots=this.widget.find("[data-ss-component='dots']");this.nextBtn=m.find("~ [data-ss-button-type='next']");this.prevBtn=m.find("~ [data-ss-button-type='prev']");m.find("~ [data-ss-button-type='prev']").click(function(y){soysauce.stifle(y);if(w.ready&&!w.interrupted&&!w.freeze){w.slideBackward()}});m.find("~ [data-ss-button-type='next']").click(function(y){soysauce.stifle(y);if(w.ready&&!w.interrupted&&!w.freeze){w.slideForward()}});this.maxIndex=this.widget.find("[data-ss-component='item']").length;if(this.multi){var u=parseInt(this.widget.attr("data-ss-multi-set"));this.multiVars.numItems=(!u)?2:u;var l=parseInt(this.widget.attr("data-ss-multi-min-width"));this.multiVars.minWidth=(!l)?0:l}if(this.infinite){if(this.multi){console.warn("Soysauce: 'multi' option with infinite scrolling not yet supported. Please add 'finite' option.");a(this,1)}else{a(this,1)}this.lastSlideTime=new Date().getTime()}this.items=items=this.widget.find("[data-ss-component='item']");if(items.length===0){console.warn("Soysauce: No [data-ss-component='item'] attributes found with widget id "+this.id);return}this.numChildren=items.length;if(!this.infinite){m.find("~ [data-ss-button-type='next']").attr("data-ss-state",(this.numChildren>1)?"enabled":"disabled")}else{m.find("~ [data-ss-button-type='next']").attr("data-ss-state","enabled")}this.links=((items[0].tagName.match(/^a$/i)!==null&&items[0].tagName.match(/^a$/i)!==undefined)||items.find("a[href]").length>0)?true:false;if(this.thumbs){var t=0;if(this.container.find("[data-ss-component='thumbnail']").length>0){return}this.items.each(function(y,z){var A=(/img/i.test(z.tagName))?$(this).attr("src"):$(this).find("img").attr("src");++t;if(w.infinite&&(t===1||t===w.numChildren)){return}w.container.append("<img data-ss-component='thumbnail' src='"+A+"'>")})}o=(this.infinite)?this.numChildren-2:this.numChildren;p=this.container.find("[data-ss-component='thumbnail']");if(p.length>0){p.each(function(y,z){s+="<div data-ss-component='dot'>"+z.outerHTML+"</div>";$(this).remove()})}else{for(i=0;i<o;i++){s+="<div data-ss-component='dot'></div>"}}this.dots.html(s);this.dots=this.dots.find("div");this.dots.attr("data-ss-state","inactive");this.dots.first().attr("data-ss-state","active");this.dots.on("click",function(A){var z=parseInt(soysauce.getArrayFromMatrix(w.container.css(c+"transform"))[4]);var y=0;if(z===w.offset){w.ready=true}if(!w.ready||w.interrupted||w.freeze){return}soysauce.stifle(A);y=w.dots.index(this);if(w.infinite){y+=1}w.jumpTo(y)});if(this.peek){this.peekAlign=(!this.widget.attr("data-ss-peek-align"))?"center":this.widget.attr("data-ss-peek-align");this.peekWidth=(!this.widget.attr("data-ss-peek-width"))?j:parseInt(this.widget.attr("data-ss-peek-width"));if(this.peekWidth%2){this.widget.attr("data-ss-peek-width",++this.peekWidth)}}items.attr("data-ss-state","inactive");if(this.infinite){$(items[1]).attr("data-ss-state","active");this.index++}else{$(items[0]).attr("data-ss-state","active")}this.container.imagesLoaded(function(y){var C=w.items.first();var B=parseInt(C.css("padding-left"))+parseInt(C.css("padding-right"));var A=parseInt(C.css("margin-left"))+parseInt(C.css("margin-right"));w.spacingOffset=0;if(w.multi){var z=$(w.widget).find('[data-ss-component="container_wrapper"]').innerWidth();if(w.multiVars.minWidth>0){w.multiVars.numItems=Math.floor(z/w.multiVars.minWidth)}w.itemWidth=z/w.multiVars.numItems}else{w.itemWidth=w.widget.width()}if(w.peek){w.itemWidth-=w.peekWidth*2;switch(w.peekAlign){case"center":w.offset+=w.peekWidth;break;case"left":break;case"right":break}}if(!w.fade){w.container.width((w.itemWidth+A)*w.numChildren);w.items.css("width",w.itemWidth+"px")}if(w.infinite){w.offset-=w.itemWidth}w.container.attr("data-ss-state","notransition");e(w.container[0],w.offset);if(w.zoom){var D=w.widget.attr("data-ss-zoom-multiplier");w.zoomMultiplier=(!D)?d:parseInt(D);w.panMax.x=(w.itemWidth-w.peekWidth*2)/w.zoomMultiplier;w.panMax.y=w.items.first().height()/w.zoomMultiplier;w.panMaxOriginal.x=w.panMax.x;w.panMaxOriginal.y=w.panMax.y;if(w.panMax.y===0){w.container.imagesLoaded(function(){w.panMax.y=w.items.last().height/w.zoomMultiplier;w.panMaxOriginal.y=w.panMax.y})}}});if(this.swipe||this.zoom){this.widget.on("touchstart mousedown",function(A){var z=$(A.target).attr("data-ss-component");if((z==="zoom_icon"||z==="dot"||z==="thumbnail")&&w.interrupted){var y=(soysauce.vars.degrade)?parseInt(w.container[0].style.left):parseInt(soysauce.getArrayFromMatrix(w.container.css(c+"transform"))[4]);if(y===w.offset){w.interrupted=false}}if(w.jumping||w.freeze||z==="button"||z==="dot"||z==="dots"||z==="thumbnail"){return}w.handleSwipe(A)})}this.container.on(k,function(){w.widget.trigger("slideEnd");w.ready=true;w.jumping=false;w.interrupted=false;w.container.attr("data-ss-state","ready");if(w.autoscroll&&w.autoscrollRestartID===undefined){w.autoscrollRestartID=window.setTimeout(function(){w.autoscrollOn()},1000)}});if(this.autoscroll){var n=this.widget.attr("data-ss-autoscroll-interval");this.autoscrollInterval=(!n)?b:parseInt(n);this.autoscrollOn()}if(this.autoheight){var v=$(this.items[this.index]).outerHeight();this.widget.css("min-height",v)}this.widget.one("SSWidgetReady",function(){w.widget.attr("data-ss-state","ready");w.ready=true;window.setTimeout(function(){w.container.attr("data-ss-state","ready")},0);if(w.autoheight){var y=$(w.items[w.index]).outerHeight();w.widget.css("height",y);window.setTimeout(function(){w.widget.css("min-height","0px")},300)}})}f.prototype.gotoPos=function(l,p,m,q){var o=this;this.offset=l;e(this.container[0],l);if(this.ready){this.container.attr("data-ss-state","ready")}else{this.container.attr("data-ss-state",(p)?"intransit-fast":"intransit")}if(o.autoscroll){o.autoscrollOff();if(o.autoscrollRestartID!==undefined){window.clearInterval(o.autoscrollRestartID);o.autoscrollRestartID=undefined}}if(this.infinite){var r=0,n=0;r=parseFloat(this.container.css(c+"transition-duration").replace(/s$/,""))*1000;r=(!r)?650:r;if(!q&&!m&&this.index===this.numChildren-2&&!this.forward){this.infiniteID=window.setTimeout(function(){n=(soysauce.vars.degrade)?o.rewindCoord:parseInt(soysauce.getArrayFromMatrix(o.container.css(c+"transform"))[4]);o.container.attr("data-ss-state","notransition");o.offset=n-o.itemWidth*(o.numChildren-2);e(o.container[0],o.offset);window.setTimeout(function(){o.container.attr("data-ss-state","intransit");o.offset=-o.index*o.itemWidth+o.peekWidth+o.spacingOffset;e(o.container[0],o.offset)},0)},0)}else{if(!q&&!m&&this.index===1&&this.forward){this.infiniteID=window.setTimeout(function(){n=(soysauce.vars.degrade)?o.rewindCoord:parseInt(soysauce.getArrayFromMatrix(o.container.css(c+"transform"))[4]);o.container.attr("data-ss-state","notransition");o.offset=o.itemWidth*(o.numChildren-2)+n;e(o.container[0],o.offset);window.setTimeout(function(){o.container.attr("data-ss-state","intransit");o.offset=-o.itemWidth+o.peekWidth+o.spacingOffset;e(o.container[0],o.offset)},0)},0)}else{this.infiniteID=undefined}}}};f.prototype.slideForward=function(m){var l=this;if(!this.ready||(!this.infinite&&this.index===this.numChildren-1)||this.isZooming){return false}if(this.infinite){$(this.dots[this.index-1]).attr("data-ss-state","inactive")}else{$(this.dots[this.index]).attr("data-ss-state","inactive")}$(this.items[this.index++]).attr("data-ss-state","inactive");if(this.infinite&&this.index===this.numChildren-1){$(this.items[1]).attr("data-ss-state","active");this.index=1}else{$(this.items[this.index]).attr("data-ss-state","active")}if(this.infinite){$(this.dots[this.index-1]).attr("data-ss-state","active")}else{$(this.dots[this.index]).attr("data-ss-state","active");if(this.index===this.numChildren-1){this.nextBtn.attr("data-ss-state","disabled")}if(this.numChildren>1){this.prevBtn.attr("data-ss-state","enabled")}}this.ready=false;this.forward=true;this.gotoPos(this.offset-this.itemWidth,m);return true};f.prototype.slideBackward=function(l){if(!this.ready||(!this.infinite&&this.index===0)||this.isZooming){return false}if(this.infinite){$(this.dots[this.index-1]).attr("data-ss-state","inactive")}else{$(this.dots[this.index]).attr("data-ss-state","inactive")}$(this.items[this.index--]).attr("data-ss-state","inactive");if(this.infinite&&this.index===0){$(this.items[this.numChildren-2]).attr("data-ss-state","active");this.index=this.numChildren-2}else{$(this.items[this.index]).attr("data-ss-state","active")}if(this.infinite){$(this.dots[this.index-1]).attr("data-ss-state","active")}else{$(this.dots[this.index]).attr("data-ss-state","active");if(this.index===0){this.prevBtn.attr("data-ss-state","disabled")}if(this.numChildren>1){this.nextBtn.attr("data-ss-state","enabled")}}this.ready=false;this.forward=false;this.gotoPos(this.offset+this.itemWidth,l);return true};f.prototype.handleResize=function(){var l=this.widget.find('[data-ss-component="container_wrapper"]').innerWidth(),o;if(!l){o=this.widget.parents().closest("[data-ss-widget='toggler'] [data-ss-component='content']")}if(o){o.css("display","block");l=l||o.outerWidth()}if(this.fade){return}if(this.multi){if(this.multiVars.minWidth){this.multiVars.numItems=Math.floor(l/this.multiVars.minWidth)}this.itemWidth=l/this.multiVars.numItems}if(this.fullscreen){var n;var m=this.container.attr("data-ss-state");if(this.multi){n=l-(this.itemWidth*this.multiVars.numItems)}else{n=l-this.itemWidth}if(this.peek){this.itemWidth-=this.peekWidth*2}this.itemWidth+=n;this.offset=-this.index*this.itemWidth+this.peekWidth;this.container.attr("data-ss-state","notransition");this.items.css("width",this.itemWidth+"px");e(this.container[0],this.offset)}this.container.css("width",(this.itemWidth*this.numChildren)+"px");if(this.zoom){this.panMax.x=this.itemWidth/this.zoomMultiplier;this.panMax.y=this.container.find("[data-ss-component]").height()/this.zoomMultiplier;this.checkPanLimits()}};f.prototype.handleInterrupt=function(p){if(this.isZooming||this.isZoomed||!this.swipe){soysauce.stifle(p);return}var n=this;var l,q,o;var m=(soysauce.vars.degrade)?parseInt(n.container[0].style.left):parseInt(soysauce.getArrayFromMatrix(this.container.css(c+"transform"))[4]);this.interrupted=true;if(this.autoscroll){this.autoscrollOff();if(this.autoscrollRestartID!==undefined){window.clearInterval(n.autoscrollRestartID);n.autoscrollRestartID=undefined}}n.container.attr("data-ss-state","notransition");if((this.infinite&&this.index===1&&this.forward)||(this.infinite&&(this.index===this.numChildren-2)&&!this.forward)){this.looping=true}else{this.looping=false}window.clearInterval(this.infiniteID);e(this.container[0],m);l=soysauce.getCoords(p);this.widget.on("touchmove mousemove",function(s){var r;if(n.isZoomed){soysauce.stifle(p);soysauce.stifle(s);return}o=q=soysauce.getCoords(s);if(n.lockScroll===undefined){if(Math.abs((l.y-q.y)/(l.x-q.x))>1.2){n.lockScroll="y"}else{n.lockScroll="x"}}if(n.lockScroll==="y"){return}soysauce.stifle(s);r=l.x-q.x;e(n.container[0],m-r)});if(this.infiniteID!==undefined){this.widget.one("touchend mouseup",function(r){n.infiniteID=undefined;if(n.index===n.numChildren-2){n.offset=-n.index*n.itemWidth+(n.peekWidth)+n.spacingOffset}else{if(n.index===1){n.offset=-n.itemWidth+(n.peekWidth)+n.spacingOffset}}window.setTimeout(function(){n.container.attr("data-ss-state","intransit");e(n.container[0],n.offset)},0)})}return o};f.prototype.handleSwipe=function(s){var x=this;var y,w,m,o=0,q=-1;var n=0,u=0;var l=true,t=null;if(this.infinite){if(new Date().getTime()-this.lastSlideTime<225){return}this.lastSlideTime=new Date().getTime()}y=soysauce.getCoords(s);this.coords1x=y.x;this.coords1y=y.y;if(y.y2&&y.x2){var p=0,v=0,r=0;v=(y.y2-y.y)*(y.y2-y.y);p=(y.x2-y.x)*(y.x2-y.x);o=Math.sqrt(v+p)}if(s.type.match(/mousedown/)!==null){soysauce.stifle(s)}this.lockScroll=undefined;if(!this.ready){m=this.handleInterrupt(s)}else{if(this.zoom&&this.isZoomed){this.widget.one("touchend mouseup",function(B){var C=soysauce.getArrayFromMatrix($(B.target).css(c+"transform"));var A=parseInt(C[4]);var z=parseInt(C[5]);x.panCoordsStart.x=(Math.abs(A)>0)?A:0;x.panCoordsStart.y=(Math.abs(z)>0)?z:0;l=true;t=null;if($(B.target).attr("data-ss-state")==="panning"){$(B.target).attr("data-ss-state","ready")}});this.widget.on("touchmove mousemove",function(C){soysauce.stifle(C);if(!/img/i.test(C.target.tagName)){return}else{if($(C.target).attr("data-ss-button-type")!==undefined||$(C.target).attr("data-ss-component")==="dots"){return}}w=soysauce.getCoords(C);$(C.target).attr("data-ss-state","panning");if(x.pinch&&w.x2&&w.y2){l=false;n=w.x2;u=w.y2}if(!l&&x.pinch){var z=0,A=0,D=0,B=0;A=(u-w.y)*(u-w.y);z=(n-w.x)*(n-w.x);B=Math.sqrt(A+z);if(o===0){o=B}else{if(t===null||(t===true&&(B<q)&&q!==-1)||(t===false&&(B>q)&&q!==-1)){o=B;t=(t)?false:true}}q=B;D=(B-o)/g;x.zoomMultiplier+=D;x.zoomMultiplier=(x.zoomMultiplier>=x.zoomMax)?x.zoomMax:x.zoomMin;x.panMax.x=(x.zoomMultiplier-1)*x.panMaxOriginal.x;x.panMax.y=(x.zoomMultiplier-1)*x.panMaxOriginal.y;if(x.zoomMultiplier===x.zoomMax||x.zoomMultiplier===x.zoomMin){return}x.checkPanLimits();x.panCoordsStart.x=x.panCoords.x;x.panCoordsStart.y=x.panCoords.y}else{x.panCoords.x=x.panCoordsStart.x+w.x-x.coords1x;x.panCoords.y=x.panCoordsStart.y+w.y-x.coords1y;x.checkPanLimits()}e(C.target,x.panCoords.x,x.panCoords.y);h(C.target,x.zoomMultiplier)})}else{if(this.swipe){this.widget.on("touchmove mousemove",function(A){var z;w=soysauce.getCoords(A);if($(A.target).attr("data-ss-component")==="zoom_icon"){return}if(x.lockScroll===undefined){if(Math.abs((y.y-w.y)/(y.x-w.x))>1.2){x.lockScroll="y"}else{x.lockScroll="x"}}if(x.lockScroll==="y"){return}soysauce.stifle(A);x.panning=true;m=w.x;z=y.x-w.x;x.container.attr("data-ss-state","notransition");e(x.container[0],x.offset-z)})}}}this.widget.one("touchend mouseup",function(G){var E;var D=$(G.target).attr("data-ss-component");if(x.jumping){return}soysauce.stifle(G);if(D==="button"){return}E=(D==="zoom_icon")?true:false;w=soysauce.getCoords(G);if(w!==null){m=w.x}var z=x.coords1x-m;var C=x.coords1y-w.y;var F=Math.abs(G.timeStamp-s.timeStamp);var B=z/F;var A=(B>0.9)?true:false;x.widget.off("touchmove mousemove");if(!x.interrupted&&x.links&&Math.abs(z)===0){x.ready=true;x.container.attr("data-ss-state","ready");if(G.target.tagName.match(/^a$/i)!==null){window.location.href=$(G.target).attr("href")}else{if($(G.target).closest("a").length>0){window.location.href=$(G.target).closest("a").attr("href")}}}else{if(!x.interrupted&&x.zoom&&((Math.abs(z)<2&&Math.abs(C)<2)||x.isZoomed||E)){soysauce.stifle(s);x.toggleZoom(s,G,Math.abs(z),Math.abs(C))}else{if(Math.abs(z)<15||(x.interrupted&&Math.abs(z)<25)){if(x.looping){return}soysauce.stifle(s);x.ready=true;x.container.attr("data-ss-state","ready");x.gotoPos(x.offset,true,false,true)}else{if(Math.abs(z)>3&&x.swipe){x.ready=true;x.container.attr("data-ss-state","ready");if(x.lockScroll==="y"){return}if(z>0){if(!x.infinite&&x.index===x.numChildren-1||(x.multi&&!x.infinite&&x.index===x.numChildren-x.multiVars.numItems)){x.gotoPos(x.index*-x.itemWidth+x.peekWidth+x.spacingOffset)}else{if(soysauce.vars.degrade){x.rewindCoord=parseInt(x.container.css("left"))}x.slideForward(A)}}else{if(!x.infinite&&x.index===0){x.gotoPos(x.peekWidth+x.spacingOffset)}else{if(soysauce.vars.degrade){x.rewindCoord=parseInt(x.container.css("left"))}x.slideBackward(A)}}}}}}})};f.prototype.checkPanLimits=function(){if(Math.abs(this.panCoords.x)>this.panMax.x&&this.panCoords.x>0){this.panCoords.x=this.panMax.x}else{if(Math.abs(this.panCoords.x)>this.panMax.x&&this.panCoords.x<0){this.panCoords.x=-this.panMax.x}}if(Math.abs(this.panCoords.y)>this.panMax.y&&this.panCoords.y>0){this.panCoords.y=this.panMax.y}else{if(Math.abs(this.panCoords.y)>this.panMax.y&&this.panCoords.y<0){this.panCoords.y=-this.panMax.y}}if(this.isZoomed){var l=this.items[this.index];if(!/img/i.test(l.tagName)){l=$(l).find("img")[0]}$(l).attr("data-ss-state","panning");e(l,this.panCoords.x,this.panCoords.y);h(l,this.zoomMultiplier)}};f.prototype.toggleZoom=function(r,p,m,o){if(!this.ready&&!(this.isZoomed&&m<2&&o<2)||(r.type.match(/touch/)!==null&&p.type.match(/mouse/)!==null)){soysauce.stifle(r);soysauce.stifle(p);return}var l=this.items[this.index];l=(!/img/i.test(l.tagName))?$(l).find("img")[0]:l;var n=this;$(l).attr("data-ss-state","ready");if(!this.isZoomed){var q=0;if($(p.target).attr("data-ss-component")==="zoom_icon"){n.panCoords={x:0,y:0};n.panCoordsStart={x:0,y:0}}else{n.panCoords=soysauce.getCoords(p);n.panCoords.x-=n.itemWidth/2;n.panCoords.x*=-n.zoomMultiplier;if(r.type.match(/mousedown/i)!==null){if(r.originalEvent!==undefined){q=r.originalEvent.offsetY}else{q=r.offsetY}}else{if(r.originalEvent!==undefined){q=r.originalEvent.pageY-$(r.target).offset().top}else{q=r.pageY-$(r.target).offset().top}}n.panCoords.y=(n.container.find("[data-ss-component='item']").height()/n.zoomMultiplier)-q;n.panCoords.y*=n.zoomMultiplier;n.checkPanLimits();n.panCoordsStart.x=n.panCoords.x;n.panCoordsStart.y=n.panCoords.y}if(!isNaN(n.panCoords.x)&&!isNaN(n.panCoords.y)){this.dots.first().parent().css("visibility","hidden");this.nextBtn.hide();this.prevBtn.hide();this.isZooming=true;this.ready=false;this.widget.attr("data-ss-state","zoomed");this.zoomIcon.attr("data-ss-state","in");e(l,n.panCoords.x,n.panCoords.y);h(l,n.zoomMultiplier);$(l).on(k,function(){n.isZoomed=true;n.isZooming=false})}}else{if(m<2&&o<2){this.dots.first().parent().css("visibility","visible");this.nextBtn.show();this.prevBtn.show();this.isZooming=true;this.ready=false;this.widget.attr("data-ss-state","ready");this.zoomIcon.attr("data-ss-state","out");e(l,0,0);h(l,1);$(l).on(k,function(){n.isZoomed=false;n.isZooming=false})}}$(l).on(k,function(){n.ready=true;n.interrupted=false;n.isZooming=false})};f.prototype.autoscrollOn=function(){var l=this;if(!this.autoscrollID){this.autoscrollID=window.setInterval(function(){if(soysauce.vars.degrade){l.rewindCoord=-l.itemWidth*3-l.peekWidth}l.slideForward()},l.autoscrollInterval);return true}return false};f.prototype.autoscrollOff=function(){var l=this;if(!this.autoscrollID){return false}window.clearInterval(l.autoscrollID);this.autoscrollID=undefined;return true};f.prototype.handleFreeze=function(){this.freeze=true};f.prototype.handleUnfreeze=function(){this.freeze=false};f.prototype.jumpTo=function(o){var n=this;if(o===this.index){return false}if(this.infinite){if(o<1||o>this.maxIndex){return false}}else{if(o<0||o>this.maxIndex-1){return false}}this.jumping=true;this.ready=false;var p=o*-this.itemWidth;if(this.infinite){$(this.items[this.index]).attr("data-ss-state","inactive");$(this.items[o]).attr("data-ss-state","active");$(this.dots[this.index-1]).attr("data-ss-state","inactive");$(this.dots[o-1]).attr("data-ss-state","active")}else{$(this.items[this.index]).attr("data-ss-state","inactive");$(this.items[o]).attr("data-ss-state","active");$(this.dots[this.index]).attr("data-ss-state","inactive");$(this.dots[o]).attr("data-ss-state","active")}if(this.fade){this.index=o;return true}if(this.autoheight){var m=$(n.items[o]).outerHeight();this.widget.height(m)}if(this.isZoomed){var l=this.items[this.index];l=(!/img/i.test(l.tagName))?$(l).find("img")[0]:l;this.dots.first().parent().css("visibility","visible");this.nextBtn.show();this.prevBtn.show();this.isZooming=true;this.ready=false;this.widget.attr("data-ss-state","ready");this.zoomIcon.attr("data-ss-state","out");e(l,0,0);h(l,1);$(l).on(k,function(){n.isZoomed=false;n.isZooming=false})}this.gotoPos(p,false,true);this.index=o;return true};function e(m,l,n){l=l||0;n=n||0;if(soysauce.vars.degrade){m.style.left=l+"px"}else{m.style.webkitTransform=m.style.msTransform=m.style.OTransform=m.style.MozTransform=m.style.transform="translate3d("+l+"px,"+n+"px,0)"}}function h(l,n){var m=l.style.webkitTransform;n=(!n)?d:n;l.style.webkitTransform=l.style.msTransform=l.style.OTransform=l.style.MozTransform=l.style.transform=m+" scale"+((!soysauce.vars.degrade)?"3d("+n+","+n+",1)":"("+n+","+n+")")}function a(p,o){var n=p.container.find("[data-ss-component='item']");var m,l;if(o>p.maxIndex){return}p.cloneDepth=o;m=n.slice(0,o).clone();l=n.slice(p.maxIndex-o,p.maxIndex).clone();m.appendTo(p.container);l.prependTo(p.container)}return{init:function(l){return new f(l)}}})();soysauce.togglers=(function(){var b="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";function a(f,o){var n=this;var p=soysauce.getOptions(f);if(o){var h=$(f).attr("data-ss-toggler-id");var k="[data-ss-toggler-id='"+h+"']";this.orphan=true;this.widget=$(k);this.widget.each(function(r,q){var s=$(q).attr("data-ss-component");switch(s){case"button":n.button=$(q);break;case"content":n.content=$(q);break}});if(!this.content){console.warn("Soysauce: No content found for toggler-id '"+h+"'. Toggler may not work.");return}this.button.click(function(q){n.toggle(q)});this.setState("closed");this.id=parseInt(this.button.attr("data-ss-id"));this.content.attr("data-ss-id",this.id);if(soysauce.vars.degrade){this.content.attr("data-ss-degrade","true");this.button.attr("data-ss-degrade","true")}}else{this.widget=$(f);this.orphan=false;this.allButtons=this.widget.find("> [data-ss-component='button']");this.button=this.allButtons.first();this.allContent=this.widget.find("> [data-ss-component='content']");this.content=this.allContent.first();this.id=parseInt(this.widget.attr("data-ss-id"))}this.type="Toggler";this.parentID=0;this.tabID;this.state="closed";this.isChildToggler=false;this.hasTogglers=false;this.parent=undefined;this.ready=true;this.adjustFlag=false;this.freeze=false;this.opened=false;this.slide=false;this.height=0;this.prevChildHeight=0;this.ajax=false;this.doAjax=false;this.ajaxData;this.ajaxing=false;this.tab=false;this.childTabOpen=false;this.nocollapse=false;this.responsive=false;this.responsiveVars={threshold:(!this.widget.attr("data-ss-responsive-threshold"))?768:parseInt(this.widget.attr("data-ss-responsive-threshold")),accordions:true};if(p){p.forEach(function(q){switch(q){case"ajax":n.ajax=true;n.doAjax=true;break;case"tabs":n.tab=true;break;case"nocollapse":n.nocollapse=true;break;case"slide":n.slide=true;break;case"responsive":n.responsive=true;n.tab=true;break}})}if(this.orphan){this.content.on(b,function(){n.content.trigger("slideEnd");n.ready=true});return this}this.allButtons.append("<span class='icon'></span>");this.allContent.wrapInner("<div data-ss-component='wrapper'/>");this.hasTogglers=(this.widget.has("[data-ss-widget='toggler']").length>0)?true:false;this.isChildToggler=(this.widget.parents("[data-ss-widget='toggler']").length>0)?true:false;if(this.isChildToggler){var l=this.widget.parents("[data-ss-widget='toggler']");this.parentID=parseInt(l.attr("data-ss-id"));this.parent=soysauce.fetch(this.parentID)}if(this.widget.attr("data-ss-state")!==undefined&&this.widget.attr("data-ss-state")==="open"){this.allButtons.each(function(){var q=$(this);if(!q.attr("data-ss-state")){q.attr("data-ss-state","closed");q.find("+ [data-ss-component='content']").attr("data-ss-state","closed")}else{if(q.attr("data-ss-state")==="open"){this.button=q;this.content=q.find("+ [data-ss-component='content']")}}});this.opened=true}else{this.allButtons.attr("data-ss-state","closed");this.allContent.attr("data-ss-state","closed");this.widget.attr("data-ss-state","closed");this.opened=false}if(this.slide){this.allContent.attr("data-ss-state","open");if(this.hasTogglers){this.allContent.each(function(){var q=$(this);q.imagesLoaded(function(){var r;q.find("[data-ss-component='content']").attr("data-ss-state","closed");r=q.outerHeight();n.height=r;q.attr("data-ss-slide-height",r);q.css("height","0px");q.attr("data-ss-state","closed");q.find("[data-ss-component='content']").removeAttr("data-ss-state")})})}else{this.allContent.each(function(){var q=$(this);q.imagesLoaded(function(){q.attr("data-ss-slide-height",q.outerHeight());q.css("height","0px");q.attr("data-ss-state","closed")})})}this.allContent.on(b,function(){if(!n.orphan){n.widget.trigger("slideEnd")}n.ready=true})}this.allButtons.click(function(q){n.toggle(q)});if(this.responsive){this.handleResponsive()}if(this.ajax){var g=this.widget;var j=this.widget.find("> [data-ss-component='content'][data-ss-ajax-url]");var e;var d="";var m;var n=this;var c=false;if(j.length===0){console.warn("Soysauce: 'data-ss-ajax-url' tag required on content. Must be on the same domain if site doesn't support CORS.");return}j.each(function(r,q){e=$(q.previousElementSibling);e.click(function(s){if(!n.doAjax||n.ajaxing){return}n.setState("ajaxing");n.ready=false;d=$(q).attr("data-ss-ajax-url");if(soysauce.browserInfo.supportsSessionStorage&&!soysauce.browserInfo.sessionStorageFull){n.ajaxing=true;if(!sessionStorage.getItem(d)){c=true;$.ajax({url:d,type:"GET",success:function(t){if(typeof(t)==="object"){n.ajaxData=t}else{n.ajaxData=JSON.parse(t)}try{sessionStorage.setItem(d,JSON.stringify(t))}catch(u){if(u.code===DOMException.QUOTA_EXCEEDED_ERR){soysauce.browserInfo.sessionStorageFull=true;console.warn("Soysauce: SessionStorage full. Unable to store item.")}}g.trigger("SSAjaxComplete");n.setAjaxComplete();c=false},error:function(t){console.warn("Soysauce: Unable to fetch "+d);n.setAjaxComplete()}})}else{n.ajaxData=JSON.parse(sessionStorage.getItem(d));g.trigger("SSAjaxComplete")}}else{$.ajax({url:d,type:"GET",success:function(t){if(typeof(t)==="object"){n.ajaxData=t}else{n.ajaxData=JSON.parse(t)}g.trigger("SSAjaxComplete");n.ajaxing=false},error:function(t){console.warn("Soysauce: Unable to fetch "+d);n.setAjaxComplete()}})}if(!c){n.setAjaxComplete()}})})}if(this.tab&&this.nocollapse){this.content.imagesLoaded(function(){n.widget.css("min-height",n.button.outerHeight()+n.content.outerHeight())})}}a.prototype.open=function(){var e=this.responsiveVars.accordions;if(!this.ready&&!e){return}var c=this;var d=0;if(this.slide){if(this.responsive&&!e){return}this.ready=false;if(this.adjustFlag||e){this.content.one(b,function(){c.adjustHeight()})}if(this.isChildToggler&&this.parent.slide){if(this.tab){this.parent.setHeight(this.parent.height+this.height-this.parent.prevChildHeight)}else{this.parent.addHeight(this.height)}this.parent.prevChildHeight=this.height}if(this.ajax&&this.height===0){$(this.content).imagesLoaded(function(){c.content.css("height","auto");c.height=c.content.height();c.content.css("height",c.height+"px")})}else{c.height=parseInt(c.content.attr("data-ss-slide-height"));c.content.css("height",c.height+"px")}}if(this.tab&&this.nocollapse){this.widget.css("min-height",this.button.outerHeight()+this.content.outerHeight())}this.opened=true;this.setState("open")};a.prototype.close=function(d){var c=this;if(!this.ready){return}if(this.slide){this.ready=false;if(this.isChildToggler&&this.parent.slide&&d){this.parent.addHeight(-this.height)}this.content.css("height","0px")}this.setState("closed")};a.prototype.doResize=function(){this.adjustFlag=true;if(this.opened){this.adjustHeight()}if(this.responsive){this.handleResponsive()}};a.prototype.handleResize=function(){var c=this;if(this.defer){var d=this.allContent.find("[data-ss-widget]");this.allContent.css("clear","both").css("position","relative");if(!d.length){this.doResize()}else{d.each(function(f,h){var g=soysauce.fetch(h).widget;if((f+1)!==d.length){return}g.one("SSWidgetResized",function(){c.allContent.css({clear:"",position:"",display:""});c.doResize()})})}}else{this.doResize()}};a.prototype.adjustHeight=function(){if(!this.slide){if(this.tab&&this.nocollapse){this.widget.css("min-height",this.button.outerHeight()+this.content.outerHeight())}return}if(this.opened){this.height=this.content.find("> [data-ss-component='wrapper']").outerHeight();this.content.attr("data-ss-slide-height",this.height).height(this.height)}};a.prototype.addHeight=function(c){this.height+=c;this.height=(this.height<0)?0:this.height;if(this.slide){this.content.attr("data-ss-slide-height",this.height)}this.content.css("height",this.height+"px")};a.prototype.setHeight=function(c){this.height=c;this.height=(this.height<0)?0:this.height;if(this.slide){this.content.attr("data-ss-slide-height",this.height)}this.content.css("height",this.height+"px")};a.prototype.toggle=function(f){var c=this;var d;if(this.freeze||this.ajaxing){return}if(!f){d=this.button[0]}else{d=f.target}if(!$(d).attr("data-ss-component")){d=$(d).closest("[data-ss-component='button']")[0]}if(this.orphan){if(this.opened){this.opened=false;this.setState("closed")}else{this.opened=true;this.setState("open")}return}if(this.tab){var g=(this.button.attr("data-ss-state")==="open"&&this.button[0]===d)?true:false;if((this.responsive&&!this.responsiveVars.accordions||this.nocollapse)&&(this.button[0]===d)){return}if(this.isChildToggler&&this.tab){this.parent.childTabOpen=!g;if(g){this.parent.prevChildHeight=0}}this.close(g);this.button=$(d);this.content=$(d).find("+ [data-ss-component='content']");if(this.slide){c.height=parseInt(c.content.attr("data-ss-slide-height"))}if(g){this.widget.attr("data-ss-state","closed");this.opened=false;return}this.open()}else{this.button=$(d);this.content=$(d).find("+ [data-ss-component='content']");var g=(this.button.attr("data-ss-state")==="open"&&this.widget.find("[data-ss-component='button'][data-ss-state='open']").length===1)?true:false;if(g){this.opened=false}(this.button.attr("data-ss-state")==="closed")?this.open():this.close()}};a.prototype.setState=function(c){this.state=c;this.button.attr("data-ss-state",c);this.content.attr("data-ss-state",c);if(this.orphan){return}if(this.opened){this.widget.attr("data-ss-state","open")}else{this.widget.attr("data-ss-state","closed")}if(this.responsive&&this.opened){this.handleResponsive()}};a.prototype.setAjaxComplete=function(){this.doAjax=false;this.ajaxing=false;this.ready=true;if(this.opened){this.setState("open")}};a.prototype.handleFreeze=function(){this.freeze=true};a.prototype.handleUnfreeze=function(){this.freeze=false};a.prototype.handleResponsive=function(){if(!this.responsive){return}if(window.innerWidth>=this.responsiveVars.threshold){this.responsiveVars.accordions=false;this.widget.attr("data-ss-responsive-type","tabs");if(!this.opened){this.button=this.widget.find("[data-ss-component='button']").first();this.content=this.widget.find("[data-ss-component='content']").first();this.open()}this.widget.css("min-height",this.button.outerHeight()+this.content.outerHeight()+"px")}else{this.responsiveVars.accordions=true;this.widget.attr("data-ss-responsive-type","accordions");this.widget.css("min-height","0")}};return{init:function(c,d){return new a(c,d)}}})();