<html>
	<head>
		<title>Soysauce - Widgets</title>
		<link rel="stylesheet" href="assets/soysauce.css">
		<link rel="stylesheet" href="assets/main.css">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	</head>
	<body class="widgets">
		<header>
			<a class="title" href="/site/home.html"><img src="assets/images/icon.png"><span>Soysauce</span></a>
			<nav>
				<a href="/site/home.html">Home</a>
				<a class="active">Widgets</a>
				<a href="/site/demos.html">Demos</a>
				<a href="/site/contribute.html">Contribute</a>
			</nav>
			<a class="github" target="_blank" href="https://github.com/brandingbrand/soysauce/issues?state=open">Report an Issue</a>
		</header>
		<div class="wrapper">
			<div class="content">
				<section>
					<h1>Widgets</h1>
					<article>
						<p>Widgets should be both easy to use and easy to debug. There should be very little to no JS required to get them to work. Below is the complete API for each widget along with examples and demos.</p>
					</article>
				</section>
				<section class="api">
					<h1>API</h1>
					<article>
						<aside>
							<ul data-ss-widget="toggler" data-ss-options="tabs nocollapse" data-ss-state="open">
								<li data-ss-component="button" data-ss-state="open">Basics</li>
								<li data-ss-component="button">Carousel</li>
								<li data-ss-component="button">Toggler</li>
								<li data-ss-component="button">Lazyloader / Lateloading</li>
								<li data-ss-component="button">Auto-detect CC</li>
								<li data-ss-component="button">Auto-fill Zip</li>
								<li data-ss-component="button">Autosuggest</li>
								<li data-ss-component="button">Input Clear</li>
							</ul>
						</aside>
						<div class="apiCarousel" data-ss-widget="carousel" data-ss-options="finite noswipe fade">
							<div class="basics" data-ss-component="item">
								<section>
									<h2>Basics</h2>
									<div class="description">
										<h3>Description</h3>
										<article>
											<p>This section will expose a few common function calls between all widgets.</p>
										</article>
									</div>
									<div class="functions">
										<h3>Functions</h3>
										<article>
											<ul>
												<li><span class="snippet">soysauce.fetch(id or CSS selector)</span> - Use this function to obtain information about a widget; An ID is placed on every widget that contains the [data-ss-widget] attribute</li>
												<li><span class="snippet">soysauce.init(CSS selector or Element)</span> - Use this function on an element containing the [data-ss-widget] attribute to initialize the widget; Soysauce will initialize it depending on the value</li>
												<li><span class="snippet">soysauce.widgets</span> - Returns an object that contains all the initialized widgets</li>
												<li><span class="snippet">soysauce.browserInfo</span> - Returns an object that contains helpful browser information such as the user agent, local/session storage support, and SVG support</li>
												<li><span class="snippet">soysauce.vars.degrade</span> - Programmatically determine if the current browser is degraded</li>
											</ul>
										</article>
									</div>
									<div class="events">
										<h3>Callback Events</h3>
										<article>
											<ul>
												<li><span class="snippet">SSWidgetReady</span> - Called on the element after the widget has been initialized</li>
											</ul>
										</article>
									</div>
									<div class="variables">
										<h3>Useful Variables</h3>
										<article>
											<ul>
											  <li><span class="snippet">type</span> - The type of widget; returns a string</li>
												<li><span class="snippet">id</span> - The ID of the widget; used for fetching and exists on every widget (even orphan togglers)</li>
												<li><span class="snippet">widget</span> - The widget selector; widget events are usually fired on this; simply a cached jQuery selector for this widget</li>
												<li><span class="snippet">initialized</span> - the first check to see if a widget is initialized; if not, you will need to wait on the "SSWidgetReady" event which is fired on the widget</li>
											</ul>											
										</article>
									</div>
									<div class="example">
										<h3>Example</h3>
										<article>
											<p>Open up your inspector and try a function for yourself. Ex. <span class="snippet">soysauce.fetch("<em>.apiCarousel</em>")</span>. This function call returns a carousel object (this API section).</p>
										</article>
									</div>
								</section>
							</div>
							<div class="carousel" data-ss-component="item">
								<section>
									<h2>Carousel</h2>
									<div class="description">
										<h3>Description</h3>
										<article>
											<p>Carousels are simply fancy display containers. They usually hold images, but can be used for content (such as this API section).</p>
										</article>
									</div>
									<div class="required">
										<h3>Required Attributes</h3>
										<article><pre class="prettyprint"><xmp>1) data-ss-widget="carousel"
   Specifies the widget type, add to the container
2) data-ss-component="item"
   Specifies the component type, add to each item</xmp></pre>
										</article>
									</div>
									<div class="optional">
										<h3>Optional Attributes</h3>
										<article>
<pre class="prettyprint"><xmp>1) data-ss-options="option1 option2 option3"
   Provides different widget variations
2) data-ss-autoscroll-interval="x"
   Autoscroll timing delay; default is "5000"
3) data-ss-peek-width="x"
   Peek Width pixels (per side); default is "20"
4) data-ss-peek-align="left"
   Aligns the peek carousel to the left; default is "center" ("right" not available)
5) data-ss-multi-set="x"
   Defines the num. of items with the 'multi' option; default is 2
6) data-ss-zoom-min="x"
   Defines the minimum zoom scale; default is 1.2
7) data-ss-zoom-max="x"
   Defines the maxmimum zoom scale; default is 4
8) data-ss-zoom-src="new_src"
   Place this on the image to request a new zoomed image</xmp></pre>
											<p class="note">Note: Carousel optional attributes are placed on the widget container</p>
										</article>
									</div>
									<div class="options">
										<h3>Options</h3>
										<article>
											<p>Options add variation to the widget; it can vary styling, animation, or functionality.</p>
											<ul>
												<li><span class="snippet">peek</span> - Allows the carousel to show a preview of the previous/next item</li>
												<li><span class="snippet">finite</span> - Carousel will not loop</li>
												<li><span class="snippet">autoscroll</span> - Timer-based scrolling; default is 5000ms</li>
												<li><span class="snippet">zoom</span> - Allows the carousel to zoom the item</li>
												<li><span class="snippet">pinch</span> - Must be paired with the zoom option; allows for the user to adjust the zoom modifier <span class="warn">(buggy)</span></li>
												<li><span class="snippet">noswipe</span> - User cannot perform swipe gestures on the carousel</li>
												<li><span class="snippet">cms</span> - Processes a CMS carousel <span class="warn">(soon to be deprecated)</span></li>
												<li><span class="snippet">thumbs</span> - Carousel will use images as thumbnails for navigation <span class="alert">(untested)</span></li>
												<li><span class="snippet">multi</span> - Allows for the carousel to show multiple items per screen</li>
												<li><span class="snippet">nofullscreen</span> - Halts resizing of items <span class="alert">(untested)</span></li>
												<li><span class="snippet">autoheight</span> - Automatically adjusts height of carousel</li>
											</ul>
										</article>
									</div>
									<div class="functions">
										<h3>Functions</h3>
										<article>
											<ul>
												<li><span class="snippet">carousel.slideForward()</span> - Use this function to slide to the next item in the carousel</li>
												<li><span class="snippet">carousel.slideBackward()</span> - Use this function to slide to the previous item in the carousel</li>
												<li><span class="snippet">carousel.jumpTo(<em>index</em>)</span> - Use this function to slide to the specified, zero-based index in the carousel</li>
											</ul>
										</article>
									</div>
									<div class="events">
										<h3>Callback Events</h3>
										<article>
											<ul>
												<li><span class="snippet">slideEnd</span> - This event is fired on the carousel after a transition to another item has occurred</li>
											</ul>											
										</article>
									</div>
									<div class="variables">
										<h3>Useful Variables</h3>
										<article>
											<ul>
												<li><span class="snippet">index</span> - The current index of the carousel (zero-based); will be offset +1 if the carousel is infinite</li>
											</ul>											
										</article>
									</div>
									<div class="example">
										<h3>Example 1 - Peek Carousel</h3>
										<article>
<pre class="prettyprint"><xmp><div data-ss-widget="carousel" data-ss-options="peek">
  <div data-ss-component="item">
    <img src="image1.jpg">
  </div>
  <div data-ss-component="item">
    <img src="image2.jpg">
  </div>
  <div data-ss-component="item">
    <img src="image3.jpg">
  </div>
</div></xmp></pre>
										</article>
									</div>
								</section>
							</div>
							<div class="toggler" data-ss-component="item">
								<section>
									<h2>Toggler</h2>
									<div class="description">
										<h3>Description</h3>
										<article>
											<p>There are two main parts to a toggler: the button and its associated content. When a button is clicked/tapped, this changes the state of the content. Generally, we use togglers to show/hide content.</p>
										</article>
									</div>
									<div class="required">
										<h3>Required Attributes</h3>
										<article>
<pre class="prettyprint"><xmp>1) data-ss-widget="toggler"
   Specifies the widget type, add to the container
2) data-ss-component="button"
   Specifies the button component of the widget
3) data-ss-component="content"
   Specifies the button content of the widget
4) data-ss-toggler-id="ID"
   Creates an association between the button and content
   Replaces the container attribute requirement (see example below)</xmp></pre>
										</article>
									</div>
									<div class="optional">
										<h3>Optional Attributes</h3>
										<article>
<pre class="prettyprint"><xmp>1) data-ss-options="option1 option2 option3"
   Provides different widget variations
2) data-ss-ajax-url="x"
   Used with the ajax option; place this on the "content" component
3) data-ss-responsive-width="x"
   Used with the responsive option; threshold that toggles the 
   [data-ss-responsive-type] attribute from "accordion" to "tabs"
4) data-ss-state="open"
   If placed on the widget and a button, the toggler will know
   to keep the button/content opened on initialization</xmp></pre>
										</article>
									</div>
									<div class="options">
										<h3>Options</h3>
										<article>
											<p>Options add variation to the widget; it can vary styling, animation, or functionality.</p>
											<ul>
												<li><span class="snippet">tabs</span> - Only one content component can be open at a time per group</li>
												<li><span class="snippet">nocollapse</span> - Used with tabs; allows for the button/content group to not collapse if a tab is opened</li>
												<li><span class="snippet">slide</span> - Toggler will use a slide open animation</li>
												<li><span class="snippet">ajax</span> - Information is ajax'ed into the content with the [data-ss-ajax-url] attribute</li>
												<li><span class="snippet">responsive</span> - Allows for the developer to account for both mobile and tablet/desktop with accordions and tabs using the same data</li>
											</ul>
										</article>
									</div>
									<div class="functions">
										<h3>Functions</h3>
										<article>
											<ul>
												<li><span class="snippet">toggler.toggle()</span> - Use this function to toggle the toggler open or closed</li>
											</ul>
										</article>
									</div>
									<div class="events">
										<h3>Callback Events</h3>
										<article>
											<ul>
												<li><span class="snippet">SSAjaxComplete</span> - This event is fired on the toggler after the ajax call returns (success or failure)</li>
											</ul>
										</article>
									</div>
									<div class="variables">
										<h3>Useful Variables</h3>
										<article>
											<ul>
												<li><span class="snippet">opened</span> - A boolean which tells you if the toggler is opened</li>
											</ul>											
										</article>
									</div>
									<div class="example">
										<h3>Example 1 - Slide-animated Toggler (with one open at a time)</h3>
										<article>
<pre class="prettyprint"><xmp><div data-ss-widget="toggler" data-ss-options="tabs slide">
  <div data-ss-component="button">Button1</div>
  <div data-ss-component="content">
   ...	
  </div>
  <div data-ss-component="button">Button2</div>
  <div data-ss-component="content">
   ...	
  </div>
  <div data-ss-component="button">Button3</div>
  <div data-ss-component="content">
   ...	
  </div>
</div></xmp></pre>
										<h3>Example 2 - Orphan Toggler (no parent container)</h3>
										<article>
<pre class="prettyprint"><xmp><div data-ss-component="button" data-ss-toggler-id="menu">...</div>
<div data-ss-component="content" data-ss-toggler-id="menu">
 ...
</div></xmp></pre>
										</article>
									</div>
								</section>
							</div>
							<div class="lazyloader" data-ss-component="item">
								<section>
									<h2>Lazyloader / Lateloading</h2>
									<div class="description">
										<h3>Description</h3>
										<article>
											<p>The lazyloader widget allows for images to actively be requested. It's primary use is for optimization so that the page does not request these images on page load. As the image enters the window's threshold, the image will be loaded.</p>
										</article>
									</div>
									<div class="required">
										<h3>Required Attributes</h3>
										<article>
<pre class="prettyprint"><xmp>1) data-ss-widget="lazyloader"
   Specifies the widget type, add to the container
2) data-ss-component="item"
   Specifies the button component of the widget
3) data-ss-ll-src="src"
   Use this attribute instead of the "src" attribute</xmp></pre>
										</article>
									</div>
									<div class="optional">
										<h3>Optional Attributes</h3>
										<article>
<pre class="prettyprint"><xmp>1) data-ss-options="option1 option2 option3"
   Provides different widget variations
2) data-ss-threshold="x"
   Threshold from bottom of container to autoload new images;
   Default is 100 (in pixels)
3) data-ss-initial-load="x"
   Number of images to load initially; default is 10
4) data-ss-batch-size="x"
   Number of images to load per batch; default is 5</xmp></pre>
										</article>
									</div>
									<div class="options">
										<h3>Options</h3>
										<article>
											<ul>
												<li><span class="snippet">autoload</span> - Auto-processes the next batch once the user reaches the threshold</li>
											</ul>											
										</article>
									</div>
									<div class="events">
										<h3>Callback Events</h3>
										<article>
											<ul>
												<li><span class="snippet">SSBatchStart</span> - This event is fired on the widget when a batch request is made</li>
												<li><span class="snippet">SSBatchLoaded</span> - This event is fired on the widget when the batch is loaded</li>
												<li><span class="snippet">SSItemsEmpty</span> - This event is fired after there are no more items to load; use this event to obtain more items</li>
											</ul>
										</article>
									</div>
									<div class="functions">
										<h3>Functions</h3>
										<article>
											<ul>
											  <li><span class="snippet">lazyloader.reload()</span> - After adding more items to the container (ex. ajax'd pagination), call this function to invoke continuation of lazyloading.</li>
											</ul>
										</article>
									</div>
									<div class="example">
										<h3>Example 1 - Auto Lazyloader</h3>
										<article>
<pre class="prettyprint"><xmp><div data-ss-widget="lazyloader" data-ss-options="autoload">
  <div data-ss-component="item">
    <img data-ss-ll-src="image1.jpg">
  </div>
  <div data-ss-component="item">
    <img data-ss-ll-src="image2.jpg">
  </div>
  <div data-ss-component="item">
    <img data-ss-ll-src="image3.jpg">
  </div>
</div></xmp></pre>
										</article>
										<h3>Example 2 - Image loaded on window's "load" event</h3>
										<article>
<pre class="prettyprint"><xmp><img data-ss-ll-src="image1.jpg" data-ss-options="load"></xmp></pre>
										</article>
									</div>
								</section>
							</div>
							<div class="autodetect-cc" data-ss-component="item">
								<section>
									<h2>Auto-detect Credit Card Type</h2>
									<div class="description">
										<h3>Description</h3>
										<article>
											<p>This widget is used to auto-select the card type. It combines both regex and Luhn's algorithm to determine the card number's validity and type.</p>
										</article>
									</div>
									<div class="required">
										<h3>Required Attributes</h3>
										<article>
<pre class="prettyprint"><xmp>1) data-ss-widget="autodetect-cc"
   Specifies the widget type, add to the input</xmp></pre>
										</article>
									</div>
									<div class="optional">
										<h3>Optional Attributes</h3>
										<article>
<pre class="prettyprint"><xmp>1) data-ss-options="option1 option2 option3"
   Provides different widget variations</xmp></pre>
										</article>
									</div>
									<div class="options">
										<h3>Options</h3>
										<article>
											<p>Options add variation to the widget; it can vary styling, animation, or functionality.</p>
											<ul>
												<li><span class="snippet">format</span> - Auto-formats the credit card number as the user types <span class="warn">(buggy with old androids)</span></li>
											</ul>
										</article>
									</div>
									<div class="events">
										<h3>Callback Events</h3>
										<article>
											<ul>
												<li><span class="snippet">SSPrediction</span> - This event is fired on the input when a prediction is ready</li>
												<li><span class="snippet">SSResult</span> - This event is fired on the input the final result is ready</li>
											</ul>
										</article>
									</div>
									<div class="variables">
										<h3>Useful Variables</h3>
										<article>
											<ul>
												<li><span class="snippet">prediction</span> - The widget's current prediction</li>
												<li><span class="snippet">result</span> - The widget's final result</li>
											</ul>											
										</article>
									</div>
									<div class="example">
										<h3>Example 1 - Basic Autodetect CC Type</h3>
										<article>
<pre class="prettyprint"><xmp><input type="tel" data-ss-widget="autodetect-cc"></xmp></pre>
										</article>
										<h3>Example 2 - Basic Callback Usage</h3>
										<article>
<pre class="prettyprint"><xmp>var input = soysauce.fetch(".cc-input");
	
input.widget.on("SSPrediction", function() {
  console.log("The prediction is: " + input.prediction);
});

input.widget.on("SSResult", function() {
  console.log("The final result is: " + input.result);
});
</xmp></pre>
										</article>
									</div>
								</section>
							</div>
							<div class="autofill-zip" data-ss-component="item">
								<section>
									<h2>Auto-fill Zip</h2>
									<div class="description">
										<h3>Description</h3>
										<article>
											<p>This widget auto-completes a city/state input from zip and can also reverse geocode a user's location (such as a store-locator implementation)</p>
										</article>
									</div>
									<div class="required">
										<h3>Required Attributes</h3>
										<article>
<pre class="prettyprint"><xmp>1) data-ss-widget="autofill-zip"
   Specifies the widget type, add to the container</xmp></pre>
										</article>
									</div>
									<div class="optional">
										<h3>Optional Attributes</h3>
										<article>
<pre class="prettyprint"><xmp>1) data-ss-options="option1 option2 option3"
   Provides different widget variations
2) data-ss-component="zip"
   Place on the zipcode input
3) data-ss-component="city"
   Place on the city input (not reverse)
3) data-ss-component="state"
   Place on state element (not reverse)
4) data-ss-component="reverse-geocode"
   Use this if you are reverse geocoding; the geocoding button</xmp></pre>
										</article>
									</div>
									<div class="options">
										<h3>Options</h3>
										<article>
											<p>Options add variation to the widget; it can vary styling, animation, or functionality.</p>
											<ul>
												<li><span class="snippet">reverse</span> - Use this if you're reverse geocoding</li>
											</ul>
										</article>
									</div>
									<div class="events">
										<h3>Callback Events</h3>
										<article>
											<ul>
												<li><span class="snippet">SSDataFetch</span> - This event is fired when the widget is fetching data; generally after a user clicks a button (if reverse) or enters a 5-digit zip code</li>
												<li><span class="snippet">SSDataReady</span> - This event is fired after the widget retrieves the data</li>
												<li><span class="snippet">SSDataError</span> - This event is fired if the widget could not retrieve successful data or an error occurs (such as invalid zip)
											</ul>											
										</article>
									</div>
									<div class="variables">
										<h3>Useful Variables</h3>
										<article>
											<ul>
												<li><span class="snippet">city</span> - The city after "SSDataReady" has fired (regular geocoding)</li>
												<li><span class="snippet">state</span> - The state after "SSDataReady" has fired (regular geocoding)</li>
												<li><span class="snippet">zip</span> - The zip after "SSDataReady" has fired (reverse geocoding)</li>
												<li><span class="snippet">lastRequestedData</span> - After "SSDataReady" is fired, this is the variable where it gets stored</li>
											</ul>											
										</article>
									</div>
									<div class="example">
										<h3>Example 1 - Autofill City/State from Zip</h3>
										<article>
<pre class="prettyprint"><xmp><div data-ss-widget="autofill-zip">
  <input data-ss-component="zip" type="tel" placeholder="Zip Code">
  <input data-ss-component="city" type="text" placeholder="City">
  <select data-ss-component="state">
    ...
  </select>
</div>
</xmp></pre>
										<h3>Example 2 - Reverse Geocoding</h3>
										<article>
<pre class="prettyprint"><xmp><div data-ss-widget="autofill-zip" data-ss-options="reverse">
  <div data-ss-component="reverse-geocode">Use Current Location</div>
  <input data-ss-component="zip" type="tel" placeholder="Zip Code">
</div></xmp></pre>
										</article>
										<h3>Example 3 - Basic Callback Usage</h3>
										<article>
<pre class="prettyprint"><xmp>var autofill = soysauce.fetch(".autofill");
	
autofill.widget.on("SSDataFetch", function() {
  console.log("here I can show some ajax image...");
});

autofill.widget.on("SSDataReady", function() {
  console.log("here I can hide the ajax image and post the results");
  console.log("the result city is: " + autofill.city);
  console.log("the result state is: " + autofill.state);
});

autofill.widget.on("SSDataError", function() {
  console.log("here I can hide the ajax image and post an error");
});
</xmp></pre>
										</article>
									</div>
								</section>
							</div>
							<div class="autosuggest" data-ss-component="item">
								<section>
									<h2>Autosuggest</h2>
									<div class="description">
										<h3>Description</h3>
										<article>
											<p>As the user types into the input box, suggestions from the specified json file are shown.</p>
										</article>
									</div>
									<div class="required">
										<h3>Required Attributes</h3>
										<article>
<pre class="prettyprint"><xmp>1) data-ss-widget="autosuggest"
   Specifies the widget type, add to the input

2) data-ss-suggest-json-file="[path-to-terms.json]"
   Specifies the json suggestion file</xmp></pre>
										</article>
									</div>
									<div class="events">
										<h3>Callback Events</h3>
										<article>
											<ul>
												<li><span class="snippet">SSAutoSuggested</span> - Fired on the element after the user has selected a suggestion, data contains the selected row from the json file</li>
											</ul>
										</article>
									</div>
									<div class="required">
										<h3>Suggestion JSON Format</h3>
										<article>
											<p>JSON Formatted array of terms, items can have any attributes as long as text is specified.<br>
The whole row is sent to the event so you can use the id, or any other attributes from the suggestion.</p>
<pre class="prettyprint"><xmp>
[
	{
		id: 0,
		text: "first term"
	},
	{
		id: 1,
		text: "second term",
		extraKeys: true
	}
]
</xmp></pre>
										</article>
									</div>
									<div class="example">
										<h3>Example</h3>
										<article>
<pre class="prettyprint"><xmp>
<input data-ss-widget="autosuggest" data-ss-suggest-json-file="assets/suggestTerms.json">

<script>
$(document).ready(function() {
    $(soysauce.fetch('#container [data-ss-widget="autosuggest"]').widget).on('SSAutoSuggested', function (e,d) {
        alert('Suggestion selected: ' + JSON.stringify(d.suggestion));
    });
});
</script></xmp></pre>
											<p>Selecting the second option would produce this output:<br>
											Suggestion selected: {"id":0,"text":"second term","extraKeys":true}</p>
									</div>
								</section>
							</div>
							<div class="inputClear" data-ss-component="item">
								<section>
									<h2>Input Clear</h2>
									<div class="description">
										<h3>Description</h3>
										<article>
											<p>As the user types into the input box, a "clear input" icon appears.</p>
										</article>
									</div>
									<div class="required">
										<h3>Required Attributes</h3>
										<article>
<pre class="prettyprint"><xmp>1) data-ss-widget="input-clear"
   Specifies the widget type, add to the input</xmp></pre>
										</article>
									</div>
									<div class="example">
										<h3>Example - Basic Input Clear</h3>
										<article>
<pre class="prettyprint"><xmp><input data-ss-widget="input-clear" type="text"></xmp></pre>
									</div>
								</section>
							</div>
						</div>
					</article>
				</section>
			</div>
		</div>
		<footer></footer>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script src="//google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
		<script src="assets/soysauce.min.js"></script>
		<script src="assets/site.js"></script>
		<script type="text/javascript">

		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-37029859-1']);
		  _gaq.push(['_trackPageview']);

		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();

		</script>
	</body>
</html>
