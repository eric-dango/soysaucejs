<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>lib/widgets/_carousel.js - SoysauceJS</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.8.0pr2/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <script src="http://yui.yahooapis.com/combo?3.8.0pr2/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            <h1><a href="../index.html"><img src="../assets/css/logo.png">SoysauceJS: lib/widgets/_carousel.js</a></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 2.0.0</em>
        </div>
    </div>
    <div class="yui3-g">

        <div id="sidebar" class="yui3-u">
            <div id="modules" class="sidebox">
    <div class="hd">
        <h2 class="no-toc">Modules</h2>
    </div>
    <div class="bd">
        <ul>
            
                <li><a href="../modules/soysauce.html">soysauce</a>
                
                </li>
            
        </ul>
    </div>
</div>

<div id="classes" class="sidebox">
    <div class="hd">
        <h2 class="no-toc">Classes</h2>
    </div>
    <div class="bd">
        <ul>
            
                <li><a href="../classes/Carousel.html">Carousel</a></li>
            
                <li><a href="../classes/Widget.html">Widget</a></li>
            
        </ul>
    </div>
</div>










<div id="fileTree" class="sidebox">
    <div class="hd">
        <h2 class="no-toc">Files</h2>
    </div>
    <div class="bd">
        <ul><li>lib/<ul><li><a href="../files/lib_head.js.html">head.js</a></li><li>widgets/<ul><li><a href="../files/lib_widgets__carousel.js.html">_carousel.js</a></li><li><a href="../files/lib_widgets_base.js.html">base.js</a></li></ul></li></ul></li></ul>
    </div>
</div>



        </div>

        <div id="main" class="yui3-u">
            <div class="content"><h4>lib/widgets/_carousel.js</h4>

<pre class="code prettyprint linenums">
/**
 * The Carousel widget.
 *
 * @class Carousel
 * @extends Widget
 */
var Carousel = Widget.extend({
  init: function() {
    var initBase = this._super.apply(this, arguments);
    var self = this;

    initBase.then(this._init.bind(this));

    return initBase;
  },

  _init: function() {
    // Core properties
    this.index = 0;
    this._$items = this.$.find(&#x27;[data-ss-component=&quot;item&quot;]&#x27;);
    this.itemWidth = this.$.outerWidth() / this._$items.length;
    this.translateX = 0;

    // Create Carousel structure
    this.$.wrapInner(&#x27;&lt;div data-ss-component=&quot;container&quot;&gt;&lt;/div&gt;&#x27;);
    this.$.wrapInner(&#x27;&lt;div data-ss-component=&quot;container_wrapper&quot;&gt;&lt;/div&gt;&#x27;);

    this._$container = this.$.find(&#x27;[data-ss-component=&quot;container&quot;]&#x27;);
    this._$wrapper = this.$.find(&#x27;[data-ss-component=&quot;container_wrapper&quot;]&#x27;);

    this._setupOptions();
  },

  _setupOptions: function() {
    var self = this;

    if (!this.hasOption(&#x27;finite&#x27;)) {
      // infinite logic
    }

    if (this.hasOption(&#x27;dots&#x27;)) {
      var i, l;
      var dotContainer = this.$.append(&#x27;&lt;div data-ss-component=&quot;dots&quot;&gt;&lt;/div&gt;&#x27;);

      for (i = 0, l = this._$items.length; i &lt; l; i++) {
        dotContainer.append(&#x27;&lt;button data-ss-component=&quot;dot&quot;&gt;&lt;/button&gt;&#x27;);
      }
    }

    if (this.hasOption(&#x27;buttons&#x27;)) {
      this.$.append(&#x27;&lt;div data-ss-component=&quot;button&quot; data-ss-button-type=&quot;next&quot;&gt;&lt;/div&gt;&#x27;);
      this.$.append(&#x27;&lt;div data-ss-component=&quot;button&quot; data-ss-button-type=&quot;prev&quot;&gt;&lt;/div&gt;&#x27;);
    }

    if (!this.hasOption(&#x27;noswipe&#x27;)) {
      // swipe logic
    }

    if (this.hasOption(&#x27;autoscroll&#x27;)) {
      this.options.autoscroll = this.options.autoscroll || {
        active: false,
        timer: null,
        delay: 3500
      };

      this.play = function() {
        window.clearInterval(this.options.autoscroll.timer);
        self.options.autoscroll.active = true;
        self.options.autoscroll.timer = window.setInterval(function() {
          self.index++;
          console.log(&#x27;forward&#x27;, self.index, self.translateX);
        }, self.options.autoscroll.delay);
      };

      this.pause = function() {
        window.clearInterval(self.options.autoscroll.timer);
        self.options.autoscroll.active = false;
      };
    }

    if (this.hasOption(&#x27;peek&#x27;)) {
      // peek logic
    }

    if (this.hasOption(&#x27;multi&#x27;)) {
      // multi logic
    }

    if (this.hasOption(&#x27;zoom&#x27;)) {
      // zoom logic
    }

    if (this.hasOption(&#x27;lazyload&#x27;)) {
      // lazyload logic
    }
  },

  /**
   * Removes handlers for its options. This is an optional method which is
   * called during &#x60;destroy()&#x60;.
   *
   * @method teardown
   * @optional
   */
  teardown: function() {
    if (this.hasOption(&#x27;autoscroll&#x27;)) {
      this.pause();
    }
  },

  validate: function() {
    var hasItems = this.$.find(&#x27;[data-ss-component=&quot;item&quot;]&#x27;).length &gt; 0;

    if (!hasItems) {
      throw new ValidationError(&#x27;Missing items&#x27;);
    }

    return true;
  }
});

Object.defineProperty(Carousel.prototype, &#x27;index&#x27;, {
  set: function(index) {
    this._index = index;
    this.translateX = index * this.itemWidth;
  },
  get: function() {
    return this._index;
  }
});

Object.defineProperty(Carousel.prototype, &#x27;containerWidth&#x27;, {
  set: function(width) {
    this._containerWidth = width;
    // change itemWidth
    // change translateX
  },
  get: function() {
    return this._containerWidth;
  }
});

</pre>

</div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/js/tabs.js"></script>
</body>
</html>
